<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Entorns de desenvolupament</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Entorns de desenvolupament">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Entorns de desenvolupament</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u2" class="parentnode"><p><a href="../../../WebContent/u2/introduccio.html">2. Optimització de programari</a></p><ul class="expander"><li id="u2introduccio"><a href="../../../WebContent/u2/introduccio.html">Introducció</a></li><li id="u2resum"><a href="../../../WebContent/u2/resum.html">Resum</a></li><li id="u2resultats"><a href="../../../WebContent/u2/resultats.html">Resultats d’aprenentatge</a></li><li id="u2referencies"><a href="../../../WebContent/u2/referencies.html">Referències</a></li><li id="u2a1" class="tocsection"><p id="u2a1continguts"><a href="../../../WebContent/u2/a1/continguts.html">Disseny i realització de proves de programari</a><span class="buttonexp"></span></p><ul><li id="u2a1activitats"><a href="../../../WebContent/u2/a1/activitats.html">Activitats</a></li><li id="u2a1exercicis"><a href="../../../WebContent/u2/a1/exercicis.html">Exercicis</a></li><li id="u2a1annexos"><a href="../../../WebContent/u2/a1/annexos.html">Annexos</a></li></ul></li><li id="u2a2" class="tocsection"><p id="u2a2continguts"><a href="../../../WebContent/u2/a2/continguts.html">Eines per al control i documentació de programari</a><span class="buttonexp"></span></p><ul><li id="u2a2activitats"><a href="../../../WebContent/u2/a2/activitats.html">Activitats</a></li><li id="u2a2exercicis"><a href="../../../WebContent/u2/a2/exercicis.html">Exercicis</a></li></ul></li></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Optimització de programari </a></li><li>Eines per al control i documentació de programari</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="eines_per_al_control_i_documentacio_de_programari"> Eines per al control i documentació de programari </a></h1>
    	
<p>
Què és més important, dedicar el menor temps possible en el desenvolupament d’una aplicació informàtica (i estalviar-nos tot el cost possible d’un programador), o bé desenvolupar la mateixa aplicació amb un codi font molt més optimitzat i preparat per a futurs canvis (havent-hi dedicat més esforç)?
</p>

<p>
En el procés de desenvolupament de programari és molt important tenir en compte certes directrius molt recomanables que, d’altra banda, moltes vegades no se segueixen per falta de cultura i per la idea equivocada que el fet de seguir-les elevarà els costos a nivell de temps.
</p>

<p>
Què costa tenir un programari desenvolupat de forma òptima? Si un programari fa el que ha de fer, és eficaç i és eficient, per què cal que sigui òptim? A més, si el desenvolupament d’un programari fet amb presses pot estalviar temps de programadors, i el temps sempre és valorable en diners, per què s’ha d’invertir a desenvolupar de forma òptima?
</p>

<p>
Les raons són moltes. Sempre costarà el mateix fer les coses mal fetes que fer-les ben fetes, si t’has acostumat a fer-les ben fetes des d’un principi i ho has après així. En un futur, el manteniment i les possibles ampliacions del programari seran molt més costoses si has intentat estalviar en temps abans.
</p>

<p>
Què significa programar de forma òptima? Hi ha moltes coses a tenir en compte i es poden trobar molts consells al respecte. 
</p>

<h2><a id="refaccio" >Refacció</a></h2>
<div class="level2">

<p>
En desenvolupar una aplicació cal tenir molt presents alguns aspectes del codi de programació que s’anirà implementant. Hi ha petits aspectes que permetran que aquest codi sigui considerat més òptim o que facilitaran el seu manteniment. Per exemple, un d’aquests aspectes serà la utilització de constants. Si hi ha un valor que es farà servir diverses vegades al llarg d’un determinat programa, és millor utilitzar una constant que contingui aquest valor, d’aquesta manera, si el valor canvia només s’haurà de modificar la definició de la constant i no caldrà anar-lo cercant per tot el codi desenvolupat ni recordar quantes vegades s’ha fet servir.
</p>

<p>
A continuació, es mostra un exemple molt senzill per entendre a què es fa referència quan es parla d’optimitzar el codi font:
</p>

<p>

</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">Class</span> CalculCostos <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">Public</span> <span class="kw1">static</span> <span class="kw4">double</span> CostTreballadors <span class="br0">&#40;</span><span class="kw4">double</span> NreTreballadors<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">Return</span> <span class="nu0">1200</span> <span class="sy0">*</span> NreTreballadors<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
Al codi anterior es mostra un exemple de com seria la codificació d’una classe que té com a funció el càlcul dels costos laborals totals d’una empresa. Es pot veure que el cost per treballador no es troba a cap variable ni a cap constant, sinó que el mètode CostTreballadors retorna el valor que ha rebut per paràmetre (<code>NreTreballadors</code>) per un nombre que considera el salari brut per treballador (en aquest cas suposat 1200 euros). Probablement, aquest import es farà servir a més classes al llarg del codi de programació desenvolupat o, com a mínim, més vegades dins la mateixa classe. 
</p>

<p>
Com quedaria el codi una vegada aplicada la refacció? Es pot veure a continuació:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">Class</span> CalculCostos <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">final</span> <span class="kw4">double</span> SALARI_BRUT<span class="sy0">=</span> <span class="nu0">1200</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">Public</span> <span class="kw1">static</span> <span class="kw4">double</span> CostTreballadors <span class="br0">&#40;</span><span class="kw4">double</span> NreTreballadors<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">      <span class="kw1">Return</span> SALARI_BRUT<span class="sy0">*</span> NreTreballadors<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
Aquest és un exemple del que s’entén per refacció.
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
El terme <em>refacció</em> fa referència als canvis efectuats al codi de programació desenvolupat, sense implicar cap canvi en els resultats de la seva execució. És a dir, es transforma el codi font mantenint intacte el seu comportament, aplicant els canvis només en la forma de programar o en l’estructura del codi font, cercant la seva optimització.
</p>
</div></div><div class="iocnote"><div class="ioccontent">
<p>
El terme refacció va ser utilitzat per primera vegada per William F. Opdyke a la seva tesi doctoral, l’any 1992, a la Universitat d’Illinois.
</p>
</div></div>
<p>
A la <span class="figref"><a href="#Figure20"><span>figura</span></a></span> es pot veure un exemple del que es vol expressar. Quina de les dues cases facilita més la vida dels seus inquilins? Si s’hagués de desenvolupar una aplicació informàtica, a quina de les dues cases s’hauria d’assemblar més, a la de l’esquerra o a la de la dreta?
</p>
<div class="iocfigure"><a name="Figure20"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Disseny d’una casa

</figcaption><img src="../media/ic10m05u2_23.png" alt="" /></figure>
</div>
<p>
Possiblement les dues cases compleixen les especificacions inicials, edifici en què es pugui viure, però sembla que la primera casa serà més confortable i més òptima.
</p>

<p>
El terme refacció prové del terme refactoritzar (<em>refactoring</em>). Aquest terme esdevé de la seva similitud amb el concepte de factorització dels nombres o dels polinomis. És el mateix tenir 12 que tenir 3 × 4, però, en el segon cas, el terme 12 està dividit en els seus factors (encara es podria factoritzar més i arribar al 3 × 2 × 2). Un altre exemple: el polinomi de segon grau <span class="inlinelatex"><img src="../media/imgb796bc7bf7c0985bbba076868e986e5d.png" /></span> és el mateix que el resultat del producte (<em>x</em> + 1)(<em>x</em> — 1), però en el segon cas s’ha dividit en factors. A l’hora de simplificar o de fer operacions, serà molt més senzill el treball amb el segon cas (amb els termes ja factoritzats) que amb el primer. Amb la factorització apareixen uns termes, uns valors, que inicialment es troben ocults, encara que formen part del concepte inicial.
</p>

<p>
En el cas de la programació succeeix una situació molt similar. Si bé el codi que es desenvolupa no està factoritzat, és a dir, no se’n veuen a simple vista els factors interns, perquè són estructures que aparentment es troben amagades, quan es du a terme una refacció del codi font sí que es poden veure. 
</p>

</div>

<h3><a id="avantatges_i_limitacions_de_la_refaccio" >Avantatges i limitacions de la refacció</a></h3>
<div class="level3">

<p>
La utilització de la refacció pot aportar alguns avantatges als desenvolupadors de programari, però cal tenir en compte que té limitacions que cal conèixer abans de prendre la decisió d’utilitzar-la.
</p>

</div>

<h4><a id="avantatges_de_la_refaccio" >Avantatges de la refacció</a></h4>
<div class="level4">

<p>
Hi ha molts avantatges en la utilització de la refacció, tot i que també hi ha inconvenients i algunes limitacions. Per què els programadors dediquen temps a la refacció del codi font? Una de les respostes a aquesta pregunta és l’augment de la qualitat del codi font. Un codi font sobre el qual s’han utilitzat tècniques de refacció es mantindrà en un estat millor que un codi font sobre el qual no s’hagin aplicat. A mesura que un codi font original s’ha anat modificant, ampliant o mantenint, haurà patit modificacions en l’estructura bàsica sobre la qual es va dissenyar, i és cada vegada més difícil efectuar evolutius i augmenta la probabilitat de generar errors.
</p>

<p>

</p>

<p>
Alguns dels avantatges o raons per utilitzar la tècnica de refacció del codi font són:
</p>
<ul>
<li class="level1"><div class="li"> Prevenció de l’aparició de problemes habituals a partir dels canvis provocats pels manteniments de les aplicacions.</div>
</li>
<li class="level1"><div class="li"> Ajuda a augmentar la simplicitat del disseny.</div>
</li>
<li class="level1"><div class="li"> Major enteniment de les estructures de programació.</div>
</li>
<li class="level1"><div class="li"> Detecció més senzilla d’errors.</div>
</li>
<li class="level1"><div class="li"> Permet agilitzar la programació.</div>
</li>
<li class="level1"><div class="li"> Genera satisfacció en els desenvolupadors.</div>
</li>
</ul>

<p>
A continuació, es desenvolupen alguns d’aquests punts forts de la utilització de la refacció:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Detecció i prevenció més senzilla d’errors</strong>. La refacció millora la robustesa del codi font desenvolupat, fent que sigui més senzill trobar errors en el codi o trobar parts del codi que siguin més propenses a tenir o provocar errors en el conjunt del programari. A partir de la utilització de casos de prova adequats, es podrà millorar molt el codi font.</div>
</li>
<li class="level1"><div class="li"> <strong>Prevenció de problemes per culpa dels manteniments del programari</strong>. Amb el temps, acostumen a sorgir problemes a mesura que es va aplicant un manteniment evolutiu o un manteniment correctiu de les aplicacions informàtiques. Alguns exemples d’aquests problemes poden ser que el codi font es torni més complex d’entendre del que seria necessari o que hi hagi duplicitat de codi, pel fet que, moltes vegades, són persones diferents les que han desenvolupat el codi de les que estan duent a terme el manteniment. </div>
</li>
<li class="level1"><div class="li"> <strong>Comprensió del codi font i simplicitat del disseny</strong>. Tornant a la situació en què un equip de programació pot estar compost per un nombre determinat de persones diferents o que el departament de manteniment d’una empresa és diferent a l’equip de desenvolupament de nous projectes, és molt important que el codi font sigui molt fàcil d’entendre i que el disseny de la solució hagi estat creat amb una simplicitat considerable. Cal que el disseny es dugui a terme tenint en compte que es farà una posterior refacció, és a dir, tenint presents possibles necessitats futures de l’aplicació que s’està creant. Aquesta tasca no és gens senzilla, però amb un bon i exhaustiu anàlisi, per mitjà de moltes converses amb els usuaris finals, es podran arribar a entreveure aquestes necessitats futures.</div>
</li>
<li class="level1"><div class="li"> <strong>Programació més ràpida</strong>. Precisament, si el codi es comprèn d’una forma ràpida i senzilla, l’evolució de la programació serà molt més ràpida i eficaç. El disseny dut a terme a la fase anterior també serà decisiu en el fet que la programació sigui més àgil.</div>
</li>
</ul>

</div>

<h4><a id="limitacions_de_la_refaccio" >Limitacions de la refacció</a></h4>
<div class="level4">

<p>

</p>

<p>
En canvi, es poden trobar diverses raons per no considerar adient la seva utilització, ja sigui per les seves limitacions o per les possibles problemàtiques que poden sorgir:
</p>
<ul>
<li class="level1"><div class="li"> Personal poc preparat per utilitzar les tècniques de la refacció.</div>
</li>
<li class="level1"><div class="li"> Excés d’obsessió per aconseguir el millor codi font.</div>
</li>
<li class="level1"><div class="li"> Excessiva dedicació de temps a la refacció, provocant efectes negatius.</div>
</li>
<li class="level1"><div class="li"> Repercussions en la resta del programari i de l’equip de desenvolupadors quan un d’ells aplica tècniques de refacció.</div>
</li>
<li class="level1"><div class="li"> Possibles problemes de comunicació provocats pel punt anterior.</div>
</li>
<li class="level1"><div class="li"> Limitacions degudes a les bases de dades, interfícies gràfiques…</div>
</li>
</ul>

<p>
Alguns d’aquests punts febles relacionats amb la utilització de la refacció queden desenvolupats a continuació:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Dedicació de temps</strong>. Una actitud obsessiva amb la refacció podrà portar a un efecte contrari al que es cerca: dedicar molt més temps del que caldria a la creació de codi i augmentar la complexitat del disseny i de la programació innecessàriament.</div>
</li>
<li class="level1"><div class="li"> <strong>Afectar o generar problemes a la resta de l’equip de programació</strong>. Una refacció d’un programador pot generar problemes a altres components de l’equip de treball, en funció d’on s’hagi dut a terme aquesta refacció. Si només afecta a una classe o a alguns dels seus mètodes, la refacció serà imperceptible a la resta dels seus companys. Però quan afecta a diverses classes, podrà alterar d’altre codi font que hagi estat desenvolupat o s’està desenvolupant per part d’altres companys. Aquest problema només es pot solucionar amb una bona comunicació entre els components de l’equip de treball o amb una refacció sincronitzada des dels responsables del projecte, mantenint informats els afectats.</div>
</li>
<li class="level1"><div class="li"> <strong>Limitacions degudes a les bases de dades</strong>. La refacció té algunes limitacions o àrees conflictives, com ara les bases de dades o les interfícies gràfiques. En el cas de les bases de dades, és un problema el fet que els programes que es desenvolupen actualment estiguin tan lligats a les seves estructures. En el cas d’haver-hi modificacions relacionades amb la refacció en el disseny de la base de dades vinculada a una aplicació, caldria dur a terme moltes accions que complicarien aquesta actuació: caldria anar a la base de dades, efectuar els canvis estructurals adients, fer una migració de les dades cap al nou sistema i adaptar de nou tot allò de l’aplicació relacionat amb les dades (formularis, informes…). </div>
</li>
<li class="level1"><div class="li"> <strong>Interfícies gràfiques</strong>. Una segona limitació es troba amb les interfícies gràfiques d’usuari. Les noves tècniques de programació han facilitat la independència entre els diferents mòduls que componen les aplicacions. D’aquesta manera, es podrà modificar el contingut del codi font sense haver de fer modificacions en la resta de mòduls, com per exemple, en les interfícies. El problema amb la refacció vinculat amb les interfícies gràfiques radica en el fet que si aquesta interfície ha estat publicada en molts usuaris clients o si no es té accessibilitat al codi que la genera, serà pràcticament impossible actuar sobre ella.</div>
</li>
</ul>
<div class="iocimportant"><div class="ioccontent">
<p>
La <strong>refacció</strong> es considera un aspecte molt important per al desenvolupament d’aplicacions mitjançant programació extrema.
</p>
</div></div>
</div>

<h3><a id="patrons_de_refaccio_mes_usuals" >Patrons de refacció més usuals</a></h3>
<div class="level3">

<p>
Els patrons, en un context de programació, ofereixen una solució durant el procés de desenvolupament de programari a un tipus de problema o de necessitat estàndard que pot donar-se en diferents contextos. El patró donarà una resolució a aquest problema, que ja ha estat acceptada com a solució bona, i que ja ha estat batejada amb un nom. 
</p>
<div class="iocnote"><div class="ioccontent">
<p>
El patrons es poden trobar a totes les versions d’Eclipse per als diferents sistemes operatius (Windows, Linux i MacOS).
</p>
</div></div>
<p>
Per altra banda, ja ha quedat definida la refacció com a adaptacions del codi font sense que això provoqui canvis en les operacions del programari. Si s’uneixen aquests dos conceptes es poden trobar alguns patrons existents. 
</p>

<p>
Com es pot observar a la <span class="figref"><a href="#Figure21"><span>figura</span></a></span>, tots els patrons es poden dur a terme per mitjà de l’assistent d’Eclipse.
</p>
<div class="iocfigure"><a name="Figure21"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Eclipse: refactorització

</figcaption><img src="../media/ic10m05u2_24.png" alt="" /></figure>
</div>
<p>

</p>

<p>
Els patrons més habituals són els següents:
</p>
<ul>
<li class="level1"><div class="li"> Reanomenar </div>
</li>
<li class="level1"><div class="li"> Moure</div>
</li>
<li class="level1"><div class="li"> Extreure una variable local</div>
</li>
<li class="level1"><div class="li"> Extreure una constant</div>
</li>
<li class="level1"><div class="li"> Convertir una variable local en un camp</div>
</li>
<li class="level1"><div class="li"> Extreure una interfície</div>
</li>
<li class="level1"><div class="li"> Extreure el mètode</div>
</li>
</ul>

</div>

<h4><a id="reanomenar" >Reanomenar</a></h4>
<div class="level4">

<p>
Aquest patró canvia el nom de variables, classes, mètodes, paquets… tot tenint en compte les seves referències.
</p>

<p>
En l’exemple de la <span class="figref"><a href="#Figure22"><span>figura</span></a></span>, es reanomena el mètode factorial amb el nom <code>calculFactorial</code>.
</p>
<div class="iocfigure"><a name="Figure22"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Eclipse refactorització: reanomenar

</figcaption><img src="../media/ic10m05u2_25.png" alt="" /></figure>
</div>
</div>

<h4><a id="moure" >Moure</a></h4>
<div class="level4">

<p>
Aquest patró mou un mètode d’una classe a una altra; mou una classe d’un paquet a un altre… tot tenint en compte les seves referències.
</p>

<p>
En l’exemple de la <span class="figref"><a href="#Figure23"><span>figura</span></a></span>, mou la funció principal (<code>main</code>), que es troba en la classe <code>Factorial</code>, cap a la classe <code>Temp</code>.
</p>
<div class="iocfigure"><a name="Figure23"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Eclipse refactorització: moure

</figcaption><img src="../media/ic10m05u2_26.png" alt="" /></figure>
</div>
</div>

<h4><a id="extreure_una_variable_local" >Extreure una variable local</a></h4>
<div class="level4">

<p>
Donada una expressió, aquest patró li assigna una variable local; qualsevol referència a l’expressió en l’àmbit local serà substituïda per la variable.
</p>

<p>
En l’exemple, s’assigna l’expressió <code>“El factorial de ”</code> com el valor de la variable <code>text</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw4">int</span> nre <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		nre <span class="sy0">=</span> <span class="nu0">5</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li></ol></pre>

<p>
El codi refactoritzat és el que es mostra a continuació:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw4">int</span> nre <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> text <span class="sy0">=</span> <span class="st0">&quot;El factorial de &quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>text <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		nre <span class="sy0">=</span> <span class="nu0">5</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>text <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li></ol></pre>

</div>

<h4><a id="extreure_una_constant" >Extreure una constant</a></h4>
<div class="level4">

<p>
Donada una cadena de caràcters o un valor numèric, aquest patró el converteix en una constant, i qualsevol referència serà substituida per la constant.
</p>

<p>
En l’exemple, s’assigna l’expressió <code>“El factorial de ”</code> com el valor de la constant <code>TEXT</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw4">int</span> nre <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		nre <span class="sy0">=</span> <span class="nu0">5</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li></ol></pre>

<p>
El codi refactoritzat és el que es mostra a continuació:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">	<span class="kw1">private</span> <span class="kw1">static</span> <span class="kw1">final</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> TEXT <span class="sy0">=</span> <span class="st0">&quot;El factorial de &quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw4">int</span> nre <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>TEXT <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		nre <span class="sy0">=</span> <span class="nu0">5</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>TEXT <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li></ol></pre>

</div>

<h4><a id="convertir_una_variable_local_en_un_camp" >Convertir una variable local en un camp</a></h4>
<div class="level4">

<p>
Donada una variable local, aquest patró la converteix en atribut de la classe; qualsevol referència serà substituïda pel nou atribut.
</p>

<p>
En l’exemple següent es converteix la variable local <code>nre</code> en un atribut de la classe <code>Factorial</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> Factorial <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">double</span> calculFactorial <span class="br0">&#40;</span><span class="kw4">double</span> n<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">if</span> <span class="br0">&#40;</span>n<span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">else</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">			<span class="kw4">double</span> resultat <span class="sy0">=</span> n <span class="sy0">*</span> calculFactorial<span class="br0">&#40;</span>n<span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> resultat<span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw4">int</span> nre <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		nre <span class="sy0">=</span> <span class="nu0">5</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
El codi refactoritzat és el que es mostra a continuació:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> Factorial <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">private</span> <span class="kw1">static</span> <span class="kw4">int</span> nre<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">double</span> calculFactorial <span class="br0">&#40;</span><span class="kw4">double</span> n<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">if</span> <span class="br0">&#40;</span>n<span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">else</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">			<span class="kw4">double</span> resultat <span class="sy0">=</span> n <span class="sy0">*</span> calculFactorial<span class="br0">&#40;</span>n<span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> resultat<span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		nre <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		nre <span class="sy0">=</span> <span class="nu0">5</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot; és &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

</div>

<h4><a id="extreure_una_interficie" >Extreure una interfície</a></h4>
<div class="level4">
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Interfície</p>
<p>
Una interfície és un conjunt de mètodes abstractes i de propietats. En les propietats s’especifica què s’ha de fer, però no la seva implementació. Seran les classes que implementin aquestes interfícies les que descriguin la lògica del comportament dels mètodes.
</p>
</div></div>
<p>
Aquest patró crea una interfície amb els mètodes d’una classe.
</p>

<p>
En l’exemple es crea la interfície de la classe <code>Factorial</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> Factorial <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">double</span> calculFactorial <span class="br0">&#40;</span><span class="kw4">double</span> n<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">if</span> <span class="br0">&#40;</span>n<span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">else</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">			<span class="kw4">double</span> resultat <span class="sy0">=</span> n <span class="sy0">*</span> calculFactorial<span class="br0">&#40;</span>n<span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> resultat<span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
El codi refactoritzat és el que es mostra tot seguit:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">interface</span> InterficieFactorial <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">abstract</span> <span class="kw4">double</span> calculFactorial<span class="br0">&#40;</span><span class="kw4">double</span> n<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> Factorial <span class="kw1">implements</span> InterficieFactorial <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	<span class="coMULTI">/* (non-Javadoc)</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">	 * @see InterficieFactorial#calculFactorial(double)</span></div></li><li class="li1"><div class="de1"><span class="coMULTI">	 */</span></div></li><li class="li1"><div class="de1">	@Override</div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">double</span> calculFactorial <span class="br0">&#40;</span><span class="kw4">double</span> n<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">if</span> <span class="br0">&#40;</span>n<span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">else</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">			<span class="kw4">double</span> resultat <span class="sy0">=</span> n <span class="sy0">*</span> calculFactorial<span class="br0">&#40;</span>n<span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">return</span> resultat<span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

</div>

<h4><a id="extreure_el_metode" >Extreure el mètode</a></h4>
<div class="level4">

<p>
Aquest patró converteix un tros de codi en un mètode.
</p>

<p>
En l’exemple, es converteix la variable local <code>nre</code> com un atribut de la classe <code>Factorial</code>.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	    <span class="kw4">int</span> nre <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">;</span>		</div></li><li class="li1"><div class="de1">	    <span class="kw4">int</span> comptador <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	    <span class="kw4">double</span> resultat <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	    <span class="kw1">while</span> <span class="br0">&#40;</span>comptador<span class="sy0">&lt;=</span>nre<span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	    	resultat <span class="sy0">=</span> resultat <span class="sy0">*</span> comptador<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	    	comptador<span class="sy0">++;</span></div></li><li class="li1"><div class="de1">	    <span class="br0">&#125;</span>		</div></li><li class="li1"><div class="de1">	    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot;: &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li></ol></pre>

<p>
El codi refactoritzat és el que es mostra tot seguit:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">	<span class="kw1">private</span> <span class="kw1">static</span> <span class="kw4">void</span> calcularFactorial<span class="br0">&#40;</span><span class="kw4">int</span> nre<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	    <span class="kw4">int</span> comptador <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	    <span class="kw4">double</span> resultat <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	    <span class="kw1">while</span> <span class="br0">&#40;</span>comptador<span class="sy0">&lt;=</span>nre<span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	    	resultat <span class="sy0">=</span> resultat <span class="sy0">*</span> comptador<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	    	comptador<span class="sy0">++;</span></div></li><li class="li1"><div class="de1">	    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">	    <span class="kw4">int</span> nre <span class="sy0">=</span> <span class="nu0">5</span><span class="sy0">;</span>		</div></li><li class="li1"><div class="de1">	    <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;Factorial de &quot;</span> <span class="sy0">+</span> nre <span class="sy0">+</span> <span class="st0">&quot;: &quot;</span> <span class="sy0">+</span> calculFactorial<span class="br0">&#40;</span>nre<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li></ol></pre>

</div>

<h2><a id="proves_i_refaccio_eines_d_ajuda_a_la_refaccio" >Proves i refacció. Eines d&#039;ajuda a la refacció</a></h2>
<div class="level2">

<p>
Les eines d’ajuda a la creació de programari s’han de convertir en aliades en la tasca d’oferir solucions i facilitats per a l’aplicació de la refacció sobre el codi font que s’estigui desenvolupant. Un altre ajut molt important l’ofereixen els casos de prova. Les proves que s’hauran efectuat sobre el codi font són bàsiques per validar el correcte funcionament del sistema i per ajudar a decidir si aplicar o no un patró de refacció.
</p>

<p>
Cal anar amb compte amb els casos de prova escollits. Caldrà que acompleixin algunes característiques que ajudaran a validar la correctesa del codi font:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Casos de proves independents entre mòduls, mètodes o classes</strong>. Els casos de prova han de ser independents per aconseguir que els errors en una part del codi font no afectin altres parts del codi. D’aquesta manera, es poden dur a terme proves incrementals que verifiquin si els canvis que s’han produït amb els processos de refacció han comportat canvis a la resta del programari. </div>
</li>
<li class="level1"><div class="li"> <strong>Els casos de proves han de ser automàtics</strong>. Si hi ha deu casos de proves, no serà viable que es vagin executant de forma manual un a un, sinó que cal que es puguin executar de forma automàtica tots per tal que, posteriorment, es puguin analitzar els resultats tant de forma individual com de forma conjunta.</div>
</li>
<li class="level1"><div class="li"> <strong>Casos de proves autoverificables</strong>. Una vegada que les proves s’estableixen de forma independent entre els mòduls i que es poden executar de forma automàtica, només cal que la verificació d’aquestes proves sigui també automàtica, és a dir, que la pròpia eina verifiqui si les proves han estat satisfactòries o no. L’eina indicarà per a quins casos de prova hi ha hagut problemes i en quina part del codi font, a fi que el programador pugui prendre decisions.</div>
</li>
</ul>

<p>
Per què són tan importants les proves per a una bona execució de la refacció? Les proves i els seus casos de proves són bàsics per indicar si el codi font desenvolupat funcionarà o no funcionarà. Però també ajudaran a saber fins a quin punt es poden aplicar tècniques de refacció sobre un codi font determinat o no.
</p>

<p>
S’ha d’anar amb compte a l’hora d’utilitzar aquests casos de proves. Si no s’apliquen de forma adient, podran suposar un problema més que una ajuda. Cal diferenciar molt el codi font implementat del cas de prova i que el lligam entre ells sigui al més petit possible. És important verificar que el codi que implementa la prova tingui una execució exitosa, independentment de quina hagi estat la seva implementació. Moltes vegades, una refacció en un codi font obliga a modificar els casos de prova. El que és recomanable és aplicar refaccions de mica en mica, de forma més contínua, però que siguin petits canvis o que els canvis afectin parts petites de codi.
</p>

<p>
Com caldrà implementar la refacció? Una proposta de metodologia és la que es descriu a continuació:
</p>
<ul>
<li class="level1"><div class="li"> Desenvolupar el codi font.</div>
</li>
<li class="level1"><div class="li"> Analitzar el codi font.</div>
</li>
<li class="level1"><div class="li"> Dissenyar les proves unitàries i funcionals.</div>
</li>
<li class="level1"><div class="li"> Implementar les proves.</div>
</li>
<li class="level1"><div class="li"> Executar les proves.</div>
</li>
<li class="level1"><div class="li"> Analitzar canvis a efectuar.</div>
</li>
<li class="level1"><div class="li"> Definir una estratègia d’aplicació dels canvis.</div>
</li>
<li class="level1"><div class="li"> Modificar el codi font.</div>
</li>
<li class="level1"><div class="li"> Execució de les proves.</div>
</li>
</ul>

<p>
Com es pot observar, aquesta metodologia sembla una petita gestió de projectes dins el propi projecte de desenvolupament de programari. Caldrà fer una bona anàlisi del codi font sobre el que es volen dur a terme les proves, un disseny dels casos de prova que s’implementaran, així com una correcta execució i una anàlisi dels resultats obtinguts. 
</p>

<p>
A continuació es desenvolupa, més detalladament, aquesta proposta de metodologia:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Desenvolupament del codi font:</strong> aquesta part no esdevé pròpiament part de la metodologia per implementar la refacció. Abans de dur a terme aquesta tècnica, caldrà tenir desenvolupat el codi que es voldrà analitzar.</div>
</li>
<li class="level1"><div class="li"> <strong>Analitzar el codi font:</strong> una vegada el programari, o una part d’aquest, ha estat desenvolupat, caldrà dur a terme una anàlisi exhaustiva d’aquest codi per comprovar si es detecten trossos de codi on es podrà dur a terme la refacció. Per determinar-ho, la gran majoria de vegades caldrà dissenyar i aplicar casos de prova.</div>
</li>
<li class="level1"><div class="li"> <strong>Dissenyar les proves unitàries i funcionals:</strong> abans d’executar-les, cal escriure les proves. Però, abans d’això, caldrà haver analitzat el codi font (pas anterior) i dissenyat els casos de prova. Dur a terme la refacció sense haver executat abans proves unitàries i proves funcionals pot arribar a resultar molt costós i pot implicar un risc molt important per al codi font desenvolupat.</div>
</li>
<li class="level1"><div class="li"> <strong>Implementar i executar les proves:</strong> una vegada dissenyats els casos de proves, cal implementar-los i executar-los. La raó d’aquesta execució és obtenir més informació referent a com es comportarà el programari en les diferents situacions preparades. Aquestes situacions han de tenir en compte diversos escenaris, en situacions extremes i en situacions normals. El comportament actual del sistema, abans d’efectuar qualsevol canvi, haurà de ser el mateix comportament que una vegada efectuada la refacció.</div>
</li>
<li class="level1"><div class="li"> <strong>Analitzar canvis a efectuar:</strong> els casos de prova han permès veure quin és el comportament del programari desenvolupat, però també ajuden a mostrar els canvis que es podran efectuar en aquest programari. Els resultats de les proves ofereixen informació sobre els patrons de refacció i de disseny que es podran dur a terme. A més de trobar llocs en el codi que ofereixen indicacions directes de millora amb la refacció, els casos de prova també ofereixen informacions sobre altres refaccions no tan comunes, de les quals els programadors no tenen tan clara la seva necessitat de millora, però que faran que el codi es vagi deteriorant de forma progressiva en el cas de no actuar a temps.</div>
</li>
<li class="level1"><div class="li"> <strong>Definir una estratègia d’aplicació dels canvis:</strong> aquesta estratègia d’actuació haurà d’aplicar-se de forma progressiva. Cal aplicar primer un conjunt de canvis per confirmar, a continuació, l’estabilitat del sistema, és a dir, confirmar que els canvis no hagin provocat cap altre problema o error. A continuació, es durà a terme un altre conjunt de canvis, i així successivament, fins a finalitzar-los tots. Hi ha actuacions de refacció més senzilles d’efectuar que d’altres, i altres canvis que ataquen directament els errors de disseny de l’aplicació. Per exemple, resoldre problemes com el codi duplicat o les classes llargues, amb canvis petits i senzills, permet que se solucionin problemes importants de disseny; això significarà haver aportat millores grans i importants al codi font. </div>
</li>
<li class="level1"><div class="li"> <strong>Modificar el codi font i executar les proves:</strong> els canvis que s’hagin produït al codi desenvolupat moltes vegades són molts, però petits. Si es fan manualment, es corre el risc d’equivocar-se. En canvi, utilitzant eines específiques per aplicar els canvis de refacció, es poden efectuar de forma automàtica sense cap por a equivocar-se. Una vegada modificat el codi, caldrà dur a terme l’execució de les proves. Aquesta vegada l’execució validarà que els casos de prova executats en aquest moment coincideixin amb els casos de prova obtinguts anteriorment. D’aquesta manera, es confirmarà que els canvis efectuats no han afectat els resultats esperats.</div>
</li>
</ul>

</div>

<h3><a id="eines_per_a_l_ajuda_a_la_refaccio" >Eines per a l’ajuda a la refacció</a></h3>
<div class="level3">
<div class="iocnote"><div class="ioccontent">
<p>
IDE, de l’anglès Integrated Development Environment, és un entorn de desenvolupament integrat.
</p>
</div></div>
<p>
Actualment, moltes IDE ofereixen eines que ajuden a la refacció del codi font. Aquestes eines solen estar integrades o permeten la descàrrega de mòduls externs o connectors. Amb aquests complements es poden dur a terme molts dels patrons de refacció de forma automàtica o semiautomàtica.
</p>

<p>

</p>

<p>
La classificació d’aquestes eines es pot fer a partir de molts criteris diferents, com ara el tipus d’eina de refacció (si és privativa o programari lliure), per les funcionalitats que ofereix (mirar codi duplicat, anàlisi de la qualitat del programari, proposta d’ubicacions al codi font on es poden aplicar accions de refacció…) o a partir dels llenguatges de programació que permeten analitzar.  
</p>

<p>
A continuació, s’enumeren algunes d’aquestes eines seguint la darrera classificació:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Java</strong>: RefactorIt, Condenser, JCosmo, Xrefactory, jFactor, IntelliJ IDEA.</div>
</li>
<li class="level1"><div class="li"> <strong>Visual C++, Visual C#, Visual Basic .NET, ASP.Net, …</strong>: Visual Studio.</div>
</li>
<li class="level1"><div class="li"> <strong>C++</strong>: CppRefactory, Xrefactory.</div>
</li>
<li class="level1"><div class="li"> <strong>C#</strong>: C# Refactoring Tool, C# Refactory.</div>
</li>
<li class="level1"><div class="li"> <strong>SQL</strong>: SQL Enlight.</div>
</li>
<li class="level1"><div class="li"> <strong>Delphi</strong>: Modelmaker tool, Castalia.</div>
</li>
<li class="level1"><div class="li"> <strong>Smalltalk</strong>: RefactoringBrowser.</div>
</li>
</ul>
<div class="iocreference"><div class="ioccontent">
<p>
En la secció <em>Activitats</em> del web del mòdul hi podeu trobar activitats de refacció amb Eclipse.
</p>
</div></div>
<p>
L’IDE Eclipse serveix com a exemple d’eina que permet dur a terme la refacció, com s’ha mostrat en apartats anteriors. Eclipse ja porta integrades diverses eines de refacció en la seva instal·lació estàndard. Es poden trobar al Menú principal, com un apartat propi anomenat <em>Refactor</em>, o bé utilitzant el menú contextualitzat mentre es treballa amb l’editor. 
</p>

</div>

<h2><a id="control_de_versions" >Control de versions</a></h2>
<div class="level2">

<p>
Per a una feina que no comença i acaba dins un període curt de temps, o per a feines que han de ser desenvolupades per un equip de persones, és recomanable tenir un control de les tasques que s’han fet, quan s’han dut a terme, qui les ha fet…
</p>

<p>
Es parla de gestió de projectes quan s’ha de desenvolupar una feina com la que s’acaba de definir i, a més a més, es planifica. Què té a veure la gestió de projectes amb el control de versions d’un programari que s’està desenvolupant?
</p>

<p>

</p>

<p>
Hi tindrà molt a veure l’analogia que tenen els dos procediments. Si la feina demanada és el canvi de la font d’alimentació d’un ordinador, no caldrà ni planificar-ho ni, probablement, en cas que es deixi la feina a mitges, caldrà deixar documentada la situació en què es troba la feina en qüestió. En canvi, si un únic programador ha d’implementar una calculadora, serà discutible decidir si necessitarà una planificació i una gestió d’aquesta feina com si fos un projecte (planificant, analitzant, dissenyant i desenvolupant) o si necessitarà una eina que gestioni les versions desenvolupades fins al moment. Potser portar un control de versions del programari desenvolupat li servirà per poder tornar enrere en cas d’arribar a un punt de no retorn.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">ERP</p>
<p>
Un ERP (<em>Enterprise Resource Planning</em>) és un sistema informàtic que abraça tota una empresa, i que s’utilitza per gestionar tots els seus recursos i compartir la informació necessària entre els diferents departaments en una única base de dades.
</p>
</div></div>
<p>
Quan és molt recomanable utilitzar un control de versions (i, anàlogament, una gestió del projecte)? En casos en què el desenvolupament de programari comporta una feina de moltes hores, de molts fitxers diferents i (encara que no necessàriament) la presència de diverses persones treballant sobre el mateix projecte, com per exemple en el desenvolupament d’un ERP (<em>Enterprise Resource Planning</em>).
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>sistema de control de versions</strong> és una eina d’ajuda al desenvolupament de programari que anirà emmagatzemant, segons els paràmetres indicats, la situació del codi font en moments determinats. És com una eina que va fent fotos de forma regular, cada cert temps, sobre l’estat del codi.
</p>
</div></div>
<p>
En un entorn on només treballarà un programador, sols caldrà guardar la informació del codi cada cert temps o cada vegada que ell desi la informació, juntament amb les dades principals, com ara el número de la versió o la data i l’hora en què s’ha emmagatzemat. En un entorn multiusuari, on molts programadors diferents poden manipular els fitxers i on, fins i tot, es podrà oferir la possibilitat de modificar a la vegada un mateix document, en aquests casos cal emmagatzemar molta més informació, com ara quin usuari ha implementat els canvis, les referències de la màquina des d’on s’han fet els canvis, si s’està produint algun tipus de conflicte…
</p>

<p>
Aquesta funcionalitat no només serà important en els casos de desenvolupament de programari, sinó també en molt altres àmbits. Per posar uns exemples, es pot trobar la importància del control de versions en el cas de treballar en la creació d’un llibre, col·laborant diversos autors en la seva redacció. Si queda enregistrat en quin moment ha fet cada canvi qualsevol col·laborador diferent, i, a més, queda enregistrada una còpia de cada modificació feta, això permetrà a la resta de col·laboradors tenir una informació molt important per no repetir continguts ni duplicar feines. Un exemple real per al que s’acaba d’explicar es pot trobar en la redacció de continguts de la wiquipèdia, on molts redactors creen continguts mitjançant una eina que permet el treball en equip i el control dels continguts creats i penjats. Un altre cas es pot trobar en una gestoria o un bufet d’advocats que han de redactar un contracte o un document en col·laboració amb un o diversos clients. En aquest cas, no serà necessari fer servir una eina com una wiki, potser serà suficient fer servir un bon editor de textos que permeti la funcionalitat de gestió de canvis, on cada vegada que un usuari diferent hagi de fer un canvi, quedi indicat en el document amb un color diferent en funció de l’usuari que l’hagi creat.
</p>

<p>
En el desenvolupament de programari, els sistemes de control de versions són eines que poden facilitar molt la feina dels programadors i augmentar la productivitat de forma considerable, sempre que aquestes eines siguin utilitzades de forma correcta. Algunes funcionalitats dels sistemes de control de versions poden ser:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Comparar canvis en els diferents arxius al llarg del temps</strong>, podent veure qui ha modificat per darrera vegada un determinat arxiu o tros de codi font.</div>
</li>
<li class="level1"><div class="li"> <strong>Reducció de problemes de coordinació que pot haver-hi entre els diferents programadors</strong>. Amb els sistemes de control de versions podran compartir la seva feina, oferint les darreres versions del codi o dels documents, i treballar, fins i tot, de forma simultània sense por a trobar-se amb conflictes en el resultat d’aquesta col·laboració.</div>
</li>
<li class="level1"><div class="li"> <strong>Possibilitat d’accedir a versions anteriors dels documents o codi font</strong>. De forma programada es podrà automatitzar la generació de còpies de seguretat o, fins i tot, emmagatzemar tot canvi efectuat. En el cas d’haver-se equivocat de forma puntual, o durant un període llarg de temps, el programador podrà tenir accés a versions anteriors del codi o desfer, pas a pas, tot allò desenvolupat durant els darrers dies.</div>
</li>
<li class="level1"><div class="li"> <strong>Veure quin programador ha estat el darrer a modificar un determinat tros de codi</strong> que pot estar causant un problema.</div>
</li>
<li class="level1"><div class="li"> <strong>Accés a l’historial de canvis sobre tots els arxius a mesura que avança el projecte</strong>. També pot servir per al cap de projectes o per a qualsevol altra part interessada (<em>stakeholder</em>), amb permisos per accedir a aquest historial, per veure l’evolució del projecte.</div>
</li>
<li class="level1"><div class="li"> <strong>Tornar un arxiu determinat</strong> o tot el projecte sencer a un o a diversos estats anteriors.</div>
</li>
</ul>

<p>
Els sistemes de control de versions ofereixen, a més, algunes funcionalitats per poder gestionar un projecte informàtic i per poder-ne fer el seguiment. Entre aquestes funcionalitats es poden trobar:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Control històric detallat de cada arxiu.</strong> Permet emmagatzemar tota la informació del que ha succeït en un arxiu, com ara tots els canvis que s’han efectuat, per qui, el motiu dels canvis, emmagatzemar totes les versions que hi ha hagut des de la seva creació…</div>
</li>
<li class="level1"><div class="li"> <strong>Control d’usuaris amb permisos per accedir als arxius.</strong> Cada usuari tindrà un tipus d’accés determinat als arxius per poder consultar-los o modificar-los o, fins i tot, esborrar-los o crear-ne de nous. Aquest control ha de ser gestionat per l’eina de control de versions, emmagatzemant tots els usuaris possibles i els permisos que tenen assignats. </div>
</li>
<li class="level1"><div class="li"> <strong>Creació de branques d’un mateix projecte:</strong> en el desenvolupament d’un projecte hi ha moments en què cal ramificar-lo, és a dir, a partir d’un determinat moment, d’un determinat punt, cal crear dues branques del projecte que es podran continuar desenvolupant per separat. Aquest cas es pot donar en el moment de finalitzar una primera versió d’una aplicació que es lliura als clients, però que cal continuar evolucionant.</div>
</li>
<li class="level1"><div class="li"> <strong>Fusionar dues versions d’un mateix arxiu:</strong> permetent fusionar-les, agafant, de cada part de l’arxiu, el codi que més interessi als desenvolupadors. Aquesta funcionalitat s’haurà de validar manualment per part d’una persona.</div>
</li>
</ul>

</div>

<h3><a id="components_d_un_sistema_de_control_de_versions" >Components d’un sistema de control de versions</a></h3>
<div class="level3">

<p>
Un sistema de control de versions es compondrà de diversos elements o components que fan servir una terminologia una mica específica. Cal tenir en compte que no tots els sistemes de control de versions utilitzen els mateixos termes per referir-se als mateixos conceptes. A continuació, trobareu una llista amb el nom en català dels termes més comuns i el nom o noms en anglès relacionats:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Repositori</strong> (<em>repository</em> o <em>depot</em>): conjunt de dades emmagatzemades, també referit a versions o còpies de seguretat. És el lloc on aquestes dades queden emmagatzemades. Es podrà referir a moltes versions d’un únic projecte o de diversos projectes.</div>
</li>
<li class="level1"><div class="li"> <strong>Mòdul</strong> (<em>module</em>): es refereix a una carpeta o directori específic del repositori. Un mòdul podrà fer referència a tot el projecte sencer o només a una part del projecte, és a dir, a un conjunt d’arxius. </div>
</li>
<li class="level1"><div class="li"> <strong>Tronc</strong> (<em>trunk</em> o <em>master</em>): estat principal del projecte. És l’estat del projecte destinat, en acabar el seu desenvolupament, a ser passat a producció.</div>
</li>
<li class="level1"><div class="li"> <strong>Branca</strong> (<em>branch</em>): és una bifurcació del tronc o branca mestra de l’aplicació que conté una versió independent de l’aplicació i a la qual poden aplicar-se canvis sense que afectin ni el tronc ni altres branques. Aquests canvis, en un futur, poden incorporar-se al tronc.</div>
</li>
<li class="level1"><div class="li"> <strong>Versió</strong> o <strong>Revisió</strong> (<em>version</em> o <em>revision</em>): és l’estat del projecte o d’una de les seves branques en un moment determinat. Es crea una versió cada vegada que s’afegeixen canvis a un repositori.</div>
</li>
<li class="level1"><div class="li"> <strong>Etiqueta</strong> (<em>tag</em>, <em>label</em> o <em>baseline</em>): informació que s’afegirà a una versió. Sovint indica alguna característica específica que el fa especial. Aquesta informació serà textual i, moltes vegades, es generarà de forma manual. Per exemple, es pot etiquetar la primera versió d’un programari (1.0) o una versió en la qual s’ha solucionat un error important.</div>
</li>
<li class="level1"><div class="li"> <strong>Cap</strong> (<em>head</em> o <em>tip</em>): fa referència a la versió més recent d’una determinada branca o del tronc. El tronc i cada branca tenen el seu propi cap, però, per referir-se al cap del tronc, de vegades s’utilitza el terme HEAD, en majúscules.</div>
</li>
<li class="level1"><div class="li"> <strong>Clonar</strong> (<em>clone</em>): consisteix a crear un nou repositori, que és una còpia idèntica d’un altre, ja que conté les mateixes revisions.</div>
</li>
<li class="level1"><div class="li"> <strong>Bifurcació</strong> (<em>fork</em>): creació d’un nou repositori a partir d’un altre. Aquest nou repositori, al contrari que en el cas de la clonació, no està lligat al repositori original i es tracta com un repositori diferent.</div>
</li>
<li class="level1"><div class="li"> <strong><em>Pull</em></strong>: és l’acció que copia els canvis d’un repositori (habitualment remot) en el repositori local. Aquesta acció pot provocar conflictes.</div>
</li>
<li class="level1"><div class="li"> <strong><em>Push</em></strong> o <strong><em>fetch</em></strong>: són accions utilitzades per afegir els canvis del repositori local a un altre repositori (habitualment remot). Aquesta acció pot provocar conflictes.</div>
</li>
<li class="level1"><div class="li"> <strong>Canvi</strong> (<em>change</em> o <em>diff</em>): representa una modificació concreta d’un document sota el control de versions.</div>
</li>
<li class="level1"><div class="li"> <strong>Sincronització</strong> (<em>update</em> o <em>sync</em>): és l’acció de combinar els canvis fets al repositori amb la còpia de treball local.</div>
</li>
<li class="level1"><div class="li"> <strong>Conflicte</strong> (<em>conflict</em>): es produeix quan s’intenten afegir canvis a un fitxer que ha estat modificat prèviament per un altre usuari. Abans de poder combinar els canvis amb el repositori s’haurà de resoldre el conflicte.</div>
</li>
<li class="level1"><div class="li"> <strong>Fusionar</strong> (<em>merge</em> o <em>integration</em>): és l’acció que es produeix quan es volen combinar els canvis d’un repositori local amb un remot i es detecten canvis al mateix fitxer en tots dos repositoris i es produeix un conflicte. Per resoldre aquest conflicte s’han de fusionar els canvis abans de poder actualitzar els repositoris. Aquesta fusió pot consistir a descartar els canvis d’un dels dos repositoris o editar el codi per incloure els canvis del fitxer a totes dues bandes. Cal destacar que és possible que un mateix fitxer presenti canvis en molts punts diferents que s’hauran de resoldre per poder donar la fusió per finalitzada.</div>
</li>
<li class="level1"><div class="li"> <strong>Bloqueig</strong> (<em>lock</em>): alguns sistemes de control de versions en lloc d’utilitzar el sistema de fusions el que fan és bloquejar els fitxers en ús, de manera que només pot haver-hi un sol usuari modificant un fitxer en un moment donat.</div>
</li>
<li class="level1"><div class="li"> <strong>Directori de treball</strong> (<em>working directory</em>): directori al qual el programador    treballarà a partir d’una còpia que haurà fet del repositori en el seu ordinador local.</div>
</li>
<li class="level1"><div class="li"> <strong>Còpia de treball</strong> (<em>working copy</em>): fa referència a la còpia local dels fitxers que s’han copiat del repositori, que és sobre la qual es fan els canvis (és a dir, s’hi treballa, d’aquí el nom) abans d’afegir aquests canvis al repositori. És emmagatzemada al directori de treball.</div>
</li>
<li class="level1"><div class="li"> <strong>Tornar a la versió anterior</strong> (<em>revert</em>): descarta tots els canvis produïts a la còpia de treball des de l’última pujada al repositori local.</div>
</li>
</ul>

</div>

<h3><a id="classificacio_dels_sistemes_de_control_de_versions" >Classificació dels sistemes de control de versions</a></h3>
<div class="level3">

<p>
Es pot generalitzar l’estructura de les eines de control de versions tenint en compte la classificació dels sistemes de control de versions, que poden ser locals, centralitzats o distribuïts.
</p>

</div>

<h4><a id="sistemes_locals" >Sistemes locals</a></h4>
<div class="level4">

<p>
Els sistemes de control de versions locals són sistemes que permeten dur a terme les accions necessàries de forma local. Si no es fa servir cap sistema de control de versions concret, un programador que treballi en el seu propi ordinador podrà anar fent còpies de seguretat, de tant en tant, dels arxius o de les carpetes amb què treballi. Aquest sistema implica dues característiques específiques:
</p>
<ul>
<li class="level1"><div class="li"> El mateix programador serà la persona que s’haurà de recordar d’anar fent les còpies de seguretat cada cert temps, el que ell hagi establert.</div>
</li>
<li class="level1"><div class="li"> El mateix programador haurà de decidir on durà a terme aquestes còpies de seguretat, molt probablement en local, en una altra ubicació del disc dur intern, o en un dispositiu d’emmagatzematge extern.</div>
</li>
</ul>

<p>
Aquest sistema té un alt risc perquè és un sistema altament dependent del programador, però és un sistema extremadament senzill de planificar i d’executar. El més habitual, en aquests casos, és crear còpies de seguretat (que es poden considerar versions del projecte); els fitxers s’emmagatzemen en carpetes que solen tenir un nom representatiu, com per exemple: la data i l’hora en què s’efectua la còpia. Però, tal com s’ha comentat anteriorment, es tracta d’un sistema propens a errors per diversos motius, com ara que es produeixin oblits en la realització de la còpia de seguretat, o confusions que portin al programador a continuar el desenvolupament en una de les còpies del codi, i anar avançant amb el projecte en diferents ubicacions diferents dies.
</p>

<p>
Per fer front a aquests problemes, van aparèixer els primers repositoris de versions que contenien una petita base de dades on es podien enregistrar tots els canvis efectuats, sobre quins arxius, qui els havia fet, quan… Efectuant les còpies de seguretat de forma automatitzada.
</p>

<p>
A la <span class="figref"><a href="#Figure24"><span>figura</span></a></span> es pot observar la representació del sistema local, amb els arxius i les seves còpies o versions.
</p>
<div class="iocfigure"><a name="Figure24"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Sistema de control de versions locals

</figcaption><img src="../media/ic10m05u2_27.png" alt="" /></figure>
</div>
</div>

<h4><a id="sistemes_centralitzats" >Sistemes centralitzats</a></h4>
<div class="level4">

<p>
Un sistema de control de versions que permeti desenvolupar un projecte informàtic amb més d’un ordinador és el sistema de control de versions centralitzat que es contraposa a un altre sistema de control de versions, també per a més d’un ordinador, com és el distribuït. 
</p>

<p>
En els sistemes centralitzats hi haurà més d’un programador desenvolupant un projecte en més d’un ordinador. Des dels dos ordinadors es podrà accedir als mateixos arxius de treball i sobre les mateixes versions emmagatzemades. Aquesta és una situació més pròxima a les situacions actuals reals en el desenvolupament de projectes informàtics.
</p>

<p>
El sistema de control de versions centralitzat és un sistema on les còpies de seguretat o versions emmagatzemades es troben de forma centralitzada a un servidor que serà accessible des de qualsevol ordinador que treballi en el projecte. A la <span class="figref"><a href="#Figure25"><span>figura</span></a></span> es pot observar com es representa aquest sistema de control de versions centralitzat. 
</p>
<div class="iocfigure"><a name="Figure25"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Sistema de control de versions centralitzat

</figcaption><img src="../media/ic10m05u2_28.png" alt="" /></figure>
</div>
<p>
Però aquest sistema també tindrà els seus inconvenients, de vegades molt difícils de salvar. Què succeeix si falla el servidor central? Si és una fallada temporal no s’hi podrà accedir durant un petit període temps. Si és una fallada del sistema, caldrà tenir preparat un sistema de recuperació o un sistema alternatiu (una còpia). Durant aquest temps, els diferents desenvolupadors no podran treballar de forma col·laborativa ni accedir a les versions emmagatzemades ni emmagatzemar-ne de noves. Aquest és un desavantatge difícil de contrarestar.
</p>

<p>
Com que el repositori es troba centralitzat en un únic ordinador i una única ubicació, la creació d’una brancaa es durà a terme a la mateixa ubicació que la resta del repositori, utilitzant una nova carpeta per crear la duplicitat. Els punts febles amb el treball de les branques seran els mateixos que s’han exposat en general per als sistemes de control de versions centralitzats.
</p>

</div>

<h4><a id="sistemes_distribuits" >Sistemes distribuïts</a></h4>
<div class="level4">

<p>
Els sistemes de control de versions distribuïts ofereixen una solució a aquest desavantatge ofert pels sistemes de control de versions centralitzats. Com es pot veure a la <span class="figref"><a href="#Figure26"><span>figura</span></a></span>, la solució que ofereixen els sistemes distribuïts és disposar cada ordinador de treball, així com el servidor, d’una còpia de les versions emmagatzemades. Aquesta duplicitat de les versions ofereix una disponibilitat que disminueix moltíssim les possibilitats de no tenir accessibilitat als arxius i a les seves versions. 
</p>
<div class="iocfigure"><a name="Figure26"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Sistema de control de versions distribuït

</figcaption><img src="../media/ic10m05u2_29.png" alt="" /></figure>
</div>
<p>
Quina és la forma de treballar d’aquest sistema? Cada vegada que un ordinador client accedeix al servidor per tenir accés a una versió anterior, no només copien aquell arxiu, sinó que fan una descàrrega completa dels arxius emmagatzemats. 
</p>

<p>
Si el servidor té una fallada del sistema, la resta d’ordinadors clients podran continuar treballant i qualsevol dels ordinadors clients podrà efectuar una còpia sencera de tot el sistema de versions cap al servidor per tal de restaurar-lo. La idea és que el servidor és el que gestiona el sistema de versions, però en cas de necessitat pot accedir a les còpies locals que es troben en els ordinadors clients.
</p>

</div>

<h3><a id="operacions_basiques_d_un_sistema_de_control_de_versions" >Operacions bàsiques d’un sistema de control de versions</a></h3>
<div class="level3">

<p>
Entre les operacions més habituals d’un sistema de control de versions (tant en els sistemes centralitzats com en els distribuïts) es poden diferenciar dos tipus: aquelles que permeten l’entrada de dades al repositori i aquelles que permeten obtenir dades del repositori. A la <span class="figref"><a href="#Figure27"><span>figura</span></a></span> es mostra un resum d’aquestes operacions.
</p>

<p>
Entre les operacions d’introducció de dades al repositori es poden trobar:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Importació de dades:</strong> aquesta operació permet dur a terme la primera còpia de seguretat o versionat dels arxius amb els quals es treballarà en local cap al repositori.</div>
</li>
<li class="level1"><div class="li"> <strong>Pujar (<em>commit</em> o <em>check in</em>):</strong> aquesta operació permet enviar al repositori les dades corresponents als canvis que s’han produït en el servidor local. No es farà una còpia sencera de tota la informació, sinó que només es treballarà amb els arxius que s’hagin modificat en el darrer espai de temps. Cal destacar que no els envia al servidor; els canvis queden emmagatzemats al repositori local, que s’ha de sincronitzar.</div>
</li>
</ul>

<p>
Entre les operacions d’exportació de dades del repositori es poden trobar:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Baixar (<em>check-out</em>):</strong> amb aquesta operació es podrà tenir accés i descarregar a l’àrea de treball local una versió des d’un repositori local, un repositori remot o una branca diferent.</div>
</li>
<li class="level1"><div class="li"> <strong>Actualització (<em>update</em>):</strong> aquesta operació permet dur a terme una còpia de seguretat de totes les dades del repositori a l’ordinador client amb què treballarà el programador. Serà una operació que es podrà efectuar de forma manual, quan el programador ho estimi oportú, o de forma automàtica, com en els sistemes distribuïts, on cada vegada que un client accedeix al repositori es fa una còpia completa en local.</div>
</li>
</ul>
<div class="iocfigure"><a name="Figure27"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Operacions que es poden fer en un sistema de control de versions

</figcaption><img src="../media/ic10m05u2_30.png" alt="" /></figure>
</div>
<p>
Actualment, l’opció més popular és una mescla entre els dos sistemes: utilitzar un servidor central i fer servir als clients un sistema distribuït. Convé triar com a servidor central una plataforma amb un alt nivell de seguretat.
</p>

</div>

<h2><a id="eines_de_control_de_versions" >Eines de control de versions</a></h2>
<div class="level2">

<p>
Per dur a terme un control de versions automatitzat existeixen diverses eines que faciliten molt aquesta feina. Aquestes eines poden ser independents a la resta de les eines que es faran servir per a la gestió i el desenvolupament del projecte informàtic o es poden trobar integrades amb altres eines, com ara Visual Studio o Eclipse, facilitant així la feina dels membres de l’equip del projecte. Les funcionalitats que ofereixen poden anar des del control del codi font, la configuració i gestió del canvi, l’administració de versions d’arxius i de directoris d’un projecte, fins a la integració completa dels projectes, analitzant, planificant, compilant, executant i provant de forma automàtica els projectes.
</p>

<p>
Algunes eines de control de versions són:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Team Foundation Server</strong> (TFS): és un sistema que pot utilitzar les arquitectures centralitzades i distribuïdes. És gratuït per a equips petits i projectes de codi lliure; a la resta de supòsits, cal pagar una subscripció. Aquesta eina ha estat desenvolupada per Microsoft, cosa que implica que sigui una eina privativa. És una eina preparada per treballar amb col·laboració amb Visual Studio. Permet accions de control de codi, administració del projecte, seguiment dels elements de treball i gestió dels arxius a partir d’un portal web del projecte. Es tracta d’una evolució de l’eina Visual Source Safe.</div>
</li>
<li class="level1"><div class="li"> <strong>CVS - Concurrent Versions System.</strong> Aquesta eina ofereix un sistema de control de versions centralitzat amb una sèrie de funcionalitats que ajuden el programador:</div>
<ul>
<li class="level3"><div class="li"> Manteniment del registre de tot el treball per part dels membres de l’equip del projecte.</div>
</li>
<li class="level3"><div class="li"> Enregistrament de tots els canvis en els fitxers.</div>
</li>
<li class="level3"><div class="li"> Permet el treball en equip en col·laboració per part de desenvolupadors a gran distància.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>Subversion</strong> (SVN): eina de codi obert, gratuït, independent del sistema operatiu de la màquina en què s’utilitzi. És un sistema centralitzat. Es va desenvolupar l’any 2000 amb l’objectiu de substituir CVS. Afegeix noves funcionalitats i en millora algunes altres que no acabaven de funcionar adequadament amb l’eina CVS.</div>
</li>
<li class="level1"><div class="li"> <strong>Mercurial</strong>: és un sistema distribuït gratuït.</div>
</li>
<li class="level1"><div class="li"> <strong>Git</strong>: Eina de Gestió de Versions desenvolupada per a programadors del nucli de Linux. Desenvolupada a partir d’evolucions de l’eina CVS, ja que Subversion no cobria les necessitats dels desenvolupadors del nucli de Linux. És un sistema distribuït i gratuït. Actualment és el programari més popular de control de version amb diferència.</div>
</li>
</ul>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Popularitat i ús dels sistemes de control de versions.</p><ul>
<li class="level1"><div class="li"> <strong>Popularitat dels sistemes de control de versions</strong>: al següent enllaç podeu trobar la gràfica de <em>Google Trends</em> amb la popularitat de diferents sistemes de control de versions: <a href="https://trends.google.com/trends/explore?q=%2Fm%2F05vqwg,%2Fm%2F08441_,%2Fm%2F02rvgkm,%2Fm%2F012ct9" class="urlextern" title="https://trends.google.com/trends/explore?q=%2Fm%2F05vqwg,%2Fm%2F08441_,%2Fm%2F02rvgkm,%2Fm%2F012ct9"  rel="nofollow">goo.gl/JDfg9r</a>.</div>
</li>
<li class="level1"><div class="li"> <strong>Control de versions al món laboral</strong>: segons un informe d’IT Jobs Watch (<a href="https://www.itjobswatch.co.uk/" class="urlextern" title="https://www.itjobswatch.co.uk/"  rel="nofollow">www.itjobswatch.co.uk</a>) de l’any 2016 sobre ofertes de treball al Regne Unit, el percentatge d’ofertes de feina que inclouen entre els seus requisits el coneixement de sistems de control de versions és:</div>
<ul>
<li class="level2"><div class="li"> 29,27% Git</div>
</li>
<li class="level2"><div class="li"> 12,17% Microsoft Team Foundation Server</div>
</li>
<li class="level2"><div class="li"> 10,60% Subversion</div>
</li>
<li class="level2"><div class="li"> 1,30% Mercurial</div>
</li>
</ul>
</li>
</ul>
</div></div>
</div>

<h3><a id="altres_eines" >Altres eines</a></h3>
<div class="level3">

<p>
Existeixen moltes altres eines per a l’ajuda del control de versions. Algunes es poden classificar en funció del llenguatge de programació al que assisteixen i d’altres es poden classificar en funció del o dels sistemes per a què van ser desenvolupades. Podeu veure tot seguit altres eines de sistema de gestió de versions, classificades en funció de si pertanyen a programari lliure o privatiu:
</p>
<ul>
<li class="level1"><div class="li"> Programari lliure:</div>
<ul>
<li class="level2"><div class="li"> GNU Arch</div>
</li>
<li class="level2"><div class="li"> RedMine</div>
</li>
<li class="level2"><div class="li"> Mercurial (ALSA, MoinMoin, Mutt, Xen)</div>
</li>
<li class="level2"><div class="li"> PHP Collab</div>
</li>
<li class="level2"><div class="li"> Git</div>
</li>
<li class="level2"><div class="li"> CVS</div>
</li>
<li class="level2"><div class="li"> Subversion </div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Programari privatiu:</div>
<ul>
<li class="level2"><div class="li"> Clear Case</div>
</li>
<li class="level2"><div class="li"> Darcs</div>
</li>
<li class="level2"><div class="li"> Team Fundation Server</div>
</li>
</ul>
</li>
</ul>

</div>

<h2><a id="diposits_de_les_eines_de_control_de_versions" >Dipòsits de les eines de control de versions</a></h2>
<div class="level2">
<div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>dipòsit</strong> és un magatzem de dades on es guardarà tot allò relacionat amb una aplicació informàtica o unes dades determinades d’un determinat projecte.
</p>
</div></div>
<p>
L’ús de dipòsits no és una tècnica exclusiva de les eines de control de versions. Les aplicacions i els projectes informàtics solen fer servir dipòsits que contenen informació. Per exemple, un dipòsit amb informació referent a una base de dades contindrà tot el referent a com està implementada aquesta base de dades: quines taules tindrà, quins camps, com seran aquests camps, les seves característiques, els seus valors límits…
</p>

<p>
En l’àmbit del control de versions, tenir aquest dipòsit suposa poder comptar amb un magatzem central de dades que guarda tota la informació en forma de fitxers i de directoris, i que permet dur a terme una gestió d’aquesta informació.
</p>

<p>
Tota eina de control de versions té un repositori que és utilitzat com un magatzem central de dades. La informació emmagatzemada serà tota la referent al projecte informàtic que s’estarà desenvolupant. Els clients es connectaran a aquest repositori per llegir o escriure aquesta informació, accedint a informació d’altres clients o fent pública la seva pròpia informació. A la <span class="figref"><a href="#Figure28"><span>figura</span></a></span> es mostra un exemple conceptual d’un repositori centralitzat on accedeixen diversos clients per escriure o llegir arxius.
</p>
<div class="iocfigure"><a name="Figure28"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Esquema conceptual d’un repositori

</figcaption><img src="../media/ic10m05u2_36.png" alt="" /></figure>
</div><div class="iocimportant"><div class="ioccontent">
<p>
Un <strong>repositori</strong> és la part principal d’un sistema de control de versions. Són sistemes dissenyats per enregistrar, guardar i gestionar tots els canvis i informacions sobre totes les dades d’un projecte al llarg del temps.
</p>
</div></div>
<p>
Gràcies a la informació enregistrada en el repositori es podrà:
</p>
<ul>
<li class="level1"><div class="li"> Consultar la darrera versió dels arxius que s’hagin emmagatzemat. </div>
</li>
<li class="level1"><div class="li"> Accedir a la versió d’un determinat dia i comparar-la amb l’actual.</div>
</li>
<li class="level1"><div class="li"> Consultar qui ha modificat un determinat tros de codi i quan va ser modificat.</div>
</li>
</ul>

</div>

<h3><a id="problematiques_dels_sistemes_de_control_de_versions" >Problemàtiques dels sistemes de control de versions</a></h3>
<div class="level3">

<p>
Els sistemes de control de versions han de resoldre certes problemàtiques, com per exemple, com evitar que les accions d’un programador se sobreposin a les d’altres programadors.
</p>

<p>
Comptem amb diferents alternatives per resoldre aquestes problemàtiques:
</p>
<ul>
<li class="level1"><div class="li"> Compartir arxius per part de diferents programadors</div>
</li>
<li class="level1"><div class="li"> Bloquejar els arxius utilitzats</div>
</li>
<li class="level1"><div class="li"> Fusionar els arxius modificats</div>
</li>
</ul>

</div>

<h4><a id="compartir_arxius_per_part_de_diferents_programadors" >Compartir arxius per part de diferents programadors</a></h4>
<div class="level4">

<p>
Dos companys que treballen en el mateix projecte, desenvolupant una aplicació informàtica, decideixen editar el mateix fitxer del repositori a la vegada. Per exemple:
</p>
<ul>
<li class="level1"><div class="li"> En Pau i la Montse estan editant un mateix fitxer.</div>
</li>
<li class="level1"><div class="li"> En Pau grava els seus canvis al repositori.</div>
</li>
<li class="level1"><div class="li"> Com que en Pau i la Montse hi han accedit a la vegada, la versió sobre la qual la Montse treballa no contindrà els canvis efectuats per en Pau.</div>
</li>
<li class="level1"><div class="li"> La Montse podrà, accidentalment, sobreescriure’ls amb la seva nova versió de l’arxiu, pel fet de ser la darrera persona que els guarda. Els canvis de’n Pau no es troben en la nova versió de la Montse.</div>
</li>
<li class="level1"><div class="li"> La versió de l’arxiu de’n Pau no s’ha perdut per sempre (perquè el sistema recorda cada canvi). </div>
</li>
<li class="level1"><div class="li"> La resta de programadors que accedeixin al repositori veuran la nova versió de la Montse, però no podran veure els canvis de’n Pau a no ser que indaguin en l’històric de l’arxiu.</div>
</li>
</ul>

<p>
A la <span class="figref"><a href="#Figure29"><span>figura</span></a></span> es pot observar aquesta seqüència de passos que es poden donar. El treball de’n Pau s’haurà obviat, cosa que s’ha d’evitar que es produeixi. Per això existeixen diverses solucions que ofereixen les eines de control de versions. 
</p>
<div class="iocfigure"><a name="Figure29"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Cas d’accés a la vegada al mateix arxiu per part de dos usuaris

</figcaption><img src="../media/ic10m05u2_37.png" alt="" /></figure>
</div>
</div>

<h4><a id="bloquejar_els_arxius_utilitzats" >Bloquejar els arxius utilitzats</a></h4>
<div class="level4">

<p>
El cas exposat anteriorment es pot prevenir utilitzant alguna de les tècniques que ofereixen les eines de control de versions. Molts d’aquests sistemes utilitzen un model de solució que consisteix a bloquejar els arxius afectats quan un usuari hi està accedint en mode modificació. La seqüència seria:
</p>
<ul>
<li class="level1"><div class="li"> Bloquejar l’arxiu a què es vol accedir.</div>
</li>
<li class="level1"><div class="li"> Modificar l’arxiu per part de l’usuari.</div>
</li>
<li class="level1"><div class="li"> Desbloquejar l’arxiu una vegada modificat i actualitzat al repositori.</div>
</li>
</ul>

<p>
Es tracta d’una solució senzilla tant conceptualment com d’implementació. Però té alguns punts no tan positius. En primer lloc, només permet accedir a la modificació d’un arxiu a un únic usuari. En el cas plantejat, en Pau podrà accedir a l’arxiu per consultar i modificar, però la Montse no hi podrà accedir, ja que en Pau el tindrà bloquejat. S’haurà d’esperar que en Pau l’acabi de modificar per desbloquejar-lo i, llavors, podrà accedir-hi ella. Es tracta d’una solució molt restrictiva que pot afectar negativament la feina dels desenvolupadors. A la <span class="figref"><a href="#Figure30"><span>figura</span></a></span> es poden veure aquests procediments.
</p>
<div class="iocfigure"><a name="Figure30"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Bloquejar els arxius utilitzats

</figcaption><img src="../media/ic10m05u2_38.png" alt="" /></figure>
</div>
<p>
Alguns problemes d’aquesta solució de bloqueig d’arxius són:
</p>
<ul>
<li class="level1"><div class="li"> Possible creació d’inconsistències. Pot semblar que utilitzant el sistema dels bloquejos hi hagi més seguretat a l’hora de manipular arxius, però pot donar-se el cas contrari. Si en Pau bloqueja i edita l’arxiu A, mentre la Montse simultàniament bloqueja i edita l’arxiu B, però els canvis que fan no tenen en compte els canvis de l’altre desenvolupador, es pot donar una situació en què, en deixar de bloquejar els arxius, els canvis fets a cada un siguin semànticament incompatibles. Tot d’una, A i B ja no funcionen junts. </div>
</li>
<li class="level1"><div class="li"> Mentre un usuari, per exemple en Pau, està bloquejant un arxiu, l’accés per part de la resta de desenvolupadors no és viable. Si en Pau oblida desbloquejar l’arxiu o el demora durant un temps llarg, la resta de companys amb necessitat d’accedir-hi quedaran a l’espera de poder continuar la seva feina, bloquejats per en Pau. Això pot causar molts problemes de caire administratiu dins l’equip de treball. </div>
</li>
<li class="level1"><div class="li"> De vegades, les necessitats d’accés a un mateix arxiu són independents, és a dir, es pot requerir l’accés a diferents parts del codi. En Pau pot necessitar editar l’inici d’un arxiu i la Montse simplement vol canviar la part final d’aquest arxiu. Aquests canvis no se superposen en absolut. Ells podrien fàcilment editar el fitxer de forma simultània, i no hi hauria cap problema sempre que s’assumís que els canvis es fusionen correctament. En aquesta situació no és necessari seguir una política de bloquejos.</div>
</li>
</ul>

<p>
Precisament, aquest darrer problema del sistema de bloquejos és el que suggereix una altra solució per a l’accés simultani al repositori. 
</p>

</div>

<h4><a id="fusionar_els_arxius_modificats" >Fusionar els arxius modificats</a></h4>
<div class="level4">

<p>
Un altre sistema per solucionar la problemàtica d’accés simultani a un mateix arxiu, com a alternativa al sistema de bloqueig d’arxius, és el que es descriu a continuació:
</p>
<ul>
<li class="level1"><div class="li"> Cada un dels desenvolupadors que necessiti editar un arxiu s’efectuarà una còpia privada.</div>
</li>
<li class="level1"><div class="li"> Cada desenvolupador editarà la seva còpia privada de l’arxiu.</div>
</li>
<li class="level1"><div class="li"> Finalment, es fusionaran les diverses còpies privades de l’arxiu modificat. Aquesta fusió serà automàtica per part del sistema, encara que, finalment, els desenvolupadors són els responsables de donar el vistiplau si la fusió és correcta. </div>
</li>
</ul>

<p>
Per entendre bé aquest sistema es pot observar la <span class="figref"><a href="#Figure31"><span>figura</span></a></span>, on hi ha una explicació gràfica, que es basa en el següent exemple:
</p>

<p>
En Pau i la Montse creen còpies de treball del mateix projecte, obtingut del repositori. Els dos desenvolupadors treballen simultàniament efectuant canvis al mateix fitxer A en les seves còpies locals:
</p>
<ul>
<li class="level1"><div class="li"> La Montse és la primera a enregistrar els seus canvis al repositori. </div>
</li>
<li class="level1"><div class="li"> Quan en Pau intenta desar els seus canvis, el repositori l’informa que el seu arxiu A no està actualitzat. </div>
</li>
<li class="level1"><div class="li"> En Pau pot sol·licitar a l’assistent que efectuï una proposta de superposició dels canvis. </div>
</li>
<li class="level1"><div class="li"> El més segur és que les modificacions efectuades per la Montse i per en Pau no se superposin, per la qual cosa una vegada que tots dos conjunts de canvis s’han integrat, s’enregistra la nova versió de l’arxiu en el repositori. </div>
</li>
</ul>
<div class="iocfigure"><a name="Figure31"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Exemple de solució amb fusió

</figcaption><img src="../media/ic10m05u2_39.png" alt="" /></figure>
</div>
<p>
Aquest sistema podrà funcionar de forma senzilla si els canvis de cada un dels dos desenvolupadors no afecten la feina de l’altre. Però què succeeix si els canvis del primer desenvolupador actuen exactament a la mateixa línia de codi font que els canvis del segon? En aquest cas es podria crear un conflicte. Per evitar aquest conflicte, caldrà que el sistema vagi amb molta cura a l’hora de fusionar els dos arxius. Una possible forma d’actuar seria:
</p>
<ul>
<li class="level1"><div class="li"> Quan en Pau demana a l’assistent que fusioni els darrers canvis del repositori a la seva còpia de treball, la seva còpia de l’arxiu A marca d’alguna manera que està en un estat de conflicte. </div>
</li>
<li class="level1"><div class="li"> En Pau serà capaç de veure dos conjunts de canvis conflictius i, manualment, podrà triar entre tots dos o modificar el codi perquè tingui en compte tots dos.</div>
</li>
<li class="level1"><div class="li"> Una vegada resolts els canvis que se superposaven de forma manual, podrà guardar de forma segura l’arxiu fusionat al repositori.</div>
</li>
</ul>

<p>
Aquesta situació s’hauria de donar poques vegades, ja que la majoria dels canvis concurrents no se superposen en absolut i els conflictes no són freqüents. A més a més, moltes vegades el temps que porta resoldre conflictes és molt menor que el temps perdut per un sistema bloquejant.
</p>

<p>
El sistema de fusió d’arxius és l’utilitzat per algunes eines de control de versions com, per exemple, CVS o Subversion.
</p>

<p>
D’aquesta forma, concluïm que el punt fort d’aquest sistema és que permet el treball en paral·lel de més d’un desenvolupador o membre de l’equip de treball del projecte, i el punt feble és que no pot ser utilitzat per arxius no fusionables, com podrien ser les imatges gràfiques on cada desenvolupador modifica la imatge per una altra. La bona serà o la primera o la segona, però no es podran fusionar.
</p>

</div>

<h2><a id="utilitzacio_de_git" >Utilització de Git</a></h2>
<div class="level2">
<div class="iocnote"><div class="ioccontent">
<p>

Git va ser creat per Linus Torvalds per al desenvolupament del nucli de Linux l’any 2005.
</p>
</div></div>
<p>
Git és d’un programari de control de versions que utilitza un sistema distribuït i, per consegüent, cada usuari que clona un repositori obté una còpia completa dels fitxers i l’historial de canvis.
</p>

<p>
Tot i que Git és un sistema distribuït, pot utilitzar-se una còpia del repositori en un servidor de manera que tots els usuaris pugin i baixin els canvis d’aquest repositori per facilitar la sincronització.
</p>

<p>
Cal tenir en compte que Git és un programari força complex i inclou moltes característiques avançades per a la gestió de revisions i la visualització dels canvis. En aquests materials només es mostren les accions més habituals per poder treballar amb aquesta eina.
</p>

</div>

<h3><a id="instal_lacio" >Instal·lació</a></h3>
<div class="level3">
<div class="iocnote"><div class="ioccontent">
<p>
Git acostuma a estar instal·lat a totes les distribucions de Linux.
</p>
</div></div>
<p>
Git es troba disponible a la majoria de plataformes, incloent Linux, Windows, macOS i Solaris. A la pàgina oficial podeu trobar l’enllaç per descarregar-lo per als diferents sistemes operatius: <a href="https://git-scm.com/download/win" class="urlextern" title="https://git-scm.com/download/win"  rel="nofollow">goo.gl/BGGTMT</a>.
</p>

<p>
Tot i que Git ofereix una interfície gràfica, en aquests materials s’utilitza mitjançant la línia d’ordres.
</p>

<p>
El procés d’instal·lació en qualsevol sistema operatiu és molt senzill. En aquesta secció podeu llegir com instal·lar-lo a Windows:
</p>
<ol>
<li class="level1"><div class="li"> Descarregueu l’instal·lador des de l’enllaç següent: <a href="https://git-scm.com/download/win" class="urlextern" title="https://git-scm.com/download/win"  rel="nofollow">goo.gl/pykTra</a>.</div>
</li>
<li class="level1"><div class="li"> Un cop finalitzada la descàrrega, feu doble clic sobre l’instal·lador.</div>
</li>
<li class="level1"><div class="li"> Apareix la pantalla que mostra la llicència del programari. Feu clic a <code>Continuar</code>.</div>
</li>
<li class="level1"><div class="li"> Apareix la pantalla que mostra les opcions d’instal·lació. No cal que canvieu res.</div>
</li>
<li class="level1"><div class="li"> La següent pantalla ofereix tres opcions. Deixeu marcada l’opció per defecte: utilitzar Git des de la línia d’ordres de Windows (vegeu la <span class="figref"><a href="#figura u4-a2-1"><span>figura</span></a></span>).</div>
</li>
<li class="level1"><div class="li"> La següent pantalla ofereix dues opcions. Deixeu marcada l’opció per defecte: utilitzar la biblioteca OpenSSL (vegeu la <span class="figref"><a href="#figura u4-a2-2"><span>figura</span></a></span>).</div>
</li>
<li class="level1"><div class="li"> La següent pantalla mostra tres opcions. Deixeu marcada l’opció per defecte, ja que és l’opció recomanada per Windows per a projectes multiplataforma (vegeu la <span class="figref"><a href="#figura u4-a2-3"><span>figura</span></a></span>).</div>
</li>
<li class="level1"><div class="li"> La següent pantalla mostra dues opcions: utilitzar un emulador de terminal o fer servir la consola de Windows. Podeu marcar qualsevol de les dues opcions.</div>
</li>
<li class="level1"><div class="li"> La darrera pantalla mostra opcions per configurar opcions extres. Deixeu les opcions per defecte marcades (activar el sistema de cau i activar el gestor de credencials de Git) i feu clic a <code>Instal·lar</code>.</div>
</li>
</ol>
<div class="iocfigure"><a name="figura u4-a2-1"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Opcions d’ajustament de la variable PATH de l’entorn

</figcaption><img src="../media/u4-a2-1.png" alt="" /></figure>
</div><div class="iocfigure"><a name="figura u4-a2-2"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Selecció de la biblioteca de transport HTTPS

</figcaption><img src="../media/u4-a2-2.png" alt="" /></figure>
</div><div class="iocfigure"><a name="figura u4-a2-3"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Configuració del caràcter de final de línia

</figcaption><img src="../media/u4-a2-3.png" alt="" /></figure>
</div>
<p>
Un cop instal·lat, obriu la finestra del símbol del sistema (o la terminal, segons el sistema operatiu) i escriviu:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git</span> <span class="re5">--version</span></div></li></ol></pre>

<p>
El resultat ha de ser similar al següent:
</p>
<pre class="code">git version 2.14.1.windows.1</pre>

<p>
En cas que no funcioni correctament, proveu de reinstal·lar-lo i assegureu-vos que a la pantalla d’opcions per ajustar la variable d’entorn <code>PATH</code> heu seleccionat la segona opció: <em>Use Git from the Windows Command Prompt</em>.
</p>

</div>

<h3><a id="operacions_basiques" >Operacions bàsiques</a></h3>
<div class="level3">

<p>
El primer pas per començar a treballar amb Git un cop instal·lat és clonar un repositori ja existent o crear-ne un de nou. En aquesta secció es descriu pas a pas com crear un nou repositori i com treballar amb el repositori local i la còpia de treball amb Windows, però en altres sistemes operatius les ordres són les mateixes.
</p>

<p>
Primer heu d’obrir una finestra del símbol del sistema (o terminal) i crear un directori on s’inicialitzarà el repositori anomenat <code>proves-git</code>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1">md proves-git</div></li></ol></pre>

<p>
A Linux i macOS l’ordre serà:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">mkdir</span> proves-git</div></li></ol></pre>

<p>
Entreu dintre del directori amb l’ordre següent:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw3">cd</span> proves-git</div></li></ol></pre>

<p>
Inicialitzeu el repositori amb l’opció <code>init</code> de Git:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git init</span></div></li></ol></pre>

<p>
El resultat ha de ser semblant al següent:
</p>
<pre class="code">Initialized empty Git repository in D:/Users/Xavier Garcia/proves-git/.git/</pre>

<p>
Aquesta ordre inicialitza el sistema de control de versions i crea una carpeta oculta (anomenada<em>.git</em>) on hi ha tota la informació del repositori. Podeu entrar dintre de la carpeta amb l’ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw3">cd</span> .git</div></li></ol></pre>

<p>
El contingut de la carpeta serà similar al següent:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"> El volumen de la unidad D es Disco <span class="kw3">local</span></div></li><li class="li1"><div class="de1"> El número de serie del volumen es: <span class="nu0">9222</span>-DEE6</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"> Directorio de D:\Users\Xavier Garcia\proves-git\.git</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="nu0">18</span><span class="sy0">/</span>08<span class="sy0">/</span><span class="nu0">2017</span>  <span class="nu0">18</span>:05               <span class="nu0">130</span> config</div></li><li class="li1"><div class="de1"><span class="nu0">18</span><span class="sy0">/</span>08<span class="sy0">/</span><span class="nu0">2017</span>  <span class="nu0">18</span>:05                <span class="nu0">73</span> description</div></li><li class="li1"><div class="de1"><span class="nu0">18</span><span class="sy0">/</span>08<span class="sy0">/</span><span class="nu0">2017</span>  <span class="nu0">18</span>:05                <span class="nu0">23</span> HEAD</div></li><li class="li1"><div class="de1"><span class="nu0">18</span><span class="sy0">/</span>08<span class="sy0">/</span><span class="nu0">2017</span>  <span class="nu0">18</span>:05    <span class="sy0">&lt;</span>DIR<span class="sy0">&gt;</span>          hooks</div></li><li class="li1"><div class="de1"><span class="nu0">18</span><span class="sy0">/</span>08<span class="sy0">/</span><span class="nu0">2017</span>  <span class="nu0">18</span>:05    <span class="sy0">&lt;</span>DIR<span class="sy0">&gt;</span>          info</div></li><li class="li1"><div class="de1"><span class="nu0">18</span><span class="sy0">/</span>08<span class="sy0">/</span><span class="nu0">2017</span>  <span class="nu0">18</span>:05    <span class="sy0">&lt;</span>DIR<span class="sy0">&gt;</span>          objects</div></li><li class="li1"><div class="de1"><span class="nu0">18</span><span class="sy0">/</span>08<span class="sy0">/</span><span class="nu0">2017</span>  <span class="nu0">18</span>:05    <span class="sy0">&lt;</span>DIR<span class="sy0">&gt;</span>          refs</div></li><li class="li1"><div class="de1">               <span class="nu0">3</span> archivos            <span class="nu0">226</span> bytes</div></li><li class="li1"><div class="de1">               <span class="nu0">4</span> <span class="kw3">dirs</span>  1.668.150.059.008 bytes libres</div></li></ol></pre>
<div class="iocnote"><div class="ioccontent">
<p>
Una manera d’eliminar el control de versions d’un projecte és esborrar la carpeta <em>.git</em>.
</p>
</div></div>
<p>
Els fitxers d’aquesta carpeta no s’han de tocar mai, a excepció del fitxer config, que conté la informació del repositori i de vegades cal fer alguna modificació (per exemple, canviar el repositori remot).
</p>

<p>
Un cop inicialitzat el repositori, el contingut del directori <em>proves-git</em> es considera la còpia de treball. Creeu un fitxer dintre d’aquest directori anomenat index.html, amb un editor de text pla amb el següent contingut:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span>Proves Git<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 1: Inicialitzar el repositori: git init<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li></ol></pre>

<p>
Escriviu a la línia d’ordres:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git status</span></div></li></ol></pre>

<p>
Aquesta ordre mostra l’estat actual de la còpia de treball. Així, l’ordre anterior us mostrarà un resultat similar al següent:
</p>
<pre class="code">On branch master

No commits yet

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)

        index.html

nothing added to commit but untracked files present (use &quot;git add&quot; to track)</pre>

<p>
El nom del fitxer index.html es mostra ressaltat per destacar que aquest fitxer no es troba sota el control de versions. Per afegir un o més fitxers (o directoris) al control de versions es fa servir l’ordre <code>git add</code>, indicant com a paràmetre la ruta (admet comodins) dels elements que cal afegir. Per exemple, per afegir tots els fitxers al sistema de control de versions es fa servir l’ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git add</span> .</div></li></ol></pre>
<div class="iocnote"><div class="ioccontent">
<p>
Quan s’afegeixen fitxers al control de canvis amb <code>git add</code>, però encara no s’han pujat els canvis al repositori local es diu que els canvis es troben a l’àrea de <em>staging</em>.
</p>
</div></div>
<p>
Si només voleu afegir els fitxers amb extensió .html, l’ordre ha de ser:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git add</span> <span class="sy0">*</span>.html</div></li></ol></pre>

<p>
Un cop executada qualsevol de les ordres anteriors, si comproveu l’estat de la còpia de treball el resultat serà similar al següent:
</p>
<pre class="code">On branch master

No commits yet

Changes to be committed:
  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)

        new file:   index.html</pre>

<p>
Fixeu-vos que el fitxer s’ha afegit al sistema de control de canvis, però encara no s’ha pujat al repositori local.
</p>

<p>
En cas d’afegir un fitxer per error, podeu eliminar-lo amb l’ordre <code>git rm –cache</code>. Per exemple, per eliminar el fitxer anterior del control de versions podeu utilitzar l’ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git rm</span> index.html <span class="re5">--cache</span></div></li></ol></pre>
<div class="iocnote"><div class="ioccontent">
<p>
Quan s’inicialitza un projecte és habitual fer una primera pujada amb un comentari similar a “Pujada inicial”.
</p>
</div></div>
<p>
Cal tenir en compte que afegir un fitxer al control de versions no el puja al repositori; així, els canvis que es produeixin al fitxer encara no quedaran enregistrats a l’historial de canvis. Per pujar els fitxers al repositori i començar a enregistrar aquests canvis s’ha d’utilitzar l’ordre <code>commit</code>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git commit</span> <span class="re5">-m</span> <span class="st0">&quot;Pujada inicial&quot;</span></div></li></ol></pre>

<p>
El paràmetre <code>-m</code> serveix per afegir un comentari i s’utilitza per afegir informació extra sobre els canvis que inclou la versió (el conjunt de canvis realitzats). El resultat d’executar l’ordre anterior serà similar al següent:
</p>
<pre class="code">[master (root-commit) 33f2ea7] Pujada inicial
 1 file changed, 4 insertions(+)
 create mode 100644 index.html</pre>

<p>
Si a continuació comproveu l’estat de la còpia de treball amb l’ordre <code>git status</code>, podeu veure que no es detecta res perquè tots els canvis es troben ja a la còpia de treball:
</p>
<pre class="code">On branch master
nothing to commit, working tree clean</pre>

<p>
Per comprovar que es detecten els canvis correctament canvieu el contingut del fitxer index.html pel següent:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span>Proves Git<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 1: Inicialitzar el repositori: git init<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 2: Afegir tots els fitxers: git add .<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li></ol></pre>

<p>
Afegiu un nou fitxer buit anomenat llegeix.me al directori <code>proves-git</code>, i comproveu l’estat de la còpia de treball amb <code>git status</code>. El resultat serà similar al següent:
</p>
<pre class="code">On branch master
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

        modified:   index.html

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)

        llegeix.me

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</pre>

<p>
Com podeu apreciar, el missatge indica que s’han detectat canvis al fitxer index.html i que s’ha trobat un fitxer (llegeix.me) que no es troba sota el control de versions.
</p>

<p>
Afegiu el nou fitxer al control de versions amb l’ordre <code>git add</code>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git add</span> llegeix.me</div></li></ol></pre>

<p>
Pugeu els canvis al repositori:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git commit</span> . <span class="re5">-m</span> <span class="st0">&quot;Afegit pas 2 i nou fitxer&quot;</span></div></li></ol></pre>

<p>
Fixeu-vos que per pujar els canvis del fitxer index.html s’ha d’afegir un punt (<code>.</code>) a les opcions. Això indica que es volen pujar tots els fitxers modificats sota el control de versions, i no només els fitxers afegits. En cas contrari, la versió pujada només inclou el nou fitxer creat i no pas els canvis al fitxer index.html.
</p>

<p>
Un cop pujada aquesta versió, podeu veure la llista de versions pujades al repositori amb l’ordre <code>git log</code>. El resultat serà similar al següent:
</p>
<pre class="code">commit 3f9365181b055c0b956e3bdf97a6e3a37085927f (HEAD -&gt; master)
Author: Xavier Garcia &lt;xaviergaro.dev@gmail.com&gt;
Date:   Fri Aug 18 19:17:53 2017 +0200

    Afegit pas 2 i nou fitxer.

commit 33f2ea78a9657bc6ad8660a6e0edea3b68ae02cf
Author: Xavier Garcia &lt;xaviergaro.dev@gmail.com&gt;
Date:   Fri Aug 18 18:41:18 2017 +0200

    Pujada inicial</pre>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Configuració de l&#039;adreça de correu a Git</p>
<p>
Podeu configurar l’autor i l’adreça de correu utilitzada per Git amb les ordres: <code>git config –global user.name “Autor”</code> i <code>git config –global user.email email@exemple.cat</code>.
</p>
</div></div>
<p>
Com podeu apreciar, apareixen les dues versions pujades on s’indica l’identificador de la versió (<code>commit</code>), l’indicador de quin és l’últim que s’ha pujat (<code>HEAD&gt; master</code>), l’autor i la data de la pujada, seguit del text introduït com a comentari amb l’opció <code>-m</code>.
</p>

<p>
Es recomana pujar els canvis al repositori local de manera freqüent, preferiblement incloent canvis relacionats. Per exemple, si es detecta un error al programari i se soluciona el problema seria adient pujar el canvi abans de continuar afegint una altra característica o solucionant altres problemes. D’aquesta manera en el futur és possible tornar a la versió concreta en la qual es va fer el canvi.
</p>

<p>
Cal recordar que en cas que la informació ocupi més d’una pantalla no es mostra tot de cop, sinó que el programa en mostra només una part i podreu desplaçar-vos per veure la resta amb les fletxes del teclat. Per sortir, premeu la tecla <strong>q</strong>.
</p>

<p>
Una altra opció a l’hora de crear repositoris és clonar un repositori existent. Per fer-ho s’utilitza l’ordre <code>git clone</code>, indicant l’adreça del repositori que es vol clonar. Per exemple, per clonar el repositori que es troba a l’<acronym title="Uniform Resource Locator">URL</acronym> <a href="https://github.com/XavierGaro/client-servidor-xat.git" class="urlextern" title="https://github.com/XavierGaro/client-servidor-xat.git"  rel="nofollow">https://github.com/XavierGaro/client-servidor-xat.git</a> l’ordre seria la següent:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git clone</span> https:<span class="sy0">//</span>github.com<span class="sy0">/</span>XavierGaro<span class="sy0">/</span>client-servidor-xat.git</div></li></ol></pre>

<p>
Aquesta ordre crea el directori <em>client-servidor-xat</em> i descarrega els continguts del repositori mostrant per pantalla els missatges següents:
</p>
<pre class="code">Cloning into &#039;client-servidor-xat&#039;...
remote: Counting objects: 45, done.
remote: Total 45 (delta 0), reused 0 (delta 0), pack-reused 45
Unpacking objects: 100% (45/45), done.</pre>

<p>
En resum, les ordres bàsiques de Git per treballar amb repositoris locals són les següents:
</p>
<ul>
<li class="level1"><div class="li"> <strong>git init</strong>: inicialitza un repositori.</div>
</li>
<li class="level1"><div class="li"> <strong>git add </strong>: afegeix elements de la còpia de treball al control de versions.</div>
</li>
<li class="level1"><div class="li"> <strong>git rm –cache</strong>: elimina elements del control de versions.</div>
</li>
<li class="level1"><div class="li"> <strong>git status</strong>: mostra l’estat de la còpia de treball.</div>
</li>
<li class="level1"><div class="li"> <strong>git commit</strong>: puja els canvis de la còpia de treball sota el control de versions al repositori local.</div>
</li>
<li class="level1"><div class="li"> <strong>git log</strong>: mostra la llista de versions pujades al repositori local.</div>
</li>
<li class="level1"><div class="li"> <strong>git clone</strong>: copia un repositori remot, no cal inicialitzar-lo.</div>
</li>
</ul>

</div>

<h3><a id="operacions_avancades" >Operacions avançades</a></h3>
<div class="level3">

<p>
És molt habitual quan es treballa en control de versions haver de crear noves branques, de manera que al tronc es troba la versió actual del programari i a les branques es desenvolupen noves funcionalitats, es fa el manteniment de versions anteriors o se solucionen errors.
</p>

<p>
En alguns casos, com la implementació de noves funcionalitats i la solució d’errors, aquestes branques es fusionen amb el tronc un cop s’ha finalitzat amb èxit la tasca.
</p>

<p>
Per crear una nova branca es fa servir l’ordre <code>git branch</code>. Per exemple, dintre del directori <em>proves-git</em> (on s’ha inicialitzat prèviament un repositori) escriviu l’ordre següent i es crearà una nova branca amb el nom <code>nova-branca</code>:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git branch</span> nova-branca</div></li></ol></pre>

<p>
No es visualitza cap canvi, però si entreu l’ordre <code>git branch</code> veureu la llista de branques al repositori:
</p>
<pre class="code">* master
  nova-branca</pre>

<p>
Com podeu apreciar, es mostra un asterisc al costat de la branca activa (<code>master</code>).
</p>

<p>
Per canviar de branca s’utilitza l’ordre <code>git checkout</code>. Així, per canviar a la branca <code>nova-branca</code> heu d’utilitzar la següent ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git checkout</span> nova-branca</div></li></ol></pre>

<p>
Si a continuació proveu d’entrar l’ordre <code>git branch</code>, veureu que l’asterisc es mostra al costat de la branca <code>nova-branca</code>:
</p>
<pre class="code">  master
* nova-branca</pre>

<p>
Per comprovar que els canvis són independents, assegureu-vos de situar-vos a la branca <code>nova-branca</code> i editeu el fitxer index.html (o creeu-ne un de nou amb aquest nom) de manera que contingui el codi següent:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span>Proves Git<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 1: Inicialitzar el repositori: git init<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 2: Afegir tots els fitxers: git add .<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 4: Crear una branca: git branch nova-branca<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li></ol></pre>

<p>
Seguidament pugeu els canvis al repositori amb l’ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git commit</span> <span class="re5">-m</span> . <span class="st0">&quot;Afegit pas 4&quot;</span></div></li></ol></pre>

<p>
Apareix un missatge similar al següent:
</p>
<pre class="code">[nova-branca b4483e3] Afegit pas 4
 1 file changed, 1 insertion(+)</pre>

<p>
Si torneu a la branca <code>master</code> amb l’ordre <code>git checkout master</code> i editeu el fitxer index.html, podeu veure que el contingut del fitxer index.html és diferent. En canviar de branca, el fitxer a la còpia de treball correspon al de la branca <code>master</code> i no al que s’ha modificat anteriorment.
</p>

<p>
Assegureu-vos que us trobeu a la branca <code>master</code> i modifiqueu el fitxer index.html, amb el següent contingut:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span>Proves Git<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 1: Inicialitzar el repositori: git init<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 2: Afegir tots els fitxers: git add .<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 3: Pujar els canvis al repositori: git commit . -m &quot;Pujar canvis&quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li></ol></pre>

<p>
Seguidament pugeu els canvis al repositori amb l’ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git commit</span> . <span class="re5">-m</span> <span class="st0">&quot;Afegit pas 3&quot;</span></div></li></ol></pre>

<p>
Arribats a aquest punt, els continguts de totes dues branques són diferents i a mesura que es pugin més canvis al repositori en una o altra branca s’afegiran al registre propi de cada branca, com podeu veure a la <span class="figref"><a href="#figura u4-a2-8"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figura u4-a2-8"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Representació de branques a Git

</figcaption><img src="../media/daw_m08_u4_01.png" title="{{:fp:daw:m08:u4:a2:daw_m08_u4_02.png?200|" alt="{{:fp:daw:m08:u4:a2:daw_m08_u4_02.png?200|" /></figure>
</div>
<p>
En el cas que vulgueu integrar els canvis fets en una branca amb el tronc (per exemple, perquè s’ha finalitzat la implementació de la nova funcionalitat o s’ha corregit l’error pel qual es va crear la branca), heu de fer servir l’ordre <code>git merge</code>. Per exemple, per fusionar els canvis de la branca <code>nova-branca</code> amb la branca <code>master</code> s’ha d’utilitzar la següent ordre (essent <code>master</code> la branca activa):
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git merge</span> nova-branca</div></li></ol></pre>

<p>
En cas que els canvis de cada branca afectin diferents fitxers no cal fer res més, però com que en aquest cas s’ha modificat el mateix fitxer i les mateixes línies a totes dues branques es produeix un conflicte que cal solucionar abans de continuar. Per veure on es troba el problema podeu utilitzar l’ordre <code>git diff</code>, que mostra un text similar al següent:
</p>
<pre class="code">diff --cc index.html
index ae389e4,e2e54dd..0000000
--- a/index.html
+++ b/index.html
@@@ -2,5 -2,5 +2,9 @@@
  &lt;ul&gt;
    &lt;li&gt;Pas 1: Inicialitzar el repositori: git init&lt;/li&gt;
    &lt;li&gt;Pas 2: Afegir tots els fitxers: git add .&lt;/li&gt;
++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
 +  &lt;li&gt;Pas 3: Pujar els canvis al repositori: git commit . -m &quot;Pujar canvis&quot;&lt;/li&gt;
++=======
+   &lt;li&gt;Pas 4: Crear una branca: git branch nova-branca&lt;/li&gt;
++&gt;&gt;&gt;&gt;&gt;&gt;&gt; nova-branca
  &lt;/ul&gt;</pre>

<p>
Per solucionar el conflicte heu d’editar el fitxer index.html, on s’hauran afegit les marques <code>«««&lt; HEAD</code> on comença el conflicte i <code>»»»&gt; nova-branca</code> on acaba, fer els canvis necessaris i desar el fitxer. El contingut del fitxer index.html una vegada resolt el conflicte ha de ser el següent:
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span>Proves Git<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h1.html"><span class="kw2">h1</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 1: Inicialitzar el repositori: git init<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 2: Afegir tots els fitxers: git add .<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 3: Pujar els canvis al repositori: git commit . -m &quot;Pujar canvis&quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span>Pas 4: Crear una branca: git branch nova-branca<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/li.html"><span class="kw2">li</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/ul.html"><span class="kw2">ul</span></a>&gt;</span></div></li></ol></pre>

<p>
Una vegada desats els canvis, pugeu-lo al repositori amb l’ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git commit</span> <span class="re5">-a</span> <span class="re5">-m</span> <span class="st0">&quot;Conflicte resolt&quot;</span></div></li></ol></pre>

<p>
Fixeu-vos que s’ha fet servir el paràmetre <code>-a</code>. Si no es fa així, es considera una pujada parcial i no permet continuar. El missatge d’error que es mostra és el següent:
</p>
<pre class="code">fatal: cannot do a partial commit during a merge.</pre>

<p>
Arribats a aquest punt, s’ha fusionat la branca amb el tronc i la representació del repositori és la que es mostra a la <span class="figref"><a href="#figura u4-a2-9"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figura u4-a2-9"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Branca fusionada amb el tronc a Git

</figcaption><img src="../media/daw_m08_u4_02.png" alt="" /></figure>
</div>
<p>
De vegades interessa tornar a una versió anterior del control de canvis. Per fer-ho es pot utilitzar l’ordre <code>checkout</code>, però en lloc d’indicar una branca s’indica l’identificador de la versió. Per exemple, si voleu tornar a la versió on es va afegir el pas 2 i el seu identificador és <code>commit 3f9365181b055c0b956e3bdf97a6e3a37085927f</code>, l’ordre que haureu d’utilitzar és:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git checkout</span> 3f93651</div></li></ol></pre>

<p>
Com podeu apreciar, no cal entrar l’identificador complet, només el nombre suficient de caràcters, perquè no coincideix amb cap altre identificador de versió. Recordeu que es pot trobar l’identificador corresponent a cada versió amb l’ordre <code>git log</code>.
</p>

<p>
En canviar a una versió anterior es mostra a la terminal un missatge indicant que la còpia de treball es troba en l’estat <code>detached HEAD</code> i indica que es pot crear una nova branca a partir d’aquesta versió amb l’ordre <code>git checkout -b nom-de-la-branca</code>.
</p>

<p>
No es recomana fer canvis en aquest estat, ja que és molt fàcil que es produeixin errors que requereixen coneixements avançats de Git per poder-se solucionar. Per evitar aquests problemes, si es volen fer canvis, és millor crear una nova branca a partir de la versió i fer els canvis a la branca.
</p>

<p>
Per tornar a la versió més actual només cal entrar l’ordre <code>git checkout</code>, especificant una branca (per exemple, <code>master</code>):
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git checkout</span> master</div></li></ol></pre>

<p>
Git permet afegir etiquetes a les versions de manera que es pot distingir entre les versions habituals i les que representen algun fet especial, com per exemple una versió estable del producte o alguna fita concreta (la inclusió d’alguna funcionalitat important).
</p>

<p>
Per afegir una etiqueta a l’última versió afegida al repositori s’utilitza l’ordre <code>git tag -a</code>. Per exemple:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git tag</span> <span class="re5">-a</span> v1.0 <span class="re5">-m</span> <span class="st0">&quot;Primera versió&quot;</span></div></li></ol></pre>

<p>
L’opció <code>-a</code> indica el text de l’etiqueta i l’opció <code>-m</code> permet afegir informació addicional.
</p>

<p>
Per llistar totes les etiquetes d’un repositori s’utilitza l’ordre <code>git tag</code> sense cap opció. A partir d’aquesta llista, es pot fer servir l’ordre <code>git show</code> per mostrar la informació referent a la revisió corresponent a l’etiqueta. Per exemple, l’ordre <code>git show v1.0</code> mostra un text similar al següent:
</p>
<pre class="code">tag v1.0
Tagger: Xavier Garcia &lt;xaviergaro.dev@gmail.com&gt;
Date:   Fri Aug 18 21:06:17 2017 +0200

Primera versió

commit 7a7edead12a3f7f33e1bebc692cc868fa534f18f (HEAD -&gt; master, tag: v1.0)
Merge: 3f2e774 b4483e3
Author: Xavier Garcia &lt;xaviergaro.dev@gmail.com&gt;
Date:   Fri Aug 18 20:39:31 2017 +0200

    Conflicte resolt

diff --cc index.html
index ae389e4,e2e54dd..31d9d62
--- a/index.html
+++ b/index.html
@@@ -2,5 -2,5 +2,6 @@@
  &lt;ul&gt;
    &lt;li&gt;Pas 1: Inicialitzar el repositori: git init&lt;/li&gt;
    &lt;li&gt;Pas 2: Afegir tots els fitxers: git add .&lt;/li&gt;
 +  &lt;li&gt;Pas 3: Pujar els canvis al repositori: git commit . -m &quot;Pujar canvis&quot;&lt;/li&gt;
+   &lt;li&gt;Pas 4: Crear una branca: git branch nova-branca&lt;/li&gt;
  &lt;/ul&gt;</pre>

<p>
Cal destacar que l’ordre <code>git show</code> es pot utilitzar directament amb un identificador de versió i mostraria pràcticament la mateixa informació (sense les dades referents a l’etiqueta). Per exemple:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git show</span> 7a7ed</div></li></ol></pre>

<p>
S’ha de tenir en compte que un repositori pot comptar amb centenars de revisions; això fa que trobar una revisió concreta només pel nombre de revisió sigui força complicat. En canvi, si la revisió que cerqueu està etiquetada trobar-la és molt ràpid. De vegades pot interessar descartar tots els canvis realitzats a la còpia de treball i tornar a la revisió actual. En aquest cas es pot fer servir l’ordre:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git reset</span> <span class="re5">--hard</span></div></li></ol></pre>

<p>
Aquesta ordre descarta tots els canvis i tots els fitxers sota el control de canvis són restablerts. Aquesta acció és coneguda com a “revertir els canvis” en alguns entorns.
</p>

<p>
Quan es treballa amb repositoris remots (per exemple, quan es clona un repositori) es poden descarregar els canvis que s’han portat a terme en el repositori remot amb l’ordre <code>git pull</code>. Aquesta ordre descarrega els canvis i fa una fusió automàtica amb la còpia de treball. Aquesta acció pot provocar conflictes que s’han de resoldre abans de poder pujar els canvis al servidor.
</p>

<p>
En el cas de voler pujar els canvis del repositori local al repositori remot l’ordre que s’ha d’utilitzar és <code>git push</code>. Per executar aquesta ordre primer heu de fer un <em>pull</em> per fusionar els canvis al servidor remot amb la còpia de treball. En cas contrari, si s’han produït canvis al repositori remot, l’ordre <em>push</em> és rebutjada.
</p>

<p>
Per afegir un repositori remot heu de fer servir l’ordre <code>git remote add</code>, indicant el nom del repositori remot i l’<acronym title="Uniform Resource Locator">URL</acronym> corresponent. Per exemple:
</p>
<pre class="code">git add remote add xat https://github.com/xaviergaro/client-servidor-xat</pre>

<p>
Aquesta ordre afegeix com a repositori remot l’<acronym title="Uniform Resource Locator">URL</acronym> <code>https://github.com/xaviergaro/client-servidor-xat</code> amb <em>xat</em> com a nom curt. Cal destacar que és possible configurar múltiples repositoris remots, però s’ha de tenir molt de compte a l’hora de sincronitzar-los, ja que si no s’automatitza aquesta tasca és possible oblidar fer la sincronització de tots els repositoris quan es produeixen canvis.
</p>

<p>
Per fer un <em>push</em> al servidor remot heu d’indicar el repositori d’origen (per al repositori local és <code>origin</code>) i el repositori de destí. Per exemple, per fer un <em>push</em> des del repositori local al repositori remot <em>xat</em> l’ordre seria la següent:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git push</span> origin xat</div></li></ol></pre>

<p>
Per fer un <em>pull</em> només cal indicar el nom curt del repositori remot:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git pull</span> xat</div></li></ol></pre>
<div class="iocnote"><div class="ioccontent">
<p>
Algunes aplicacions inclouen plantilles per generar els fitxers .gitignore amb la selecció de fitxers i directoris més habituals segons el llenguatge utilitzat.
</p>
</div></div>
<p>
Habitualment cal ignorar determinats fitxers per evitar que s’afegeixin al sistema de control de versions. Per exemple: fitxers del sistema operatiu, fitxers generats per l’entorn de desenvolupament, fitxers de configuració amb contrasenyes, etc.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
Podeu trobar la documentació completa sobre ignorar fitxers o directoris al següent enllaç: <a href="https://git-scm.com/docs/gitignore" class="urlextern" title="https://git-scm.com/docs/gitignore"  rel="nofollow">goo.gl/CTkwC7</a>.
</p>
</div></div>
<p>
Per no haver de preocupar-vos quan feu servir l’ordre <code>git add .</code>, podeu afegir aquestes exclusions al fitxer .gitignore. El format d’aquest fitxer es molt senzill: només cal indicar el nom dels fitxers o directoris que es volen ignorar. Per exemple:
</p>
<pre class="code"># Diaris
logs
*.log

# Dependències
node_modules</pre>

<p>
Com podeu apreciar, el fitxer .gitignore amb el contingut anterior ignoraria els directoris <em>logs</em>, <em>node_modules</em> i tots els fitxers amb extensió log. El símbol # s’utilitza per afegir comentaris i són ignorats per Git.
</p>

<p>
En resum, les ordres avançades que s’han vist en aquesta secció són:
</p>
<ul>
<li class="level1"><div class="li"> <strong>git branch</strong>: crea noves branques o llista les branques del repositori.</div>
</li>
<li class="level1"><div class="li"> <strong>git checkout</strong>: canvia la còpia de treball a la branca o versió indicada.</div>
</li>
<li class="level1"><div class="li"> <strong>git diff</strong>: mostra els canvis que s’han afegit en una versió.</div>
</li>
<li class="level1"><div class="li"> <strong>git log</strong>: mostra la llista de versions per la branca activa.</div>
</li>
<li class="level1"><div class="li"> <strong>git merge</strong>: fusiona els canvis entre dues branques.</div>
</li>
<li class="level1"><div class="li"> <strong>git tag</strong>: afegeix una etiqueta a una versió.</div>
</li>
<li class="level1"><div class="li"> <strong>git show</strong>: mostra informació sobre la versió indicada.</div>
</li>
<li class="level1"><div class="li"> <strong>git reset –hard</strong>: reverteix els canvis a la còpia de treball.</div>
</li>
<li class="level1"><div class="li"> <strong>git pull</strong>: puja els canvis del repositori local a un repositori remot.</div>
</li>
<li class="level1"><div class="li"> <strong>git push</strong>: baixa els canvis d’un repositori remot al repositori local.</div>
</li>
<li class="level1"><div class="li"> <strong>git remote</strong>: afegeix un repositori remot o llista els repositoris remots enllaçats amb el repositori local.</div>
</li>
<li class="level1"><div class="li"> <strong>fitxer .gitignore</strong>: permet afegir una llista de fitxers i directoris per excloure del sistema de control de versions.</div>
</li>
</ul>

<p>
Hi ha clients gràfics que ens permeten treballar amb Git sense necessitat de teclejar les ordres, com SmartGit, GitKraken o SourceTree, que és gratuït.
</p>

</div>

<h3><a id="integracio_amb_entorns_de_desenvolupament_integratseclipse" >Integració amb entorns de desenvolupament integrats: Eclipse</a></h3>
<div class="level3">

<p>
Tots els entorns de desenvolupament integrats (i alguns editors de text per a desenvolupadors) inclouen l’opció de gestionar el control de versions dintre del mateix programa. En aquesta secció es descriu com integra Eclipse el control de versions amb Git. 
</p>

<p>
A Eclipse, la gestió de versions amb Git va incorporada amb el connector EGit. Aquest connector queda instal·lat per defecte en instal·lar Eclipse.
</p>

</div>

<h4><a id="creacio_del_repositori" >Creació del repositori</a></h4>
<div class="level4">

<p>
A Eclipse (amb el connector EGit), per inicialitzar un repositori cal fer clic amb el botó secundari a sobre de la carpeta que representa el projecte que volem introduir al repositori i seleccionar les opcions <em>Team</em> / <em>Share Project…</em>, com es veu a la <span class="figref"><a href="#figuraGitOpcioShare"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitOpcioShare"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Opció ‘Share’

</figcaption><img src="../media/gitopcioshare.png" alt="" /></figure>
</div>
<p>
Ens apareixerà la finestra que es mostra a la <span class="figref"><a href="#figuraGitConfiguracioRepository"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitConfiguracioRepository"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Configuració del repositori

</figcaption><img src="../media/gitconfiguraciorepository.png" alt="" /></figure>
</div>
<p>
En aquest cas no hi ha cap repositori ja definit i n’hem de crear un de nou. Si ja n’existís un, podriem seleccionar-lo. Per crear el nou repositori, clicarem al botó <em>Create…</em> . Ens sortirà una finestra per demanar el directori o carpeta on anirà el repositori que estem creant. Caldrà completar el camí d’aquesta carpeta i, a continuació, clicar al botó <em>Finish</em> d’aquesta finestra. Tornarem novament a la pantalla que ens mostra la <span class="figref"><a href="#figuraGitConfiguracioRepository"><span>figura</span></a></span>, però amb les dades <em>Repository</em> i <em>Working tree</em> omplertes. En clicar novament al botó <em>Finish</em>, haurem creat el repositori i hi haurem afegit el projecte actual.
</p>

<p>
L’opció “Use or create repository in parent folder of project” que apareix a la finestra de la <span class="figref"><a href="#figuraGitConfiguracioRepository"><span>figura</span></a></span> i que no hem seleccionat força la creació del repositori a la mateixa carpeta del nostre projecte, però té l’inconvenient que ja no es podrien afegir més projectes al repositori així creat.
</p>

<p>
Un cop creat el nou repositori amb el nostre projecte a dins, ens apareixen interrogants a tot allò que està pendent de confirmar, tal com es mostra a la :<span class="figref"><a href="#figuraGitExploradorInterrogants"><span>figura</span></a></span>, que és una captura de l’explorador dels projectes:
</p>
<div class="iocfigure"><a name="figuraGitExploradorInterrogants"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Explorador amb elements pendents de confirmar

</figcaption><img src="../media/gitexploradorinterrogants.png" alt="" /></figure>
</div>
<p>
També ens ha d’aparèixer la finestra amb els repositoris Git (habitualment a la zona inferior dreta de la finestra), tal com es mostra a la <span class="figref"><a href="#figuraGitFinestraRepositoris"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitFinestraRepositoris"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Finestra amb els repositoris Git

</figcaption><img src="../media/gitfinestrarepositoris.png" alt="" /></figure>
</div>
<p>
Si no apareix aquesta finestra, es pot obrir amb l’opció del menú <em>Window</em> / <em>Show view</em> / <em>Other…</em> / <em>Git</em> / <em>Git repositories</em>.
</p>

</div>

<h4><a id="gestio_basica_del_repositori" >Gestió bàsica del repositori</a></h4>
<div class="level4">

<p>
Un cop creat el repositori, des de l’explorador dels projectes, es pot accedir a totes les accions relacionades amb Git clicant amb el botó secundari del ratolí a sobre de qualsevol dels elements del projecte o, també, a sobre del propi projecte i seleccionant l’opció <em>Team</em> del menú contextual que apareix. Aquest menú es veu a la :<span class="figref"><a href="#figuraGitMenuTeam"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitMenuTeam"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Opció Team del menú contextual

</figcaption><img src="../media/gitmenuteam.png" alt="" /></figure>
</div>
<p>
També apareix un menú contextual similar si es clica amb el botó secundari a sobre del repositori que apareix a la finestra <em>Git repositories</em>.
</p>

<p>
Si seleccionem l’opció <em>commit…</em> (que fa el que el seu nom indica), ens apareix la finestra <em>Git Staging</em>, com es veu a la <span class="figref"><a href="#figuraGitFinestraStaging"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitFinestraStaging"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Finestra ‘Staging’

</figcaption><img src="../media/gitfinestrastaging.png" alt="" /></figure>
</div>
<p>
En aquesta finestra, a la llista <em>Unstaged Changes</em>, apareixen tots els fitxers que no volem confirmar. Inicialment hi són tots els fitxers modificats des del darrer <em>commit</em> o tots els fitxers si no hem fet encara cap <em>commit</em> des de la creació del repositori. D’altra banda, a la llista <em>Staged Changes</em> apareixen els fitxers que volem confirmar. Inicialment, no n’hi ha cap. Caldrà, doncs, moure tots els fitxers que vulguem confirmar des de la primera llista a la segona. Això podem fer-ho seleccionant-los i, a continuació, fent clic a la icona amb forma de creu que apareix a sobre de la llista <em>Unstaged Changes</em>, al costat dret. També podem moure’ls tots de cop si fem directament clic a la icona que representa dues creus. Si volguéssim fer tornar algun fitxer cap a la llista superior, a sobre de la llista <em>Staged Changes</em> també hi ha dues icones que permetran fer-ho: una representa un signe menys i una segona que representa dos signes menys; serveixen, respectivament, per passar els elements seleccionats o tots els elements a la llista <em>Unstaged Changes</em>.
</p>

<p>
Es pot observar també que els elements de la llista <em>Unstaged Changes</em> mantenen un interrogant a la icona que els representa, mentre que als de la llista <em>Stagged changes</em> aquest interrogant ha estat substituit per una creu.
</p>

<p>
En aquest punt, abans de fer el <em>commit</em>, ja només resta escriure el comentari associat a aquesta operació. S’escriu al quadre de text de sota de l’etiqueta <em>Commit message</em>. Per exemple, podem escriure “versió inicial” com a comentari.
</p>

<p>
Ara podem clicar al botó <em>Commit</em> per acabar de realitzar aquesta operació. Després del <em>commit</em> veureu, a l’explorador dels projectes, que s’han substituit totes les creus per cilindres. Aquests cilindres són el símbol habitual de les bases de dades i, en aquest cas, el significat és que Git ha indexat aquests elements. És a dir, en certa manera els ha inclòs a la seva base de dades.
</p>

<p>
Una altra operació de Git que ens permet realitzar Eclipse és consultar l’historial de les versions que hem confirmat del nostre projecte. Per fer-ho, cal seleccionar <em>History</em> a la finestra que s’obre amb l’opció del menú <em>Window</em> / <em>Show view</em> / <em>Other…</em>, tal com es veu a la <span class="figref"><a href="#figuraGitHistoryOption"><span>figura</span></a></span>. 
</p>
<div class="iocfigure"><a name="figuraGitHistoryOption"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Opció ‘History’

</figcaption><img src="../media/githistoryoption.png" alt="" /></figure>
</div>
<p>
S’obrirà la finestra <em>History</em>, que té l’aspecte que apareix a la <span class="figref"><a href="#figuraGitFinestraHistory"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitFinestraHistory"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Finestra ‘History’

</figcaption><img src="../media/gitfinestrahistory.png" alt="" /></figure>
</div>
<p>
En aquesta finestra, si fem un canvi al codi i tornem a confirmar -per exemple, posant-hi el missatge “Versió comentada”-, la finestra ens mostrarà l’historial de les versions de la branca actual. A més, podrem explorar els fitxers de cada versió i se’ns mostraran les diferències, com es veu a la <span class="figref"><a href="#figuraGitHistoryExplore"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitHistoryExplore"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Exploració de versions

</figcaption><img src="../media/githistoryexplore.png" alt="" /></figure>
</div>
<p>
Si cliquem amb el botó secundari a sobre de la representació del nostre projecte a l’explorador dels projectes, trobarem l’opció <em>Team</em>, que permet triar i executar altres opcions de Git. Per exemple:
</p>
<ul>
<li class="level1"><div class="li"> <em>Switch to:</em> permet canviar-nos de branca i crear-ne una de nova.</div>
</li>
<li class="level1"><div class="li"> <em>Advanced:</em> permet esborrar o canviar el nom a les branques.</div>
</li>
<li class="level1"><div class="li"> <em>Merge…:</em> permet fusionar branques.</div>
</li>
<li class="level1"><div class="li"> <em>Rebase… :</em> permet fusionar branques i, a la vegada, gestionar l’historial de les branques que es fusionen.</div>
</li>
</ul>

</div>

<h4><a id="operacions_amb_un_repositori_remot" >Operacions amb un repositori remot</a></h4>
<div class="level4">

<p>
Habitualment voldrem treballar des d’Eclipse amb un repositori remot. Les operacions principals a fer amb ell són <em>pull</em> i <em>push</em>. Poden realitzar-se en qualsevol ordre, segons convingui al desenvolupador.
</p>

<p>
All nostre cas utilitzarem GitHub com a repositori remot. GitHub (<a href="https://github.com" class="urlextern" title="https://github.com"  rel="nofollow">github.com</a>) és el servei d’allotjaments de repositoris Git més popular. Ofereix integració amb múltiples eines de desenvolupament.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle">Com trobar la URI del repositori GitHub</p>
<p>
Per treballar amb el repositori remot és necessari conèixer el seu <acronym title="Uniform Resource Identifier">URI</acronym>. Al cas de GitHub, s’obté seleccionant el repositori i clicant el botó <em>Clone or download</em>, que apareix a la part superior dreta de la finestra. A la <span class="figref"><a href="#figuraGitUriGitHub"><span>figura</span></a></span> s’ha accedit a l’<acronym title="Uniform Resource Identifier">URI</acronym> i s’ha seleccionat, per exemple, per copiar-la al porta-retalls.
</p>
<div class="iocfigure"><a name="figuraGitUriGitHub"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

<acronym title="Uniform Resource Identifier">URI</acronym> de GitHub

</figcaption><img src="../media/giturigithub.png" alt="" /></figure>
</div>
<p>

</p>
</div></div>
</div>

<h5><a id="operacio_pull" >Operació pull</a></h5>
<div class="level5">

<p>
Si volem fer l’operació <em>pull</em> per fusionar un repositori remot amb el repositori local, haurem de clicar amb el botó secundari a sobre del nostre repositori local i seleccionar l’opció <em>Team</em> / <em>Pull…</em> com es veu en la <span class="figref"><a href="#figuraGitMenuPull"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitMenuPull"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Menu ‘Pull’

</figcaption><img src="../media/gitmenupull.png" alt="" /></figure>
</div>
<p>
Ens apareixerà la pantalla mostrada a la <span class="figref"><a href="#figuraGitAddPull"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitAddPull"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Opció ‘Add’ del menú ‘Pull’

</figcaption><img src="../media/gitaddpull.png" alt="" /></figure>
</div>
<p>
En ella, cal clicar el botó <em>New Remote…</em> per definir el repositori remot a la pantalla com es veu a la <span class="figref"><a href="#figuraGitDefRemote"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitDefRemote"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Definició del repositori remot

</figcaption><img src="../media/gitdefremote.png" alt="" /></figure>
</div>
<p>
Cal omplir:
</p>
<ul>
<li class="level1"><div class="li"> <em>Remote name</em>: nom amb el qual ens referirem, des del nostre entorn, al repositori remot.</div>
</li>
<li class="level1"><div class="li"> <em><acronym title="Uniform Resource Identifier">URI</acronym></em>:identificador del repositori a Internet.</div>
</li>
</ul>

<p>
Al nostre cas no cal posar la contrasenya perquè el repositori que utilitzem de GitHub és públic (ho són tots els repositoris gratuïts d’aquest servidor).
</p>

<p>
Un cop introduïda aquesta informació, s’ompliran automàticament les dades corresponents al <em>host</em> i el <em>Repository path</em> (camí del repositori).
</p>

<p>
Un cop cliquem el botó <em>Finish</em> tornarem a la pantalla anterior, on caldrà omplir, com a mínim, la dada <em>Reference</em>. Aquesta dada conté la branca que volem sincronitzar. Pot seleccionar-se directament clicant abans i de manera simultània les tecles <em>Ctrl</em> i espai, com es veu a <span class="figref"><a href="#figuraGitPullReference1"><span>figura</span></a></span> i <span class="figref"><a href="#figuraGitPullReference2"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitPullReference1"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Camp ‘Reference’ a la finestra ‘Pull’

</figcaption><img src="../media/gitpullreference1.png" alt="" /></figure>
</div><div class="iocfigure"><a name="figuraGitPullReference2"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Desplegable de ‘Reference’ a la finestra ‘Pull’

</figcaption><img src="../media/gitpullreference2.png" alt="" /></figure>
</div>
<p>
Un cop seleccionada la branca, s’activa el botó <em>Finish</em>. En clicar aquest botó, es realitzarà l’operació <em>push</em>. Abans de clicar aquest botó, podem triar al quadre de text <em>When pulling</em> com volem que es fusionin les branques remota i local .
</p>

</div>

<h5><a id="operacio_push" >Operació push</a></h5>
<div class="level5">

<p>
L’operació <em>push</em> es realitza de manera semblant. Requereix, però, que a la branca que es tindrà en compte per fer-lo s’hagi fet algun <em>commit</em> en local des que es va fer el <em>pull</em> des del servidor.
</p>

<p>
En primer lloc cal seleccionar del menú contextual l’opció <em>Push Branch</em>, que conté, al final, el nom de la branca actual entre comentes simples, com es veu a la <span class="figref"><a href="#figuraGitMenuPush"><span>figura</span></a></span>. Aquesta branca és la que es tindrà en compte per fer el <em>push</em>. 
</p>
<div class="iocfigure"><a name="figuraGitMenuPush"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

 Menú ‘Push’

</figcaption><img src="../media/gitmenupush.png" alt="" /></figure>
</div>
<p>
S’obrirà una finestra semblant a la que es mostra a la <span class="figref"><a href="#figuraGitRepositoriDesti"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitRepositoriDesti"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

 Finestra amb el repositori destí

</figcaption><img src="../media/gitrepositoridesti.png" alt="" /></figure>
</div>
<p>
Aquesta finestra només surt el primer cop que utilitzem el repositori. Cal omplir-hi les dades <em>Remote name</em> i <em><acronym title="Uniform Resource Identifier">URI</acronym></em>. <em>Host</em> i <em>Repository Path</em> s’ompliran automàticament.
</p>

<p>
Per passar a la següent pantalla, cal clicar el botó <em>Preview &gt;</em>. Ens apareixerà una finestra com la mostrada a <span class="figref"><a href="#figuraGitPushBranch"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitPushBranch"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

 Finestra de selecció de la branca

</figcaption><img src="../media/gitpushbranch.png" alt="" /></figure>
</div>
<p>
Podem deixar els valors per defecte i fer clic novament al botó <em>Preview &gt;</em>. Ens apareixerà una pantalla com la de la <span class="figref"><a href="#figuraGitPushContrasenya"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="figuraGitPushContrasenya"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

 Usuari i contrasenya del repositori remot

</figcaption><img src="../media/gitpushcontrasenya.png" alt="" /></figure>
</div>
<p>
Cal que entrem l’usuari del GitHub i la seva contrasenya i que cliquem, a continuació, el botó <em>Ok</em>.
</p>

<p>

Ens apareix una finestra semblant a la de la <span class="figref"><a href="#figuraGitPushConfirmation"><span>figura</span></a></span>, on se’ns mostra la branca a fusionar i l’URI del repositori.
</p>
<div class="iocfigure"><a name="figuraGitPushConfirmation"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

 Confirmació del ‘push’

</figcaption><img src="../media/gitpushconfirmation.png" alt="" /></figure>
</div>
<p>
Ens tornarà a demanar usuari i contrasenya. Un cop entrada, ens apareix ja l’última pantalla on se’ns confirma l’operació i que es mostra a la <span class="figref"><a href="#figuraGitPushFinal"><span>figura</span></a></span>.
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Emmagatzematge de l&#039;usuari i la contrasenya</p>
<p>
Per evitar tantes peticions d’usuari i contrasenya podem marcar l’opció <em>Store in Secure Store</em>. D’aquesta manera, l’entorn emmagatzemarà aquestes dades i les subministrarà automàticament al servidor quan calgui. A més i de manera opcional proporciona mecanismes de recuperació de la contrasenya.
</p>
</div></div><div class="iocfigure"><a name="figuraGitPushFinal"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

 Confirmació del ‘push’

</figcaption><img src="../media/gitpushfinal.png" alt="" /></figure>
</div>
<p>
Clicant al botó <em>Finish</em> es tanca la finestra.
</p>

</div>

<h2><a id="utilitzacio_de_github" >Utilització de Github</a></h2>
<div class="level2">

<p>
GitHub (<a href="https://github.com" class="urlextern" title="https://github.com"  rel="nofollow">github.com</a>) és un servei d’allotjament de repositoris Git que compta amb més de 10 milions d’usuaris. Ofereix tota la funcionalitat de Git, a més d’oferir serveis propis com són l’edició de fitxer en línia, la gestió d’errors, possibilitat de documentar els projectes mitjançant una wiki inclosa al repositori o la gestió d’usuaris.
</p>

<p>
Hi ha dos tipus de repositoris a GitHub:
</p>
<ul>
<li class="level1"><div class="li"> Públics: tothom pot visualitzar-los i descarregar-los, sense necessitat de crear un compte a GitHub. Aquests repositoris són gratuïts, i qualsevol usuari registrat pot crear-los.</div>
</li>
<li class="level1"><div class="li"> Privats: només els membres de l’equip i els usuaris amb permisos poden visualitzar, baixar i pujar canvis al repositori. Aquests repositoris estan limitats als comptes de pagament o d’estudiant (requereixen una adreça de correu universitari vàlida).</div>
</li>
</ul>
<div class="iocnote"><div class="ioccontent">
<p>
Les wikis incloses als repositoris de GitHub compten amb el seu propi control de versions i poden clonar-se mitjançant Git.
</p>
</div></div>
<p>
GitHub inclou característiques de xarxa social com ara notificacions, llistes de seguidors, opció de subscriure’s als repositoris per fer un seguiment dels canvis o marcar repositoris com a favorits. Tot i que la plataforma no proporciona cap sistema de missatgeria entre usuaris, alguns usuaris afegeixen la seva adreça de correu electrònic al seu perfil i és possible comunicar-se amb els administradors d’un repositori mitjançant el sistema de gestió d’errors (<em>issues</em>) o la wiki que es pot incloure al repositori.
</p>

<p>
Per treballar amb GitHub es pot utilitzar la línia d’ordres de Git, es pot descarregar algun client gràfic com SourceTree o Github Desktop (<a href="https://desktop.github.com" class="urlextern" title="https://desktop.github.com"  rel="nofollow">desktop.github.com</a>) o es pot treballar directament des d’un IDE integrat amb Git.
</p>

</div>

<h3><a id="gestio_de_repositoris_privats_i_publics" >Gestió de repositoris privats i públics</a></h3>
<div class="level3">

<p>
Per començar a treballar amb els repositoris de GitHub com a repositoris remots cal crear un compte a la plataforma. En cas contrari, es poden clonar els repositoris públics però no es poden pujar els canvis.
</p>

<p>
Un cop creat un compte, podeu crear nous repositoris des de la pàgina fent clic al botó <em>New repositori</em> (vegeu la <span class="figref"><a href="#figuraXu4a220"><span>figura</span></a></span>).
</p>
<div class="iocfigure"><a name="figuraXu4a220"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Llistat de repositoris propis

</figcaption><img src="../media/u4-a2-20.png" alt="" /></figure>
</div><div class="iocnote"><div class="ioccontent">
<p>
L’opció de crear repositoris privats no es troba disponible als comptes gratuïts.
</p>
</div></div>
<p>
Seguidament heu d’indicar el nom del repositori, la descripció i el tipus (públic o privat), com en la <span class="figref"><a href="#figuraXu4a221"><span>figura</span></a></span>. Addicionalment podeu inicialitzar amb un fitxer README, que es mostra a la primera pàgina del repositori.
</p>

<p>
El fitxer README admet el format Markdown i acostuma a incloure informació detallada sobre el repositori i instruccions d’instal·lació. En cas de crear un repositori a GitHub, per sincronitzar-lo amb un repositori local ja existent no marqueu la casella per afegir el fitxer README, ja que en sincronitzar els repositoris es produeix un conflicte.
</p>
<div class="iocfigure"><a name="figuraXu4a221"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Creació d’un repositori a GitHub

</figcaption><img src="../media/u4-a2-21.png" alt="" /></figure>
</div>
<p>
Un cop creat el repositori GitHub, apareix una pàgina on s’indica com sincronitzar el repositori de GitHub amb el vostre repositori local. Per una banda, indica com crear un nou repositori si comenceu un projecte de nou i com sincronitzar-lo amb GitHub:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw3">echo</span> <span class="st0">&quot;# proves-git&quot;</span> <span class="sy0">&gt;&gt;</span> README.md</div></li><li class="li1"><div class="de1"><span class="kw2">git init</span></div></li><li class="li1"><div class="de1"><span class="kw2">git add</span> README.md</div></li><li class="li1"><div class="de1"><span class="kw2">git commit</span> <span class="re5">-m</span> <span class="st0">&quot;first commit&quot;</span></div></li><li class="li1"><div class="de1"><span class="kw2">git remote</span> add origin https:<span class="sy0">//</span>github.com<span class="sy0">/</span>nom-usuari<span class="sy0">/</span>nom-repositori.git</div></li><li class="li1"><div class="de1"><span class="kw2">git push</span> <span class="re5">-u</span> origin master</div></li></ol></pre>

<p>
En cas que vulgueu pujar un repositori ja existent, indica com afegir el repositori remot i com pujar els canvis:
</p>
<pre class="code bash"><ol><li class="li1"><div class="de1"><span class="kw2">git remote</span> add origin https:<span class="sy0">//</span>github.com<span class="sy0">/</span>nom-usuari<span class="sy0">/</span>nom-repositori.git</div></li><li class="li1"><div class="de1"><span class="kw2">git push</span> <span class="re5">-u</span> origin master</div></li></ol></pre>

<p>

Fixeu-vos que l’<acronym title="Uniform Resource Locator">URL</acronym> del repositori que mostra GitHub és la del repositori que heu creat al vostre compte, així que podeu copiar directament el codi a la línia d’ordres.
</p>

<p>
Un cop s’ha afegit el repositori remot com a origen, no cal que especifiqueu el nom en les ordres <code>git push</code> o <code>git pull</code>, ja que automàticament fa la sincronització amb aquest repositori.
</p>

</div>

<h3><a id="configuracio_d_un_repositori_de_github" >Configuració d&#039;un repositori de GitHub</a></h3>
<div class="level3">

<p>
Cada repositori de GitHub té la seva pròpia configuració individual (botó <em>Settings</em>). Vegeu-ho en la <span class="figref"><a href="#figura u4-a2-22"><span>figura</span></a></span>:
</p>
<div class="iocfigure"><a name="figura u4-a2-22"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

 Creació d’un repositori a GitHub

</figcaption><img src="../media/u4-a2-22.png" alt="" /></figure>
</div>
<p>
A la secció d’opcions generals hi ha els següents apartats:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Quines característiques es volen activar</strong>: activar la wiki, restriccions d’editors, gestió d’errors i gestió de projectes.</div>
</li>
<li class="level1"><div class="li"> <strong>Com es volen fusionar els canvis</strong>: llista diferents mètodes de fusió de canvis.</div>
</li>
<li class="level1"><div class="li"> <strong>Limitació temporal d’interacció</strong>: permet imposar una limitació d’interacció temporal amb el repositori per diferents tipus d’usuaris.</div>
</li>
<li class="level1"><div class="li"> <strong>GitHub Pages</strong>: configura un servei que permet crear un lloc web per al repositori o el projecte.</div>
</li>
<li class="level1"><div class="li"> <strong>Zona de perill</strong>: permet canviar el tipus de repositori (públic o privat), transferir la propietat o eliminar el repositori.</div>
</li>
</ul>

<p>
Respecte a la gestió d’usuaris, GitHub permet afegir <strong>col·laboradors</strong> a un repositori fent clic a l’opció <em>Collaborators</em> de la barra esquerra de la secció de configuració. En aquesta secció es mostra la llista de col·laboradors actuals i un botó per enviar una invitació a altres usuaris mitjançant el seu nom d’usuari o adreça de correu electrònic. Aquests col·laboradors podran visualitzar el repositori encara que sigui privat i podran pujar canvis al repositori remot. Cal destacar que l’administrador del repositori no té cap control sobre què pugen els col·laboradors, així que cal tenir-ho en compte a l’hora d’afegir col·laboradors a un repositori.
</p>
<div class="ioctextl"><div class="ioccontent"><p class="ioctitle"> Gestió d&#039;usuaris a GitHub Enterprise</p>
<p>
GitHub Enterprise és una versió per a empreses de GitHub que inclou entre altres característiques una gestió d’usuaris més completa. Entre les característiques addicionals hi ha l’autenticació mitjançant LDAP i altres sistemes segurs, la creació d’organitzacions, la creació d’equips i l’administració d’usuaris per assignar-los a diferents equips per limitar les accions que pot portar a terme cada usuari.
</p>
</div></div>
<p>
Un altre tipus d’usuari són els <strong>contribuïdors</strong>. Aquests són usuaris de GitHub que no tenen cap relació amb el repositori, però poden fer peticions de pujada fent servir l’opció <em>Pull requests</em> que es troba a tots els repositoris. Aquesta opció és molt utilitzada en els projectes de programari lliure on qualsevol usuari interessat pot fer una petició de pujada amb algun canvi per millorar el projecte (per exemple, solucionar algun error). Aquests usuaris són considerats contribuïdors del projecte si s’accepta alguna de les seves peticions de pujada.
</p>

</div>

<h3><a id="gestio_d_errors_issues" >Gestió d&#039;errors (&#039;issues&#039;)</a></h3>
<div class="level3">

<p>
El sistema de gestió d’errors i petició de característiques de GitHub s’anomena <em>issues</em> i es pot accedir al sistema de qualsevol repositori fent clic al botó <strong><em>Issues</em></strong> del panell central.
</p>

<p>
Aquest sistema permet crear noves entrades a qualsevol usuari, en el cas dels repositoris públics, i als col·laboradors, en el cas dels repositoris privats, per enregistrar que hi ha algun error. Aquestes entrades permeten mantenir una conversa amb altres usuaris que tenen el mateix problema i els desenvolupadors afegint informació sobre el problema detectat.
</p>

<p>
Les entrades poden incloure etiquetes, poden ser assignades a diferents col·laboradors (el responsable de solucionar l’error) i poden filtrar-se: per autor, etiquetes, projectes, etc. (vegeu la <span class="figref"><a href="#figura u4-a2-23"><span>figura</span></a></span>).
</p>
<div class="iocfigure"><a name="figura u4-a2-23"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Llista d’errors i característiques d’un repositori de GitHub

</figcaption><img src="../media/u4-a2-23.png" alt="" /></figure>
</div>
<p>
Per redactar una entrada, podeu fer servir text enriquit, afegir imatges, mencionar usuaris (això fa que aparegui l’entrada a les seves notificacions) o enllaçar amb altres errors o peticions de pujada (per exemple, si un contribuïdor ha enviat la solució a l’error).
</p>

<p>
Per afegir un nou error o petició de característiques a un repositori, només cal que feu clic al botó <em>New issue</em> i redacteu l’entrada (vegeu un exemple d’entrades a la <span class="figref"><a href="#figura u4-a2-24"><span>figura</span></a></span>). Aquesta s’afegeix a la llista d’errors del projecte i és visualitzada per tots els usuaris.
</p>
<div class="iocfigure"><a name="figura u4-a2-24"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Exemple d’entrada al sistema de gestió d’errors de GitHub

</figcaption><img src="../media/u4-a2-24.png" alt="" /></figure>
</div>
<p>
Un dels avantatges d’aquest sistema és que es troba al mateix repositori i no cal fer servir aplicacions externes per enregistrar un nou error o demanar més informació sobre un problema, fet que agilitza la gestió. A més a més, aquest sistema forma part de l’<acronym title="Application Programming Interface">API</acronym> que proporciona GitHub als desenvolupadors d’aplicacions per connectar amb els seus serveis.
</p>

</div>

<h2><a id="comentaris_i_documentacio_del_programari" >Comentaris i documentació del programari</a></h2>
<div class="level2">

<p>
Un complement molt útil per als desenvolupadors és la documentació del codi font que s’està implementant. Existeixen moltes formes diferents de documentar amb molts nivells diferents d’aprofundiment. L’opció més senzilla és la primera que s’aprèn quan es comença a programar, que són els comentaris al llarg del codi font. 
</p>
<div class="iocimportant"><div class="ioccontent">
<p>
<strong>Documentar el codi d’un programa</strong> és dotar el programari de tota la informació que sigui necessària per explicar el que fa. Els desenvolupadors que duen a terme el programari (i la resta de l’equip de treball) han d’entendre què està fent el codi i el perquè. 
</p>
</div></div>
<p>
Els comentaris es troben intercalats amb les sentències de programació, de fet es consideren part del codi font. Són petites frases que expliquen petites parts de les sentències de programació implementades.
</p>

<p>
Els comentaris no són tinguts en compte per part dels compiladors a l’hora de convertir el codi font en codi objecte i, posteriorment, en codi executable. Això dóna llibertat al programador per poder escriure qualsevol cosa en aquell espai que ell haurà indicat que és un comentari, sense haver de complir cap sintaxi específica. 
</p>

<p>
Existeixen diferents formes d’implementar comentaris, anirà en funció del llenguatge de programació que es faci servir. Tot seguit es mostra la forma d’implementar comentaris amb Java. Amb aquest llenguatge hi ha dues formes d’expressar comentaris, internament i externament: 
</p>
<ul>
<li class="level1"><div class="li"> <strong>Comentaris interns</strong>: igual que en el llenguatge de programació C i altres derivats, la forma de mostrar comentaris intercalats amb el codi font és afegint els caràcters <code>//</code>. Això indicarà que a partir d’aquell punt tot el que s’escrigui fins al final de la línia estarà considerat com a comentari i el compilador no ho tindrà en compte. Una altra forma de mostrar comentaris és afegint els caràcters <code>/*</code> … <code>*/</code>, on el comentari es trobaria ubicat en el lloc dels punts suspensius i, a diferència de l’anterior, es poden escriure comentaris de més d’una línia. A continuació, es mostra un exemple de com es pot documentar un petit tros de codi que contindrà els tipus de comentaris treballats. El codi està implementat en Javascript, ja que en un entorn web les validacions se solen fer en la màquina client.</div>
</li>
</ul>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="coMULTI">/* Funció que efectua una validació del DNI, retornant cert si el DNI especificat té 8 caràcters i fals en cas contrari */</span></div></li><li class="li1"><div class="de1">function validarDNI <span class="br0">&#40;</span>DNI<span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">if</span> <span class="br0">&#40;</span>DNI.<span class="me1">value</span> <span class="sy0">!=</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>                       <span class="co1">//Valida que la variable DNI tingui algun valor.</span></div></li><li class="li1"><div class="de1">        <span class="kw1">if</span> <span class="br0">&#40;</span>DNI.<span class="me1">value</span>.<span class="me1">length</span> <span class="sy0">&lt;</span> <span class="nu0">8</span> <span class="br0">&#41;</span> <span class="br0">&#123;</span>            <span class="co1">//Valida la longitud del DNI.</span></div></li><li class="li1"><div class="de1">            alert <span class="br0">&#40;</span><span class="st0">&quot;El DNI no és correcte&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>    <span class="co1">//Mostra per pantalla un missatge d'error.</span></div></li><li class="li1"><div class="de1">            DNI.<span class="me1">focus</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>                        <span class="co1">//Posiciona el cursor a la variable DNI.</span></div></li><li class="li1"><div class="de1">            <span class="kw1">return</span> <span class="kw2">false</span><span class="sy0">;</span>                       <span class="co1">//La funció retorna un false indicant que el DNI no és vàlid.</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">return</span> <span class="kw2">true</span><span class="sy0">;</span>                                <span class="co1">//La funció retorna un true indicant que el DNI és vàlid.</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">API</p>
<p>
De l’anglès Application Programming Interface (Interfície de programació d’aplicacions). En la programació orientada a objectes, les <acronym title="Application Programming Interface">API</acronym> ofereixen funcions i procediments per ser utilitzats per altres aplicacions. 
</p>
</div></div><ul>
<li class="level1"><div class="li"> <strong>Comentaris o documentació a partir de la utilitat JavaDoc</strong>: aquest tipus d’utilitat de creació de documentació a partir de comentaris ha estat desenvolupada per Oracle. JavaDoc permet la creació de documentació d’<acronym title="Application Programming Interface">API</acronym> en format <acronym title="HyperText Markup Language">HTML</acronym>. Actualment, és l’estàndard per crear comentaris de classes desenvolupades en Java. La sintaxi utilitzada per a aquest tipus de comentaris és començar per <code>/**</code> i finalitzar amb <code>*/</code>, on s’incorporarà el caràcter <code>*</code> per a cada línia, tal com es mostra tot seguit:</div>
</li>
</ul>
<pre class="code java"><span class="co3">/** Comentari de JavaDoc
* De forma automàtica es generarà una pàgina HTML amb les comentaris especificats en el codi.
* @etiqueta1 text específic de l'etiqueta1
* @etiqueta2 text específic de l'etiqueta2
*/</span></pre>

<p>
La diferència entre aquest tipus de comentaris i els comentaris interns és que els comentaris JavaDoc sí que tenen una estructura específica que cal seguir per ser escrits. En canvi, els comentaris interns donen completa llibertat per ser implementats. Una altra diferència significativa és l’objectiu dels comentaris. Els comentaris interns es fan sevir arreu del codi font, mentre que els comentaris JavaDoc estan pensats per ser utilitzats al principi de cada classe i de cada mètode. Finalment, els comentaris JavaDoc generen de forma automàtica la documentació tècnica del programari, en format <acronym title="HyperText Markup Language">HTML</acronym>.
</p>

</div>

<h3><a id="estructura_dels_comentaris_tipus_javadoc" >Estructura dels comentaris tipus JavaDoc</a></h3>
<div class="level3">

<p>
Els comentaris tipus JavaDoc segueixen uns estàndards en la seva creació:
</p>
<ul>
<li class="level1"><div class="li"> El primer que cal indicar és la descripció principal del comentari. Aquesta descripció és el que es pot trobar des de la indicació de començament del comentari amb els caràcters <code>/**</code> fins que s’arriba a la secció on es troben les etiquetes, que queden indicades amb el caràcter <code>@</code>. La descripció general és un espai on es podrà escriure el que es voldrà, amb la llargària que es cregui convenient; és el més proper als comentaris estàndards. </div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> A continuació de la descripció principal, es troba una zona d’etiquetes (<em>tags</em>) que comencen pel caràcter <code>@</code>. Les etiquetes són <em>case-sensitive</em>, que vol dir que el seu significat canviarà si el seu nom s’escriu en minúscules o en majúscules. Una vegada ha començat la secció d’etiquetes, no es podrà continuar amb la descripció general del comentari JavaDoc. Les etiquetes s’han de trobar sempre al principi de les línies, amb el seu identificador, el caràcter <code>@</code>. Com a molt es podrà deixar un espai i un asterisc abans de l’etiqueta. Si no se segueix aquesta nomenclatura, l’etiqueta serà tractada com un text descriptiu.</div>
</li>
</ul>

<p>
Algunes de les etiquetes són:
</p>
<ul>
<li class="level1"><div class="li"> <code>@author nom</code>. Especifica l’autor del codi; en el cas que hagi estat escrit per diversos autors, es podrà replicar l’etiqueta tantes vegades com autors hi hagi o escriure-ho amb una única etiqueta amb els diferents noms dels autors separats amb una coma.</div>
</li>
<li class="level1"><div class="li"> <code>@version versió</code>. Especifica la versió del codi.</div>
</li>
<li class="level1"><div class="li"> <code>@param paràmetre descripció</code>. Per a cada un dels paràmetres d’entrada, s’afegeix el paràmetre i la seva descripció.</div>
</li>
<li class="level1"><div class="li"> <code>@return descripció</code>. Indica el tipus de valor que retornarà la funció.</div>
</li>
<li class="level1"><div class="li"> <code>@exception nom descripció</code>. Afegeix una entrada “Throws”, que conté el nom de l’excepció que pot ser llançada pel mètode.</div>
</li>
<li class="level1"><div class="li"> <code>@see referència</code>. Associa amb un altre mètode o classe.</div>
</li>
<li class="level1"><div class="li"> <code>@deprecated comentari</code>. Informa, en forma d’advertència, que una determinada funcionalitat no s’hauria d’utilitzar perquè ha quedat obsoleta.</div>
</li>
<li class="level1"><div class="li"> Els comentaris JavaDoc poden afegir codi <acronym title="HyperText Markup Language">HTML</acronym> en la seva descripció, cosa que permetrà poder donar format als comentaris escrits. Si, per exemple, es volgués subratllar una part de la descripció principal, només caldria utilitzar l’etiqueta <code>&lt;u&gt;</code> i <code>&lt;/u&gt;</code> abans i després del fragment de comentari a subratllar. Això permetrà donar un èmfasi especial a determinats comentaris. Per exemple:</div>
</li>
</ul>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">*Exemple de descripció general d’un comentari &lt;u&gt;JavaDoc.&lt;/u&gt;</span></div></li><li class="li1"><div class="de1"><span class="co3">@ Author Programador primer del projecte</span></div></li><li class="li1"><div class="de1"><span class="co3">*/</span></div></li></ol></pre>
<ul>
<li class="level1"><div class="li"> Amb Java es pot declarar més d’un atribut en una mateixa sentència. Si es vol comentar aquesta sentència per indicar a què correspon cada atribut, es necessitarà més d’una línia de comentaris. Per aquesta raó, si es vol tenir comentada la declaració d’atributs, un a un, serà necessari utilitzar una línia de codi per a cada declaració.</div>
</li>
</ul>

<p>
No és el mateix els comentaris del codi font que la documentació del programari. Els comentaris són una forma de documentar, de donar informació referent al codi font, però estan integrats en el mateix codi. El que es coneix com la documentació del programari és la creació de documents externs al codi (arxius), com poden ser manuals tècnics o manuals d’usuari. Aquests documents externs hauran de ser molt més explicatius i, a la vegada, més fàcils de comprendre que els comentaris del codi.
</p>

<p>
Un usuari tindrà accés als manuals funcionals o d’usuari, però mai accedirà al codi font, així que no podrà veure els comentaris del codi intercalats en el programari. Un programador que hagi de fer el manteniment o hagi d’ampliar l’aplicació informàtica, a banda de tenir accés a la documentació tècnica i funcional, sí que podrà accedir a aquests comentaris del codi font.
</p>

</div>

<h3><a id="exemple_de_comentaris_tipus_javadoc" >Exemple de comentaris tipus JavaDoc</a></h3>
<div class="level3">

<p>
En el següent exemple s’efectua una proposta dels comentaris tipus JavaDoc per a la classe factorial, classe que calcula el factorial d’un nombre.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* Classe que calcula el factorial d'un nombre.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* @author IOC</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* @version 2012</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;*/</span></div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> Factorial <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Calcula el factorial de n.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * n! = n * (n-1) * (n-2) * (n-3) * ... * 1</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param n és el número al que es calcularà el factorial.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return n! és el resultat del factorial de n</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span>   </div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">double</span> factorial <span class="br0">&#40;</span><span class="kw4">double</span> n<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">       <span class="kw1">if</span> <span class="br0">&#40;</span>n<span class="sy0">==</span><span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">return</span> <span class="nu0">1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">       <span class="kw1">else</span></div></li><li class="li1"><div class="de1">       <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            <span class="kw4">double</span> resultat <span class="sy0">=</span> n <span class="sy0">*</span> factorial<span class="br0">&#40;</span>n<span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">return</span> resultat<span class="sy0">;</span></div></li><li class="li1"><div class="de1">       <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

</div>

<h3><a id="exemple_d_utilitzacio_de_javadoc_amb_eclipse" >Exemple d’utilització de JavaDoc amb Eclipse</a></h3>
<div class="level3">

<p>
Moltes de les eines integrades de desenvolupament de programari que permeten programar en Java ofereixen funcionalitats per poder crear documentació a partir de JavaDoc. Eclipse no n’és una excepció i també ofereix aquesta possibilitat. 
</p>
<div class="iocnote"><div class="ioccontent">
<p>
JDK, Java Development Kit, és un programari que aporta eines de desenvolupament per a la creació de programari en Java.
</p>
</div></div>
<p>
Una vegada desenvolupat un projecte en Java i afegits els comentaris amb les estructures i estàndards JavaDoc, es podrà generar la documentació de forma automàtica utilitzant la funcionalitat <em>Generar Javadoc</em> del menú <em>Projecte</em>, com es pot veure a la <span class="figref"><a href="#Figure32"><span>figura</span></a></span>. Aquesta utilitat és part del Java Development Kit.
</p>
<div class="iocfigure"><a name="Figure32"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Menú ‘Projecte’ - ‘Generar JavaDoc’

</figcaption><img src="../media/ic10m05u2_40.png" alt="" /></figure>
</div>
<p>
A continuació, obtindrà un diàleg que demanarà la ubicació de l’arxiu Javadoc.exe i una sèrie d’opcions de la creació de la documentació, com la carpeta destinació dels arxius que es crearan o el tipus de classes de les quals s’haurà de crear la documentació. Aquest diàleg es pot observar a la <span class="figref"><a href="#Figure33"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure33"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Diàleg per a la creació de la documentació a partir de JavaDoc

</figcaption><img src="../media/ic10m05u2_41.png" alt="" /></figure>
</div>
<p>
En fer clic sobre el botó <em>Finalitzar</em>, automàticament s’ha generat la documentació en format <acronym title="HyperText Markup Language">HTML</acronym>, com es pot observar a la <span class="figref"><a href="#Figure34"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure34"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Documentació generada pel JavaDoc

</figcaption><img src="../media/ic10m05u2_42.png" alt="" /></figure>
</div>
<p>
Si obrim en el navegador l’arxiu index.html, es pot veure el document generat. Aquesta documentació generada es pot observar a la <span class="figref"><a href="#Figure35"><span>figura</span></a></span> i <span class="figref"><a href="#Figure36"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figure35"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Documentació generada pel JavaDoc

</figcaption><img src="../media/ic10m05u2_43.png" alt="" /></figure>
</div>
<p>
A la <span class="figref"><a href="#Figure35"><span>figura</span></a></span> es pot observar la descripció general de tota la classe, juntament amb la seva estructura. També es pot observar el resum del seu constructor i els seus mètodes.
</p>
<div class="iocnote"><div class="ioccontent">
<p>
JavaDOC es pot trobar a les versions d’Eclipse per als diferents sistemes operatius (Windows, Linux i MacOS).
</p>
</div></div>
<p>
A la <span class="figref"><a href="#Figure36"><span>figura</span></a></span> es pot observar el detall del constructor i el detall dels mètodes, amb la informació que s’ha anat introduint com a comentaris al llarg del codi font.
</p>
<div class="iocfigure"><a name="Figure36"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Ampliació de la documentació generada

</figcaption><img src="../media/ic10m05u2_44.png" alt="" /></figure>
</div>
</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u2/a1/annexos.html">Annexos</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u2/a2/activitats.html">Activitats</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
