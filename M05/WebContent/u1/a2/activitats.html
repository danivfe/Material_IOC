<!doctype html>

<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="ca"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="ca"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="ca"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="ca"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="ca"><!--<![endif]-->
<!-- the "no-js" class is for Modernizr. -->

<head id="www-sitename-com" data-template-set="html5-reset">

	<meta charset="utf-8">
	
	<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Entorns de desenvolupament</title>
	
<!-- <meta name="title" content=""> --> 
	<meta name="description" content="">
	<!-- Google will often use this as its description of your page/site. Make it good. -->
	
	<meta name="google-site-verification" content="">
	<!-- Speaking of Google, don't forget to set your site up: http://google.com/webmasters -->
	
	<meta name="author" content="Institut Obert de Catalunya">
	<meta name="Copyright" content="Copyright Institut Obert de Catalunya 2011. All Rights Reserved.">

	<!-- Dublin Core Metadata : http://dublincore.org/ -->
	<meta name="DC.title" content="Entorns de desenvolupament">
	<meta name="DC.subject" content="Informàtica i comunicacions">
	<meta name="DC.creator" content="Institut Obert de Catalunya">
	
	<!--  Mobile Viewport Fix
	j.mp/mobileviewport & davidbcalhoun.com/2010/viewport-metatag 
	device-width : Occupy full width of the screen in its current orientation
	initial-scale = 1.0 retains dimensions instead of zooming out if page height > device height
	maximum-scale = 1.0 retains dimensions instead of zooming in if page width < device width
	-->
	<!-- Uncomment to use � use thoughtfully!
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	-->

	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<!-- This is the traditional favicon.
		 - size: 16x16 or 32x32
		 - transparency is OK
		 - see wikipedia for info on browser support: http://mky.be/favicon/ -->
		 
	<link rel="apple-touch-icon" href="../../../img/apple-touch-icon.png">
	<!-- The is the icon for iOS's Web Clip.
		 - size: 57x57 for older iPhones, 72x72 for iPads, 114x114 for iPhone4's retina display (IMHO, just go ahead and use the biggest one)
		 - To prevent iOS from applying its styles to the icon name it thusly: apple-touch-icon-precomposed.png
		 - Transparency is not recommended (iOS will put a black BG behind the icon) -->
	
	<!-- CSS: screen, mobile & print are all in the same file -->
	<link rel="stylesheet" href="../../../_/css/style.css">

	<!-- CSS: jQuery UI -->
	<link rel="stylesheet" href="../../../_/css/jquery-ui.css">
	
	<!-- all our JS is at the bottom of the page, except for Modernizr. -->
	<script src="../../../_/js/modernizr-1.7.min.js"></script>
	<script src="../../../_/js/Hyphenator.js" type="text/javascript"></script>
	<script type="text/javascript">
	   Hyphenator.config({
		minwordlength : 4
	   });
	   Hyphenator.run();
	</script>
    <script src="../../../_/js/build.js" type="text/javascript"></script>
</head>

<body class="style-newspaper">

<div class="wrapper"><!-- not needed? up to you: http://camendesign.com/code/developpeurs_sans_frontieres -->

	<header id="header">
		<div class="head"><a href="http://ioc.gencat.cat"><img src="../../../img/logo.png" alt="Institut Obert de Catalunya"/></a><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/es/deed.ca"><img src="../../../img/license.png" alt="Llic&egrave;ncia" class="license"/></a></div>
		<div class="headdocument"><a href="../../../index.html">Entorns de desenvolupament</a></div>
        <div id="search" class="search" name="search">
         <form id="frmsearch" action="../../../search.html" method="get">
          <input type="text" name="q"/>
        </form>
        </div>
	</header>
   <div id="upbutton" class="upbutton" style="display:none;"><img src="../../../img/uparrow.png" alt="Pujar a l'inici de p&agrave;gina"/></div>
   <aside id="aside">
    <div id="menu">
      <ul>
       <li name="toc"><div><img src="../../../img/toc.png" alt="&Iacute;ndex"/></div></li>
       <li name="settings"><div><img src="../../../img/settings.png" alt="Configuraci&oacute;"/></div></li>
       <li name="printer"><div><img src="../../../img/printer.png" alt="Imprimir"/></div></li>
       <li name="favorites"><div><img src="../../../img/favorites.png" alt="Favorits"/></div></li>
       <li name="help_icon" class="help_icon"><div><img src="../../../img/help_icon.png" alt="Ajuda"/></div></li>
      </ul>
     </div>
   </aside>
   <div id="sidebar-hide" name="sidebar-hide"><img src="../../../img/arrows.png"/></div>
   <section>
     <div id="toc" class="hidden">
      <div class="menucontent">
        <ul>
        <li id="u1" class="parentnode"><p><a href="../../../WebContent/u1/introduccio.html">1. Desenvolupament de programari</a></p><ul class="expander"><li id="u1introduccio"><a href="../../../WebContent/u1/introduccio.html">Introducció</a></li><li id="u1resum"><a href="../../../WebContent/u1/resum.html">Resum</a></li><li id="u1resultats"><a href="../../../WebContent/u1/resultats.html">Resultats d'aprenentatge</a></li><li id="u1referencies"><a href="../../../WebContent/u1/referencies.html">Referències</a></li><li id="u1a1" class="tocsection"><p id="u1a1continguts"><a href="../../../WebContent/u1/a1/continguts.html">Desenvolupament de programari</a><span class="buttonexp"></span></p><ul><li id="u1a1activitats"><a href="../../../WebContent/u1/a1/activitats.html">Activitats</a></li><li id="u1a1exercicis"><a href="../../../WebContent/u1/a1/exercicis.html">Exercicis</a></li><li id="u1a1annexos"><a href="../../../WebContent/u1/a1/annexos.html">Annexos</a></li></ul></li><li id="u1a2" class="tocsection"><p id="u1a2continguts"><a href="../../../WebContent/u1/a2/continguts.html">Instal·lació i ús d'entorns de desenvolupament</a><span class="buttonexp"></span></p><ul><li id="u1a2activitats"><a href="../../../WebContent/u1/a2/activitats.html">Activitats</a></li><li id="u1a2exercicis"><a href="../../../WebContent/u1/a2/exercicis.html">Exercicis</a></li><li id="u1a2annexos"><a href="../../../WebContent/u1/a2/annexos.html">Annexos</a></li></ul></li></ul></li><li id="" class="indexnode"><p><a href="../../../index.html">Anar a l&#39;&iacute;ndex general</a></p></li>
        </ul>
      </div>
    </div>
   </section>
   <section>
   <div id="settings" class="hidden">
    <div class="menucontent">
     <div class="allsettings">
     <div class="settings">
      <label>Font i Color</label>
		<div class="setting-option">
	        <ul class="fontBackground">
				<li id="style-newspaper" title="Newspaper" class="appearance-style-newspaper"><span>Newspaper</span></li>
                <li id="style-novel" title="Novel" class="appearance-style-novel"><span>Novel</span></li>
                <li id="style-ebook" title="eBook" class="appearance-style-ebook"><span>eBook</span></li>
				<li id="style-inverse" title="Inverse" class="appearance-style-inverse active"><span>Inverse</span></li>
				<li id="style-athelas" title="Athelas" class="appearance-style-athelas"><span>Athelas</span></li>
			</ul>
		</div>
     </div>
	<div class="settings">
      <label>Amplada</label>
		<div class="setting-option">
	        <div id="slider-width"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
		<div class="setting-option">
	        <div id="slider-font"></div>
		</div>
     </div>
     <div class="settings">
      <label>Mida de la font</label>
	  <div class="setting-option">
       <form action="" class="sett-options">
		<ul>
		    <li><input type="checkbox" id="secondary-content" /><label for="secondary-content">Mostra recursos complementaris</label></li>
		    <li><input type="checkbox" id="main-images" /><label for="main-images">Mostra imatges</label></li>
		    <li><input type="checkbox" id="text-alignment" /><label for="text-alignment">Text justificat</label></li>
			<li><input type="checkbox" id="text-hyphen" /><label for="text-hyphen">Partici&oacute; sil·l&agrave;bica</label></li>
		</ul>
       </form>
	  </div>
     </div>
     </div>
    </div>
   </div>
   </section>
 <section>
 <div id="favorites" class="hidden"></div>
 </section>   
 <div id="bridge" class="hidden"></div>
 <div id="help" class="hidden">
  <div class="helptitle">Dreceres del teclat<hr></div>
  <div class="helpsection"><span>General</span>
   <ul>
    <li><span class="shortcut">g</span>: Anar al men&uacute; de navegaci&oacute;</li>
    <li><span class="shortcut">o</span>: Anar a opcions</li>
    <li><span class="shortcut">s</span>: Guardar la p&agrave;gina actual a favorits</li>
    <li><span class="shortcut">p</span>: Imprimir la p&agrave;gina actual</li>
    <li><span class="shortcut">?</span>: Mostrar/Ocultar l&#39;ajuda</li>
   </ul>
  </div>
  <div class="helpsection"><span>Navegaci&oacute;</span>
   <ul>
    <li><span class="shortcut">i</span>: Anar a l&#39;&iacute;ndex general</li>
    <li><span class="shortcut">t</span>: Anar a l&#39;inici de p&agrave;gina</li>
    <li><span class="shortcut">b</span>: Anar al final de p&agrave;gina</li>
    <li><span class="shortcut">j</span>: Anar cap endavant dintre la p&agrave;gina</li>
    <li><span class="shortcut">k</span>: Anar cap enrere dintre la p&agrave;gina</li>
    <li><span class="shortcut">h</span>: Anar a la p&agrave;gina anterior:</li>
    <li><span class="shortcut">l</span>: Anar a la p&agrave;gina seg&uuml;ent:</li>
   </ul>
   </div>
 </div>
 <div id="favcounter" name="favcounter" class="hidden"><span></span></div>
 <div id="navmenu" class="navmenu"><ul class="webnav"><li><a href="../../../index.html" title="Anar a l&#39;&iacute;ndex general">Inici</a></li><li><a href="../introduccio.html">Desenvolupament de programari </a></li><li><a href="continguts.html">Instal·lació i ús d'entorns de desenvolupament</a></li><li>Activitats</li></ul></div>
	<div id="content" lang="ca" class="hyphenate text">
     <article lang="ca" class="sheet">
        <h1><a id="activitats"> Activitats </a></h1>
    	
<h2><a id="el_meu_primer_projecte_amb_eclipse" >El meu primer Projecte amb Eclipse</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és utilitzar per primera vegada l’IDE Eclipse desenvolupant un projecte senzill. Es tracta del projecte més habitual a l’hora de presentar una eina, aquell que mostrarà un missatge a l’usuari final de l’aplicació. És un exemple senzill d’implementar i, per això precisament, és el més adient per poder ent
endre com utilitzar de forma bàsica aquesta eina integrada de desenvolupament.
</p>

<p>
L’enunciat d’aquesta activitat demana mostrar, per la consola d’Eclipse, el missatge “El meu primer Projecte amb Eclipse”.
</p>

<p>
<form action=""><div class="solution ioccontent">
<p>
Per poder dur a terme un programa nou en Eclipse serà necessari crear un projecte. Per crear un projecte, com es pot veure a la figura següent, caldrà escollir l’opció del menú Arxiu / Nou / Projecte, des de la Barra d’eines principal o des de la vista “Navigator” (obrint el menú contextual amb el botó dret del ratolí i l’opció Nou / Project).
</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_01.png" alt="" /></div>

</p>

<p>
Qualsevol de les opcions mostrarà l’assistent de creació de projectes que es pot veure a la figura 1. Per iniciar un nou projecte Java s’ha de seleccionar l’opció 
</p>

<p>
Java / Java Project. 
</p>

<p>
Aquesta opció demanarà que s’indiqui un nom i una ubicació per al nou projecte. Com es pot observar a la figura següent, es podran parametritzar algunes característiques del nou projecte, com poden ser, entre d’altres: 
</p>
<ul>
<li class="level1"><div class="li"> Seleccionar la carpeta on s’emmagatzemaran les llibreries (JAR) que necessita el projecte.</div>
</li>
<li class="level1"><div class="li"> Definir variables d’entorn.</div>
</li>
<li class="level1"><div class="li"> Indicar si hi haurà dependències del projecte que s’està creant en relació amb projectes ja duts a terme (existents en el mateix espai de treball). </div>
</li>
<li class="level1"><div class="li"> Crear una carpeta per emmagatzemar el codi de programació i una de diferent per emmagatzemar les classes una vegada ja compilades. </div>
</li>
</ul>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_02.png" alt="" /></div>

</p>

<p>
Dins aquestes opcions cal fer alguns comentaris. Cal recomanar sempre definir una carpeta, amb un nom clar que indiqui que hi haurà l’origen del projecte, per contenir el codi font, i una altra carpeta, amb un nom per indicar que contindrà els arxius binaris, on es deixaran els .class generats. També cal indicar que a l’opció de Llibreries es poden afegir tots els JAR que siguin necessaris.
</p>

<p>
Totes aquestes configuracions poden modificar-se en qualsevol moment per mitjà del menú contextual de la vista Navegador, en l’opció Propietats / Java Build Path. 
</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_03.png" alt="" /></div>

</p>

<p>
A la figura anterior es pot observar, en crear el projecte Java, com s’obrirà de forma automàtica la Perspectiva Java, que és la col·lecció de vistes que defineix el connector JDT. Si la Perspectiva Java està activa, s’afegeixen a la Barra d’eines principal al
</p>

<p>
uns botons extra que permeten accedir amb rapidesa a les funcions més usuals (execució del codi, depuració del codi, creació de noves classes…)
</p>

<p>
Aquesta Perspectiva es compon de les vistes: <strong>Package Explorer</strong> (que permet navegar per tots els paquets -<em>classpaths</em>- als quals té accés el projecte) i<strong> Outline</strong> (que mostra un esquema de la classe el codi que s’està visualitzant en l’Editor actiu). 
</p>

<p>
Si es té la Perspectiva Java activa, es podrà accedir al botó de creació de noves classes Java (com es pot observar a la figura següent). 
</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_04.png" alt="" /></div>

</p>

<p>
Aquesta funcionalitat activarà l’assistent per a la creació de noves classes Java. Aquest està compost d’un únic formulari en el qual s’indicaran les característiques de la nova classe que es vol crear: nom, superclasse, interfícies que implementa… Es pot observar el formulari de l’assistent a la figura següent.
</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_05.png" alt="" /></div>

</p>

<p>
Una altra forma de crear classes és fer-ho a través del menú principal, escollint l’opció de nou fitxer i indicant la ubicació de la nova classe. Caldrà que aquesta tingui l’extensió JAVA. 
</p>

<p>
Una vegada donats els primers passos per a la creació de la classe, caldrà començar a programar el codi Java que es voldrà desenvolupar. A la figura següent es pot observar aquest pas. 
</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_06.png" alt="" /></div>

</p>

<p>
El codi correcte del programa és el que es mostra a continuació.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> PrintProjectePrimer <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @param args</span></div></li><li class="li1"><div class="de1"><span class="co3">	 */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="co1">// TODO Auto-generated method stub</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+system"><span class="kw3">System</span></a>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;El meu primer Projecte amb Eclipse!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
El darrer pas és executar-lo. A les figures successives següents es pot veure pas a pas aquesta darrera acció.
</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_07.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_08.png" alt="" /></div>

</p>

<p>
<div class="imgelem">
<img src="../media/activitat_1_u1a2_figura_09.png" alt="" /></div>

</p>

<p>
A la darrera figura, es pot observar quin és el resultat de l’execució del Projecte.
</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="servlet" >&#039;Servlet&#039;</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és aprendre a dur a terme una aplicació <em>servlet</em> en Java, utilitzant l’IDE Eclipse.
</p>

<p>
L’exercici consisteix a efectuar la crida d’un <em>servlet</em> a través d’un formulari <acronym title="HyperText Markup Language">HTML</acronym>, que permet introduir les dades que identifiquen una persona, tal com es mostra en la <span class="figref"><a href="#Figura1"><span>figura</span></a></span>.
</p>
<div class="iocfigure"><a name="Figura1"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Formulari d’entrada

</figcaption><img src="../media/activitat_2_u1a2_figura_10.png" alt="" /></figure>
<div class="footfigure"></div></div>
<p>
El <em>servlet</em> captura les dades introduïdes en el formulari, que viatgen cap al servidor, i el mateix <em>servlet</em> és l’encarregat de retornar una resposta <acronym title="HyperText Markup Language">HTML</acronym>, que consisteix en una taula amb les dades introduïdes per l’usuari. Això permet a l’usuari validar que les dades que ell ha introduït són correctes, abans de passar a altres gestions, cosa que confirma la comunicació entre client i servidor.
</p>

<p>
A la <span class="figref"><a href="#Figura2"><span>figura</span></a></span> es pot veure un exemple del resultat que haurà de tornar el <em>servlet</em>.
</p>
<div class="iocfigure"><a name="Figura2"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Formulari de sortida

</figcaption><img src="../media/activitat_2_u1a2_figura_11.png" alt="" /></figure>
<div class="footfigure"></div></div>
<p>
Un <strong><em>servlet</em></strong> és un conjunt de programes que s’executen en un servidor web i construeixen pàgines web dinàmiques. A la <span class="figref"><a href="#Figura3"><span>figura</span></a></span> es pot observar una figura explicativa.
</p>
<div class="iocfigure"><a name="Figura3"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Comunicació entre client i servidor

</figcaption><img src="../media/wdamm05u1_06.png" alt="" /></figure>
<div class="footfigure"></div></div>
<p>
<form action=""><div class="solution ioccontent"><div class="iocreference"><div class="ioccontent">
<p>
A l’annex d’aquest mateix apartat 2 s’explica com instal·lar Apache Tomcat i com configurar Eclipse perquè treballi amb Tomcat.
</p>
</div></div>
<p>
Abans de començar, cal que estigui instal·lat i configurat el servidor Apache Tomcat. 
</p>

<p>
A continuació s’anirà mostrant, pas a pas, la forma de crear aquest projecte tipus “Dynamic Web Project” pas a pas.
</p>

<p>
<strong>Creació del projecte “Dynamic Web Project” que contindrà el servlet</strong>
</p>
<ul>
<li class="level1"><div class="li"> Seleccioneu l’opció del menú <em>File</em> / <em>New</em> / <em>Dynamic Web Project</em>.</div>
</li>
<li class="level1"><div class="li"> A la pantalla que apareix, poseu-hi el nom del projecte i, després de comprovar la resta d’opcions, premeu el botó <em>Next</em>. En aquest cas, el projecte s’ha anomenat <em>ExempleServlets</em>. A la captura següent podeu veure la resta d’opcions que ens han d’aparèixer: </div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_25.png.png" class="imgB" alt="" /></li></ul></div>

</p>
<ul>
<li class="level1"><div class="li"> Ens trobem amb la pantalla de la captura següent. Cal prémer novament el botó <em>Next</em>.</div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_26.png.png" class="imgB" alt="" /></li></ul></div>

</p>
<ul>
<li class="level1"><div class="li"> A la nova pantalla que se’ns mostra, <strong>trieu l’opció “Generate web.xml deployement descriptor”</strong>, com es veu a la captura següent. </div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_27.png.png" class="imgB" alt="" /></li></ul></div>

</p>

<p>
A continuació, feu clic a <em>Finish</em>. El fitxer <em>web.xml</em> es crearà a la carpeta <em>WebContent/WEB-INF</em>.
</p>

<p>
<strong>Creació de la pàgina <acronym title="HyperText Markup Language">HTML</acronym></strong>
</p>
<ul>
<li class="level1"><div class="li"> Cal triar l’opció que es mostra a la següent pantalla, fent ús del botó secundari del ratolí: </div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_28.png.png" class="imgB" alt="" /></li></ul></div>

</p>
<ul>
<li class="level1"><div class="li"> A la pantalla que ens apareix, poseu el nom del fitxer (al nostre cas, <em>FormulariEntrada</em>). Assegureu-vos que esteu creant el fitxer html a la carpeta <em>WebContent</em>. Per últim, feu clic al botó <em>Finish</em>. A continuació teniu una captura on es veu com ha de quedar tot abans de clicar el botó <em>Finish</em>.</div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_29.png.png" class="imgB" alt="" /></li></ul></div>

</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Icona &quot;Save&quot;</p>
<p>
<div class="imgelem">
<img src="../media/activitat_2_u1a2_figura_32.png.png" alt="" /></div>

</p>
</div></div><ul>
<li class="level1"><div class="li"> La pàgina contindrà el següent codi. Un cop copiat, no oblideu gravar el fitxer fent clic a la icona <em>Save</em>.</div>
</li>
</ul>
<pre class="code html4strict"><span class="sc0">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR html4/loose.dtd&quot;&gt;</span> 
<span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span>
   <span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;Content-Type&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;text/html; charset=ISO-8859-1&quot;</span>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>Formulari: entrada de dades<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;pragma&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;no-cache&quot;</span>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;cache-control&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;no-cache&quot;</span>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;expires&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;keywords&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;Formulari, Servlet&quot;</span>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;description&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;Formulari&quot;</span>&gt;</span>
   <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span>
   <span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span>
      <span class="sc2">&lt;<a href="http://december.com/html/4/element/center.html"><span class="kw2">center</span></a>&gt;</span>
         <span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">&quot;600px&quot;</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;100%&quot;</span> <span class="kw3">border</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> <span class="kw3">cellspacing</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> <span class="kw3">cellpadding</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> &gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;50px&quot;</span> <span class="kw3">valign</span><span class="sy0">=</span><span class="st0">&quot;middle&quot;</span> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:white&quot;</span>&gt;</span>
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span> <span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;http://educacio.gencat.cat/img/noma/logo.gif&quot;</span> <span class="kw3">alt</span><span class="sy0">=</span><span class="st0">&quot;gencat&quot;</span> <span class="sy0">/</span>&gt;</span> <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#942713&quot;</span>&gt;</span>
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
              <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;http://ioc.xtec.cat/educacio/templates/ioc/images/ioc_logo.png&quot;</span> <span class="kw3">alt</span><span class="sy0">=</span><span class="st0">&quot;IOC&quot;</span><span class="sy0">/</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#942713&quot;</span>&gt;</span>
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;30&quot;</span> <span class="kw3">valign</span><span class="sy0">=</span><span class="st0">&quot;middle&quot;</span>&gt;</span> Espai per a les futures opcions de menú <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#444444&quot;</span>&gt;</span>
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:white&quot;</span>&gt;</span>
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;100%&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;left&quot;</span>&gt;</span>
                  <span class="sc2">&lt;<a href="http://december.com/html/4/element/p.html"><span class="kw2">p</span></a>&gt;</span>Completar les dades del formulari<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/p.html"><span class="kw2">p</span></a>&gt;</span>
                  <span class="sc-1">&lt;!-- Formulari que apunta a un servlet. --&gt;</span> 
                  <span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;post&quot;</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;./ServletFormulariEntrada&quot;</span>&gt;</span>
                     <span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span>
                        <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Nom:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span> <span class="kw3">size</span><span class="sy0">=</span><span class="st0">&quot;25&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                        <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Cognoms:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;cognoms&quot;</span> <span class="kw3">size</span><span class="sy0">=</span><span class="st0">&quot;50&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                        <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>DNI:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;DNI&quot;</span> <span class="kw3">size</span><span class="sy0">=</span><span class="st0">&quot;10&quot;</span> <span class="kw3">maxlength</span><span class="sy0">=</span><span class="st0">&quot;9&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                        <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Telèfon:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;telefon&quot;</span> <span class="kw3">size</span><span class="sy0">=</span><span class="st0">&quot;10&quot;</span> <span class="kw3">maxlength</span><span class="sy0">=</span><span class="st0">&quot;9&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                        <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Data de naixement:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;dataNaixement&quot;</span> <span class="kw3">size</span><span class="sy0">=</span><span class="st0">&quot;20&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                        <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">colspan</span><span class="sy0">=</span><span class="nu0">2</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Enviar&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
                        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
                     <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span>
                  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span>
               <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#444444&quot;</span>&gt;</span>
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>
         <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span>
      <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/center.html"><span class="kw2">center</span></a>&gt;</span>
   <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></pre>

<p>
<strong>Creació del servlet</strong>
</p>
<ul>
<li class="level1"><div class="li"> Trieu l’opció que es mostra a la següent pantalla, fent ús del botó secundari del ratolí:</div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_30.png.png" class="imgB" alt="" /></li></ul></div>

</p>
<ul>
<li class="level1"><div class="li"> A la finestra que ens apareix, cal:</div>
<ul>
<li class="level2"><div class="li"> Posar el nom que donarem a la classe que implementa el servlet (<em>ServletFormulariEntrada</em>, en aquest cas).</div>
</li>
<li class="level2"><div class="li"> Escriure el nom del paquet (<em>servlet1</em>, en aquest cas). Si no existeix, es crearà automàticament.</div>
</li>
<li class="level2"><div class="li"> Fer clic al botó <em>Finish</em>.</div>
</li>
</ul>
</li>
</ul>

<p>
  A la següent captura es veu com queda la pantalla abans de fer clic a <em>Finish</em>.
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_31.png.png" class="imgB" alt="" /></li></ul></div>

</p>
<ul>
<li class="level1"><div class="li"> El servlet contindrà aquest codi.</div>
</li>
</ul>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">package</span> <span class="co2">servlet1</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.io.*</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.ServletException</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServlet</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServletRequest</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServletResponse</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> ServletFormulariEntrada <span class="kw1">extends</span> HttpServlet <span class="br0">&#123;</span> </div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> ServletFormulariEntrada<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="co1">// TODO Auto-generated constructor stub </span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="kw1">protected</span> <span class="kw4">void</span> doPost<span class="br0">&#40;</span>HttpServletRequest request, </div></li><li class="li1"><div class="de1">		HttpServletResponse response<span class="br0">&#41;</span> <span class="kw1">throws</span> ServletException, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+ioexception"><span class="kw3">IOException</span></a> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co1">//Obtenim els paràmetres del formulari </span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> nom<span class="sy0">=</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> cognoms<span class="sy0">=</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;cognoms&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> DNI<span class="sy0">=</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;DNI&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> telefon<span class="sy0">=</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;telefon&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> dataNaixement<span class="sy0">=</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;dataNaixement&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co1">//Preparem la sortida d'aquest mètode, que serà una plana HTML </span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	response.<span class="me1">setContentType</span><span class="br0">&#40;</span><span class="st0">&quot;text/html&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+printwriter"><span class="kw3">PrintWriter</span></a> out<span class="sy0">=</span>response.<span class="me1">getWriter</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co1">//Generació de la resposta html</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;html&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;head&gt;&lt;title&gt;Dades introduïdes en el formulari&lt;/title&gt;&lt;/head&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;body&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;h2&gt;Dades del formulari&lt;/h2&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;table border=<span class="es0">\&quot;</span>0<span class="es0">\&quot;</span>&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Nom:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;i&gt;&quot;</span><span class="sy0">+</span>nom<span class="sy0">+</span><span class="st0">&quot;&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Cognoms:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;i&gt;&quot;</span><span class="sy0">+</span></div></li><li class="li1"><div class="de1">cognoms<span class="sy0">+</span><span class="st0">&quot;&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;DNI:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;i&gt;&quot;</span><span class="sy0">+</span>DNI<span class="sy0">+</span><span class="st0">&quot;&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Telèfon:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;i&gt;&quot;</span><span class="sy0">+</span></div></li><li class="li1"><div class="de1">telefon<span class="sy0">+</span><span class="st0">&quot;&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Data de naixement:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;i&gt;&quot;</span><span class="sy0">+</span></div></li><li class="li1"><div class="de1">	dataNaixement<span class="sy0">+</span><span class="st0">&quot;&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;/table&gt;&lt;p&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;/body&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> out.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;/html&gt;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span> </div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
Podeu editar el codi perquè totes les instruccions <em>out.println</em> figurin en una sola línia (s’han dividit algunes perquè no calgui desplaçar tant el quadre de text per poder veure tot el codi).
</p>

<p>
Novament, no oblideu gravar el fitxer un cop copiat el codi fent clic a la icona <em>Save</em>.
</p>

<p>
El fitxer haurà quedat grava a la carpeta <em>src/serlet1</em>.
</p>

<p>
<strong>Edició del fitxer <em>web.xml</em></strong>
</p>
<div class="ioctext"><div class="ioccontent"><p class="ioctitle">Pestanya &quot;Source&quot;</p>
<p>
<div class="imgelem">
<img src="../media/activitat_2_u1a2_figura_33.png.png" alt="" /></div>
.
</p>
</div></div>
<p>
Ara cal editar el contingut del fitxer <em>web.xml</em>, que es troba a la carpeta <em>WebContent/WEB-INF</em>. S’accedeix a l’edició del seu contingut textual fent doble clic a sobre de la icona que representa el fitxer i, a continuació, seleccionant-hi la pestanya <em>Source</em>:
</p>

<p>
El contingut que ha de tenir es recull al següent requadre:
<strong>Atenció:</strong> A l’inici del fitxer no pot haver-hi cap línia en blanc.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?xml <span class="kw3">version</span><span class="sy0">=</span><span class="st0">&quot;1.0&quot;</span> encoding<span class="sy0">=</span><span class="st0">&quot;UTF-8&quot;</span>?&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;web-app xmlns:xsi<span class="sy0">=</span><span class="st0">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> xmlns<span class="sy0">=</span><span class="st0">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> xsi:schemaLocation<span class="sy0">=</span><span class="st0">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;WebApp_ID&quot;</span> <span class="kw3">version</span><span class="sy0">=</span><span class="st0">&quot;3.0&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;display-name&gt;</span>ServletsFormulari<span class="sc2">&lt;<span class="sy0">/</span>display-name&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;servlet&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;description&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span>description&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;display-name&gt;</span>ServletFormulariEntrada<span class="sc2">&lt;<span class="sy0">/</span>display-name&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-name&gt;</span>ServletFormulariEntrada<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-class&gt;</span>servlet1.ServletFormulariEntrada<span class="sc2">&lt;<span class="sy0">/</span>servlet-class&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span>servlet&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-name&gt;</span>ServletFormulariEntrada<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;url-pattern&gt;</span>/ServletFormulariEntrada<span class="sc2">&lt;<span class="sy0">/</span>url-pattern&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span>servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;welcome-file-list&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;welcome-file&gt;</span>FormulariEntrada.html<span class="sc2">&lt;<span class="sy0">/</span>welcome-file&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span>welcome-file-list&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span>web-app&gt;</span></div></li></ol></pre>

<p>
En aquesta configuració, és important fixar-se en les següents dades:
</p>
<ul>
<li class="level1"><div class="li"> <em>servlet-class</em>, que indica el nom del servlet (incloent-hi el paquet on és).</div>
</li>
<li class="level1"><div class="li"> <em>url-pattern</em>, que és l’adreça web sobre la qual es maparà el servlet i que ha de coincidir amb l’acció indicada al formulari del fitxer .html (a la línia <code>&lt;form method=“post” action= ”./ServletFormulariEntrada”&gt;</code>).</div>
</li>
<li class="level1"><div class="li"> <em>welcome-file-list</em>: és la llista dels “fitxers de benvinguda” (<em>welcome-file</em>). Aquests fitxers són els que s’executen quan només es posa el nom del lloc web, però no el del fitxer que volem executar. Al nostre cas, si en lloc de <code>http://localhost:8080/ExempleServlets/FormulariEntrada.html</code> posem <code>http://localhost:8080/ExempleServlets/</code> també es mostrarà la mateixa pàgina <em>FormulariEntrada.html</em>.</div>
</li>
</ul>

<p>
Com sempre, un cop copiat, no oblideu gravar el fitxer fent clic a la icona <em>Save</em>.
</p>

<p>
<strong>Comprovacions prèvies a l’execució de l’aplicació web</strong>
</p>
<ul>
<li class="level1"><div class="li"> Els tres fitxers creats (<em>FormulariEntrada.html</em>, <em>ServletFormulariEntrada.java</em> i <em>web.xml</em> )han d’estar en les carpetes que es veuen a la imatge següent.</div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_34.png.png" class="imgB" alt="" /></li></ul></div>

</p>
<ul>
<li class="level1"><div class="li"> Les biblioteques han de ser les que apareixen a la imatge següent. S’accedeix a aquesta finestra prement el botó secundari a sobre del projecte i seleccionant <em>Properties</em>) i seleccionant la línia <em>Java Build Path</em>, tal i com es veu a la imatge.</div>
</li>
</ul>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_35.png.png" class="imgB" alt="" /></li></ul></div>

</p>

<p>
Si s’han seguit correctament els passos dels punts anteriors i s’havia instal·lat prèviament Apache Tomcat haurien de ser-hi sense necessitat de fer res més.
</p>

<p>
<strong>Execució del servlet</strong>
</p>

<p>
Per executar la petita aplicació web que hem realitzat, cal fer clic amb el botó secundari del ratolí a sobre del fitxer <em>FormulariEntrada.html</em> i seleccionar-hi l’opció <em>Run As</em> / <em>Run on server</em>, tal com es veu a la imatge següent:
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_36.png.png" class="imgB" alt="" /></li></ul></div>

</p>

<p>
Apareixerà una finestra on es pot fer clic a <em>Finish</em>. L’entorn sol preguntar si es vol reiniciar el servidor. Quan això passa, cal respondre que sí.
</p>

<p>
Quan és necessari, es posa en marxa el servidor Apache Tomcat i, a continuació, s’obre una pantalla d’un navegador intern de l’Eclipse que s’utilitza per fer les proves. Aquest navegador es veu a la següent captura de pantalla:
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_37.png.png" class="imgB" alt="" /></li></ul></div>

</p>

<p>
També és possible utilitzar l’aplicació des d’un navegador extern a Eclipse, posant-hi la mateixa adreça que apareix en el navegador d’Eclipse.
</p>

<p>
<strong>Ajut:</strong> si aparegués un missatge d’error tot dient que els ports que utilitza habitualment Apache Tomcat ja estan ocupats, es pot aturar el servidor tal com es mostra a la següent figura (s’accedeix al servidor des de la pestanya <em>Servers</em> de la finestra inferior de l’entorn) i tornar a provar a executar l’aplicació. Si el servidor Apache Tomcat es trobés aturat abans de seleccionar aquesta opció o es continués produint el mateix error, hauríeu de trobar les aplicacions que estan utilitzant aquests ports (per exemple, amb la utilitat <em>netstat</em> del sistema operatiu) i aturar-les.
</p>

<p>
<div class="iocfigurec">
<ul>
<li>
<img src="../media/activitat_2_u1a2_figura_38.png.png" class="imgB" alt="" /></li></ul></div>

</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="llistat_d_assignatures" >Llistat d&#039;assignatures</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és aprendre a dur a terme una aplicació en Java que permeti la gestió de dades, utilitzant l’IDE Eclipse i la tecnologia JSP i <em>servlets</em>.
</p>

<p>
L’exercici consisteix en la creació d’una pàgina <acronym title="HyperText Markup Language">HTML</acronym> que permeti mostrar un llistat d’assignatures. La informació que contindrà cada assignatura és el nom de l’assignatura, la seva durada, els crèdits i si l’assignatura està disponible per al proper semestre.
</p>

<p>
A la <span class="figref"><a href="#Figura1b"><span>figura</span></a></span> es pot observar un exemple del tipus d’aplicació que es demana implementar. 
</p>
<div class="iocfigure"><a name="Figura1b"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Llistat d’assignatures

</figcaption><img src="../media/activitat_3_u1a2_figura_25.png" alt="" /></figure>
<div class="footfigure"></div></div>
<p>
Per tal de simplificar l’exercici, la informació de les assignatures no serà emmagatzemada en una base de dades, sinó que es guardarà en sessió, fent ús d’un llistat o vector. A continuació, s’ofereix el codi de la classe Assignatura. 
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> AssignaturaDB <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co1">//Variable global de la classe. </span></div></li><li class="li1"><div class="de1">    <span class="co1">//Conté la informació de les assignatures.</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a> assignatures<span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Creació d'una col·lecció o array amb les dades de les assignatures.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * La informació és registrada en la sessió de l'usuari.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">void</span> inicialitzaDB<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        assignatures <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+arraylist"><span class="kw3">ArrayList</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+random"><span class="kw3">Random</span></a> random <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+random"><span class="kw3">Random</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Sistemes informàtics&quot;</span>, <span class="nu0">198</span>, <span class="nu0">12</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Bases de dades&quot;</span>, <span class="nu0">231</span>, <span class="nu0">12</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Programació&quot;</span>, <span class="nu0">297</span>, <span class="nu0">15</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Llenguatge de marques i sistemes de gestió d&amp;acute;informació&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Entorns de desenvolupament&quot;</span>, <span class="nu0">66</span>, <span class="nu0">6</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Accés a dades&quot;</span>, <span class="nu0">132</span>, <span class="nu0">12</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Desenvolupament d&amp;acute;interfícies&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Programació multimèdia i dispositius mòbils&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">false</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Programació de serveis i processos&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Sistemes de gestió empresarial&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Formació en centres de treball&quot;</span>, <span class="nu0">317</span>, <span class="nu0">18</span>, <span class="kw2">false</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        session.<span class="me1">setAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignaturesDB&quot;</span>, assignatures<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obté la col·lecció d'assignatures registrades en sessió.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Si la col·lecció no conté dades crida a la funció inicialitzaDB que realitza una carrega inicial de dades.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">void</span> carregaDades<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        assignatures <span class="sy0">=</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a><span class="br0">&#41;</span> session.<span class="me1">getAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignaturesDB&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">if</span> <span class="br0">&#40;</span>assignatures <span class="sy0">==</span> <span class="kw2">null</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">            inicialitzaDB<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Guarda en sessió la col·lecció d'assignatures.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">void</span> guardarDades<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        session.<span class="me1">setAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignaturesDB&quot;</span>, assignatures<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
<form action=""><div class="solution ioccontent">
<p>
Es tracta d’un exercici amb una solució oberta. A continuació es mostra un possible model de solució explicat pas a pas.
</p>

<p>
<strong>Creació del projecte</strong>
</p>

<p>
En primer lloc caldrà crear un projecte de tipus “Dynamic Web Project” que s’anomenarà ServletLlistatMatricula.
En tractar-se d’un projecte que farà ús de <em>servlets</em>, s’haurà d’afegir la referència de servlet-api.jar. Aquest canvi es podrà dur a terme a través de les propietats del projecte.
</p>

<p>
<strong>Creació de la classe Assignatura</strong>
</p>

<p>
A continuació es crearà una classe de Java que s’anomenarà Assignatura.java. L’objectiu de la classe és encapsular els atributs de l’assignatura.
</p>

<p>
El següent pas és crear un constructor que permetrà inicialitzar els seus valors i definir les propietats <code>get</code> i <code>set</code> per a cada un dels atributs (<code>id</code>, <code>nom</code>, <code>hores</code>, <code>crèdits</code> i <code>disponibilitat</code>).
</p>

<p>
El codi resultant podria ser:
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">package</span> <span class="co2">ioc.desenvolupament.programari</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* Classe que conté la informació de les assignatures</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* @author IOC</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;*/</span></div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> Assignatura <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co1">//Declaració de variables locals</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">long</span> id <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> nom <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">int</span> hores <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">int</span> credits <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">boolean</span> disponible <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Constructor buit</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> Assignatura<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Constructor que inicialitza les variables de l'assignatura</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param id</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param nom</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param credits</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param disponible</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> Assignatura<span class="br0">&#40;</span><span class="kw4">long</span> id, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> nom, <span class="kw4">int</span> hores, <span class="kw4">int</span> credits, <span class="kw4">boolean</span> disponible<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">this</span>.<span class="me1">id</span> <span class="sy0">=</span> id<span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">this</span>.<span class="me1">nom</span> <span class="sy0">=</span> nom<span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">this</span>.<span class="me1">hores</span> <span class="sy0">=</span> hores<span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">this</span>.<span class="me1">credits</span> <span class="sy0">=</span> credits<span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">this</span>.<span class="me1">disponible</span> <span class="sy0">=</span> disponible<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obtenir el valor de l'atribut id</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return id</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <span class="kw4">long</span> getId<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">return</span> id<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Assignar un valor a l'atribut id</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param id</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <span class="kw4">void</span> setId<span class="br0">&#40;</span><span class="kw4">long</span> id<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">this</span>.<span class="me1">id</span> <span class="sy0">=</span> id<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obtenir el valor de l'atribut nom</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return nom</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> getNom<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">return</span> nom<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Assignar un valor a l'atribut nom</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param nom</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> setNom<span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> nom<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">this</span>.<span class="me1">nom</span> <span class="sy0">=</span> nom<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obtenir el valor de l'atribut hores</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return hores</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">int</span> getHores<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">return</span> hores<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Assignar un valor a l'atribut hores</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param hores</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> setHores<span class="br0">&#40;</span><span class="kw4">int</span> hores<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">this</span>.<span class="me1">hores</span> <span class="sy0">=</span> hores<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	 <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obtenir el valor de l'atribut credits</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return credits</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">int</span> getCredits<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">return</span> credits<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Assignar un valor a l'atribut credits</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param credits</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> setCredits<span class="br0">&#40;</span><span class="kw4">int</span> credits<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">this</span>.<span class="me1">credits</span> <span class="sy0">=</span> credits<span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span>	</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obtenir el valor de l'atribut disponible</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return disponible</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <span class="kw4">boolean</span> getDisponible<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">return</span> disponible<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Assignar un valor a l'atribut disponible</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param disponible</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <span class="kw4">void</span> setDisponible<span class="br0">&#40;</span><span class="kw4">boolean</span> disponible<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">this</span>.<span class="me1">disponible</span> <span class="sy0">=</span> disponible<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
<strong>Creació de la classe <code>AssignaturaDB</code></strong>
</p>

<p>
A continuació es crearà la classe de Java que s’anomenarà <code>AssignaturaDB.java</code>. La classe pretén simular el comportament d’una base de dades.
</p>

<p>
A l’enunciat es proporciona el codi font que permet registrar o obtenir les dades de l’assignatura a partir de la informació que està emmagatzemada a la sessió amb la que treballa l’usuari. Aquesta classe haurà de ser actualitzada incloent un nou mètode que retorni el llistat d’assignatures.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obté la col·lecció d'assignatures que es troba guardada en la sessió.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return assignatures</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a> obtenirAssignatures<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    	<span class="co1">// Obté la col·lecció d'assignatures guardada en sessió.</span></div></li><li class="li1"><div class="de1">    	carregaDades<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    	<span class="co1">//Retorna la col·lecció d'assignatures</span></div></li><li class="li1"><div class="de1">    	<span class="kw1">return</span> assignatures<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span>    </div></li></ol></pre>

<p>
<strong>Creació del <em>servlet</em> <code>AssignaturaLlistat</code></strong>
</p>

<p>
A continuació caldrà crear el <em>servlet</em>: <em>Arxiu</em> / <em>Nou</em> / <em>Servlet</em>.
</p>

<p>
Aquest <em>servlet</em> implementa el mètode <code>doGet</code> i obté, del simulador de la base de dades (<code>AssignaturaDB</code>), el llistat d’assignatures que s’haurà de mostrar en el navegador, tot indicant-li que mostri la pàgina assignaturaLlistat.jsp.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">package</span> <span class="co2">ioc.desenvolupament.programari.servlets</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">ioc.desenvolupament.programari.AssignaturaDB</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.io.IOException</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.util.Collection</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.RequestDispatcher</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.ServletException</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServlet</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServletRequest</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServletResponse</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpSession</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* @author IOC</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;*/</span></div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> AssignaturaLlistat <span class="kw1">extends</span> HttpServlet <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Constructor </span></div></li><li class="li1"><div class="de1"><span class="co3">	 */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> AssignaturaLlistat<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">super</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Destructor</span></div></li><li class="li1"><div class="de1"><span class="co3">	 */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> destroy<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">super</span>.<span class="me1">destroy</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Proporciona la informació per mostrar el llistat d'assignatures &lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Mètode que és cridat quan el tag del formulari te el valor de get.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * </span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @param request (sol·licitud d'enviament del client cap al servidor)</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @param response (la resposta enviada del servidor cap al client)</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @throws ServletException en cas de produir-se un error.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @throws IOException en cas de produir-se un error.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> doGet<span class="br0">&#40;</span>HttpServletRequest request, HttpServletResponse response<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">throws</span> ServletException, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+ioexception"><span class="kw3">IOException</span></a> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Obtenim la sessió del client.</span></div></li><li class="li1"><div class="de1">		HttpSession session <span class="sy0">=</span> request.<span class="me1">getSession</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Creació d'una instància a la classe AssignaturaDB que simula la base de dades d'assignatures.</span></div></li><li class="li1"><div class="de1">		AssignaturaDB assignaturaDB <span class="sy0">=</span> <span class="kw1">new</span> AssignaturaDB<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Creació d'una col·lecció que conté les assignatures</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a> colleccioAssignatures <span class="sy0">=</span> assignaturaDB.<span class="me1">obtenirAssignatures</span><span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Guardem un atribut amb la col·lecció d'assignatures. </span></div></li><li class="li1"><div class="de1">		request.<span class="me1">setAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignatures&quot;</span>, colleccioAssignatures<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Realitza la crida al JSP que mostra el llistat d'assignatures.</span></div></li><li class="li1"><div class="de1">		RequestDispatcher dispatcher <span class="sy0">=</span> getServletContext<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getRequestDispatcher</span><span class="br0">&#40;</span><span class="st0">&quot;/jsp/assignaturaLlistat.jsp&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		dispatcher.<span class="me1">forward</span><span class="br0">&#40;</span>request, response<span class="br0">&#41;</span><span class="sy0">;</span>		</div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
<strong>Actualització del fitxer <em>web.xml</em></strong>
</p>

<p>
S’actualitza el descriptor de desplegament per registrar els <em>servlets</em> amb el contenidor.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?xml <span class="kw3">version</span><span class="sy0">=</span><span class="st0">&quot;1.0&quot;</span> encoding<span class="sy0">=</span><span class="st0">&quot;UTF-8&quot;</span>?&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;web-app <span class="kw3">version</span><span class="sy0">=</span><span class="st0">&quot;2.4&quot;</span> </span></div></li><li class="li1"><div class="de1"><span class="sc2">	xmlns<span class="sy0">=</span><span class="st0">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span> </span></div></li><li class="li1"><div class="de1"><span class="sc2">	xmlns:xsi<span class="sy0">=</span><span class="st0">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></div></li><li class="li1"><div class="de1"><span class="sc2">	xsi:schemaLocation<span class="sy0">=</span><span class="st0">&quot;http://java.sun.com/xml/ns/j2ee </span></span></div></li><li class="li1"><div class="de1"><span class="sc2"><span class="st0">	http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;servlet&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;servlet-name&gt;</span>AssignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;servlet-class&gt;</span>ioc.desenvolupament.programari.servlets.AssignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>servlet-class&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span>servlet&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;servlet-name&gt;</span>AssignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;url-pattern&gt;</span>/assignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>url-pattern&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span>servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span>web-app&gt;</span></div></li></ol></pre>

<p>
<strong>Creació de la pàgina default.jsp</strong>
</p>

<p>
Aquesta serà la pàgina inicial de la web. La pàgina conté un <em>iframe</em>, identificat com a <code>workingTable</code>, on s’anirà carregant el contingut dinàmic.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc0">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>Assignatura<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/title.html"><span class="kw2">title</span></a>&gt;</span>    </div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;pragma&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;no-cache&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;cache-control&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;no-cache&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;expires&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;keywords&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;Assignatura&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/meta.html"><span class="kw2">meta</span></a> <span class="kw3">http-equiv</span><span class="sy0">=</span><span class="st0">&quot;description&quot;</span> <span class="kw3">content</span><span class="sy0">=</span><span class="st0">&quot;Llistat d'assignatures&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/head.html"><span class="kw2">head</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span> <span class="kw3">onLoad</span><span class="sy0">=</span><span class="st0">&quot;document.getElementById('workingTable').src='assignaturaLlistat';&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/center.html"><span class="kw2">center</span></a>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">&quot;885&quot;</span> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;100%&quot;</span> <span class="kw3">border</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> <span class="kw3">cellspacing</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> <span class="kw3">cellpadding</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> &gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;50px&quot;</span> <span class="kw3">valign</span><span class="sy0">=</span><span class="st0">&quot;middle&quot;</span> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:white&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;&lt;%=request.getContextPath()%&gt;</span></span>/img/gencat.gif&quot; alt=&quot;gencat&quot; /&gt;                 </div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#942713&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;&lt;%=request.getContextPath()%&gt;</span></span>/img/capcaleraIOC.jpg&quot; alt=&quot;IOC&quot; /&gt;                  </div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#942713&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">           <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;30&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span> <span class="kw3">valign</span><span class="sy0">=</span><span class="st0">&quot;middle&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">            Espai per les futures opcions de menú</div></li><li class="li1"><div class="de1">           <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#444444&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:white&quot;</span>&gt;</span>     </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;100%&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/iframe.html"><span class="kw2">iframe</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;workingTable&quot;</span> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;width:100%; height:100%; margin:0px; border-style:none;&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/iframe.html"><span class="kw2">iframe</span></a>&gt;</span></div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#444444&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">          <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">height</span><span class="sy0">=</span><span class="st0">&quot;3px&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span> </div></li><li class="li1"><div class="de1">        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>     </div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/center.html"><span class="kw2">center</span></a>&gt;</span>  </div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/html.html"><span class="kw2">html</span></a>&gt;</span></div></li></ol></pre>

<p>
<strong>Creació de la pàgina AssignaturaLlistat.jsp</strong>
</p>

<p>
Aquesta pàgina mostra en format de taula el llistat d’assignatures que ha estat proporcionat pel <em>servlet</em>.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;%@ page <span class="kw3">language</span><span class="sy0">=</span><span class="st0">&quot;java&quot;</span> import<span class="sy0">=</span><span class="st0">&quot;java.util.*&quot;</span> %&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;%@ page import<span class="sy0">=</span><span class="st0">&quot;ioc.desenvolupament.programari.*&quot;</span> %&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span>Llistat d'assignatures<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a> <span class="kw3">border</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span> <span class="kw3">valign</span><span class="sy0">=</span><span class="st0">&quot;middle&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">&quot;150px&quot;</span>&gt;</span>Nom <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Hores<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Crèdits<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Disponible<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;%</span></div></li><li class="li1"><div class="de1"><span class="sc2">      Collection colleccioAssignatures <span class="sy0">=</span> <span class="br0">&#40;</span>Collection<span class="br0">&#41;</span>request.getAttribute<span class="br0">&#40;</span><span class="st0">&quot;assignatures&quot;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">      <span class="kw3">for</span> <span class="br0">&#40;</span>Iterator iter <span class="sy0">=</span> colleccioAssignatures.iterator<span class="br0">&#40;</span><span class="br0">&#41;</span>; iter.hasNext<span class="br0">&#40;</span><span class="br0">&#41;</span>;<span class="br0">&#41;</span> <span class="br0">&#123;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2">        Assignatura element <span class="sy0">=</span> <span class="br0">&#40;</span>Assignatura<span class="br0">&#41;</span> iter.next<span class="br0">&#40;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1"><span class="sc2">        out.println<span class="br0">&#40;</span><span class="st0">&quot;&lt;tr&gt;</span></span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot; + element.getNom() + &quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot; + element.getHores() + &quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot; + element.getCredits() + &quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        if(element.getDisponible())</div></li><li class="li1"><div class="de1">          out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span>\<span class="st0">&quot;checkbox\&quot;</span> <span class="kw3">name</span><span class="sy0">=</span>\<span class="st0">&quot;disponible\&quot;</span> <span class="kw3">value</span><span class="sy0">=</span>\<span class="st0">&quot;true\&quot;</span> <span class="kw3">disabled</span> checked&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        else</div></li><li class="li1"><div class="de1">          out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span>\<span class="st0">&quot;checkbox\&quot;</span> <span class="kw3">name</span><span class="sy0">=</span>\<span class="st0">&quot;disponible\&quot;</span> <span class="kw3">value</span><span class="sy0">=</span>\<span class="st0">&quot;true\&quot;</span> disabled&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);        </div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    %&gt;  </div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li></ol></pre>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

<h2><a id="gestio_d_assignatures" >Gestió d&#039;assignatures</a></h2>
<div class="level2">

<p>
L’objectiu d’aquesta activitat és dur a terme una aplicació en Java que permeti la gestió de dades, utilitzant l’IDE Eclipse, la tecnologia JSP i servlets. Concretament caldrà implementar les funcionalitats d’afegir, modificar i eliminar. El segon objectiu és evolucionar en els coneixements de l’IDE Eclipse. 
</p>

<p>
L’exercici consisteix en la creació d’una pàgina <acronym title="HyperText Markup Language">HTML</acronym> que permeti la gestió d’un llistat d’assignatures, mostrant-les i permetent-ne la modificació i l’eliminació, així com el fet d’afegir-hi noves assignatures. 
</p>

<p>
El llenguatge de programació a utilitzar serà JAVA i la tecnologia JSP i <em>Servlets</em>.
Per a cada assignatura s’emmagatzema el nom de l’assignatura, la seva durada, els crèdits i si l’assignatura està disponible per al proper semestre.
</p>

<p>
A la <span class="figref"><a href="#Figura1c"><span>figura</span></a></span> es pot veure un exemple del que es demana amb la interfície que mostra el llistat d’assignatures.
</p>
<div class="iocfigure"><a name="Figura1c"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Gestió d’assignatures

</figcaption><img src="../media/activitat_4_u1a2_figura_26.png" alt="" /></figure>
<div class="footfigure"></div></div>
<p>
A la <span class="figref"><a href="#Figura2c"><span>figura</span></a></span> es pot veure una interfície que mostra, aquesta vegada, l’edició d’una assignatura.
</p>
<div class="iocfigure"><a name="Figura2c"></a><figure>
<figcaption><span class="figuretitle">Figura</span>

Edició d’una assignatura

</figcaption><img src="../media/activitat_4_u1a2_figura_27.png" alt="" /></figure>
<div class="footfigure"></div></div>
<p>
Per tal de simplificar l’exercici, la informació de les assignatures no serà emmagatzemada en una base de dades, sinó que es guardarà en sessió fent ús d’una llista o vector.  A continuació, s’ofereix el codi de la classe Assignatura amb les dades.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> AssignaturaDB <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co1">//Variable global de la classe. </span></div></li><li class="li1"><div class="de1">    <span class="co1">//Conté la informació de les assignatures.</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a> assignatures<span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Creació d'una col·lecció o array amb les dades de les assignatures.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * La informació és registrada en la sessió de l'usuari.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">void</span> inicialitzaDB<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        assignatures <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+arraylist"><span class="kw3">ArrayList</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+random"><span class="kw3">Random</span></a> random <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+random"><span class="kw3">Random</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Sistemes informàtics&quot;</span>, <span class="nu0">198</span>, <span class="nu0">12</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Bases de dades&quot;</span>, <span class="nu0">231</span>, <span class="nu0">12</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Programació&quot;</span>, <span class="nu0">297</span>, <span class="nu0">15</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Llenguatge de marques i sistemes de gestió d&amp;acute;informació&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Entorns de desenvolupament&quot;</span>, <span class="nu0">66</span>, <span class="nu0">6</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Accés a dades&quot;</span>, <span class="nu0">132</span>, <span class="nu0">12</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Desenvolupament d&amp;acute;interfícies&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Programació multimèdia i dispositius mòbils&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">false</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Programació de serveis i processos&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Sistemes de gestió empresarial&quot;</span>, <span class="nu0">99</span>, <span class="nu0">9</span>, <span class="kw2">true</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        assignatures.<span class="me1">add</span><span class="br0">&#40;</span><span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, <span class="st0">&quot;Formació en centres de treball&quot;</span>, <span class="nu0">317</span>, <span class="nu0">18</span>, <span class="kw2">false</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        session.<span class="me1">setAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignaturesDB&quot;</span>, assignatures<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obté la col·lecció d'assignatures registrades en sessió.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Si la col·lecció no conté dades crida a la funció inicialitzaDB que realitza una carrega inicial de dades.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">void</span> carregaDades<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        assignatures <span class="sy0">=</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a><span class="br0">&#41;</span> session.<span class="me1">getAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignaturesDB&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">if</span> <span class="br0">&#40;</span>assignatures <span class="sy0">==</span> <span class="kw2">null</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">            inicialitzaDB<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Guarda en sessió la col·lecció d'assignatures.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">private</span> <span class="kw4">void</span> guardarDades<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">        session.<span class="me1">setAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignaturesDB&quot;</span>, assignatures<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
<form action=""><div class="solution ioccontent">
<p>
<strong>Creació del projecte</strong>
</p>

<p>
Es tracta d’una activitat amb una solució oberta. A continuació, es mostra un possible model de solució explicat pas a pas.
</p>

<p>
En primer lloc, caldrà crear un projecte del tipus <em>Dynamic Web Project</em>, que s’anomenarà ServletLlistatMatricula. En tractar-se d’un projecte que farà ús de <em>servlets</em>, s’haurà d’afegir la referència de servlet-api.jar. Aquest canvi es podrà dur a terme per mitjà de les propietats del projecte.
</p>

<p>
<strong>Creació de la classe <code>Assignatura</code></strong>
</p>

<p>
A continuació, es crearà una classe de Java que s’anomenarà <code>Assignatura.java</code>. L’objectiu de la classe és encapsular els atributs de l’assignatura. El següent pas és crear un constructor que permetrà inicialitzar els seus valors i definir les propietats get i set per a cada un dels atributs (<code>id</code>, <code>nom</code>, <code>hores</code>, <code>crèdits</code> i <code>disponibilitat</code>). 
</p>

<p>
A partir d’aquest punt es mostra una possible solució de l’activitat, entrant en detall en el referent a les funcionalitats de modificar, afegir i eliminar.
</p>

<p>
<strong>Creació de la classe <code>AssignaturaDB</code></strong>
</p>

<p>
A continuació, es crearà la classe de Java que s’anomenarà <code>AssignaturaDB.java</code>. La classe pretén simular el comportament d’una base de dades. 
</p>

<p>
A l’enunciat es proporciona el codi font que permet registrar o obtenir, de sessió, les dades de l’assignatura. Aquesta classe haurà de ser actualitzada incloent un nou mètode que retorni el llistat d’assignatures. També haurà d’afegir els mètodes que permetin efectuar les operacions, com podrien ser la consulta, l’edició, l’eliminació i la creació d’assignatures.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obté la col·lecció d'assignatures que es troba guardada en la sessió.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return assignatures</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a> obtenirAssignatures<span class="br0">&#40;</span>HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    	<span class="co1">// Obté la col·lecció d'assignatures guardada en sessió.</span></div></li><li class="li1"><div class="de1">    	carregaDades<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    	<span class="co1">//Retorna la col·lecció d'assignatures</span></div></li><li class="li1"><div class="de1">    	<span class="kw1">return</span> assignatures<span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span>    </div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Guarda la informació d'una assignatura en la col·lecció d'assignatures</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param assignatura</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return id de l'assignatura</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <span class="kw4">long</span> guardarAssignatura<span class="br0">&#40;</span>Assignatura assignatura, HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    	<span class="co1">// Obté la col·lecció d'assignatures guardada en sessió.</span></div></li><li class="li1"><div class="de1">        carregaDades<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">// Bucle per tal d'identificar si es realitza una operació de creació o edició.</span></div></li><li class="li1"><div class="de1">        <span class="kw4">boolean</span> assignaturaExisteix <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+arraylist"><span class="kw3">ArrayList</span></a> assignaturesNovaColleccio <span class="sy0">=</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+arraylist"><span class="kw3">ArrayList</span></a><span class="br0">&#41;</span> assignatures<span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw4">int</span> index <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">for</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+iterator"><span class="kw3">Iterator</span></a> iter <span class="sy0">=</span> assignatures.<span class="me1">iterator</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> iter.<span class="me1">hasNext</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            Assignatura element <span class="sy0">=</span> <span class="br0">&#40;</span>Assignatura<span class="br0">&#41;</span> iter.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">if</span> <span class="br0">&#40;</span>element.<span class="me1">getId</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">==</span> assignatura.<span class="me1">getId</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            	<span class="co1">//Realitza l'operació d'edició d'una assignatura.</span></div></li><li class="li1"><div class="de1">            	assignaturesNovaColleccio.<span class="me1">set</span><span class="br0">&#40;</span>index, assignatura<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">                assignaturaExisteix <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">                <span class="kw1">break</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">            index<span class="sy0">++;</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span>     </div></li><li class="li1"><div class="de1">        assignatures <span class="sy0">=</span> assignaturesNovaColleccio<span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">// Realitza l'operació de creació d'una assignatura.</span></div></li><li class="li1"><div class="de1">        <span class="kw1">if</span> <span class="br0">&#40;</span>assignaturaExisteix <span class="sy0">==</span> <span class="kw2">false</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+random"><span class="kw3">Random</span></a> random <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+random"><span class="kw3">Random</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            assignatura.<span class="me1">setId</span><span class="br0">&#40;</span>random.<span class="me1">nextLong</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            assignatures.<span class="me1">add</span><span class="br0">&#40;</span>assignatura<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">// Guarda la col·lecció d'assignatures a sessió.</span></div></li><li class="li1"><div class="de1">        guardarDades<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">//Retorna l'identificador de l'assignatura.</span></div></li><li class="li1"><div class="de1">        <span class="kw1">return</span> assignatura.<span class="me1">getId</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Obtenir informació d'una assignatura</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param id</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @return Assignatura. Si no la troba retorna null.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> Assignatura obtenirAssignatura<span class="br0">&#40;</span><span class="kw4">long</span> id, HttpSession session<span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    	<span class="co1">// Obté la col·lecció d'assignatures guardada en sessió.</span></div></li><li class="li1"><div class="de1">        carregaDades<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">// Bucle per obtenir la informació de l'assignatura.</span></div></li><li class="li1"><div class="de1">        <span class="kw1">for</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+iterator"><span class="kw3">Iterator</span></a> iter <span class="sy0">=</span> assignatures.<span class="me1">iterator</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> iter.<span class="me1">hasNext</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            Assignatura element <span class="sy0">=</span> <span class="br0">&#40;</span>Assignatura<span class="br0">&#41;</span> iter.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">if</span> <span class="br0">&#40;</span>element.<span class="me1">getId</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">==</span> id<span class="br0">&#41;</span> <span class="kw1">return</span> <span class="br0">&#40;</span>Assignatura<span class="br0">&#41;</span> element<span class="sy0">;</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">        <span class="kw1">return</span> <span class="kw2">null</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Eliminació d'una assignatura</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param id</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * @param session</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">    <span class="kw1">public</span> <span class="kw4">void</span> eliminarAssignatura<span class="br0">&#40;</span><span class="kw4">long</span> id, HttpSession session<span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    	<span class="co1">// Obté la col·lecció d'assignatures guardada en sessió.</span></div></li><li class="li1"><div class="de1">        carregaDades<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">// Creació d'una nova col·lecció on es registraran les assignatures</span></div></li><li class="li1"><div class="de1">        <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+collection"><span class="kw3">Collection</span></a> assignaturesNovaColleccio <span class="sy0">=</span> <span class="kw1">new</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+arraylist"><span class="kw3">ArrayList</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">// Bucle que afageix en la nova col·lecció les assignatures vàlides</span></div></li><li class="li1"><div class="de1">        <span class="kw1">for</span> <span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+iterator"><span class="kw3">Iterator</span></a> iter <span class="sy0">=</span> assignatures.<span class="me1">iterator</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> iter.<span class="me1">hasNext</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            Assignatura element <span class="sy0">=</span> <span class="br0">&#40;</span>Assignatura<span class="br0">&#41;</span> iter.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="kw1">if</span> <span class="br0">&#40;</span>element.<span class="me1">getId</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">!=</span> id<span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">            	assignaturesNovaColleccio.<span class="me1">add</span><span class="br0">&#40;</span>element<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">            <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">        <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        <span class="co1">// Guarda a sessió la nova col·lecció d'assignatures.</span></div></li><li class="li1"><div class="de1">        assignatures <span class="sy0">=</span> assignaturesNovaColleccio<span class="sy0">;</span></div></li><li class="li1"><div class="de1">        guardarDades<span class="br0">&#40;</span>session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">    <span class="br0">&#125;</span></div></li></ol></pre>

<p>
<strong>Creació del <em>servlet</em> AssignaturaEdicio</strong>
</p>

<p>
Els mètodes implementats pel <em>servlet</em> són:
</p>
<ul>
<li class="level1"><div class="li"> <code>doGet</code>, on el <em>servlet</em> s’encarrega de rebre una petició que envia el client (el navegador) i, en funció de l’operació a efectuar (creació, eliminació o edició de l’assignatura), indicarà al simulador de la base de dades (AssignaturaDB) que l’efectuï i especificarà la nova pàgina a visualitzar en el navegador.</div>
</li>
<li class="level1"><div class="li"> <code>doPost</code>, on el <em>servlet</em> recepcionarà les dades d’una assignatura i les guardarà en el simulador de la base de dades (AssignaturaDB). Finalment, especificarà la nova pàgina a visualitzar en el navegador (el llistat d’assignatures).</div>
</li>
</ul>

<p>
A continuació, es mostra el codi que implementa els dos mètodes.
</p>
<pre class="code java"><ol><li class="li1"><div class="de1"><span class="kw1">package</span> <span class="co2">ioc.desenvolupament.programari.servlets</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">ioc.desenvolupament.programari.Assignatura</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">ioc.desenvolupament.programari.AssignaturaDB</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">java.io.IOException</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.RequestDispatcher</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.ServletException</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServlet</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServletRequest</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpServletResponse</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1"><span class="kw1">import</span> <span class="co2">javax.servlet.http.HttpSession</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* Servlet d'edició de les assignatures.</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;* @author IOC</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;*/</span></div></li><li class="li1"><div class="de1"><span class="kw1">public</span> <span class="kw1">class</span> AssignaturaEdicio <span class="kw1">extends</span> HttpServlet <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">    <span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    * Constructor </span></div></li><li class="li1"><div class="de1"><span class="co3">&nbsp;    */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> AssignaturaEdicio<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">super</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Destructor</span></div></li><li class="li1"><div class="de1"><span class="co3">	 */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> destroy<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">super</span>.<span class="me1">destroy</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> </div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Executa la petició realitzada pel client (crear, editar o eliminar una assignatura) &lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Mètode que és cridat quan el tag del formulari te el valor de get.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * </span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @param request (sol•licitud d'enviament del client cap al servidor)</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @param response (la resposta enviada del servidor cap al client)</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @throws ServletException en cas de produir-se un error.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @throws IOException en cas de produir-se un error.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> doGet<span class="br0">&#40;</span>HttpServletRequest request, HttpServletResponse response<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">throws</span> ServletException, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+ioexception"><span class="kw3">IOException</span></a> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Obtenim la sessió del client.</span></div></li><li class="li1"><div class="de1">		HttpSession session <span class="sy0">=</span> request.<span class="me1">getSession</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Creació d'una instància a la classe AssignaturaDB que simula la base de dades d'assignatures.</span></div></li><li class="li1"><div class="de1">		AssignaturaDB assignaturaDB <span class="sy0">=</span> <span class="kw1">new</span> AssignaturaDB<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Obté el paràmetre que indica l'acció que s'ha de dur a terme. (la petició del client)</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> action <span class="sy0">=</span> request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;do&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Obté el paràmetre amb l'identificador de l'assignatura.</span></div></li><li class="li1"><div class="de1">		<span class="kw4">long</span> id <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">try</span><span class="br0">&#123;</span> id <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+long"><span class="kw3">Long</span></a>.<span class="me1">parseLong</span><span class="br0">&#40;</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;id&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+numberformatexception"><span class="kw3">NumberFormatException</span></a> e<span class="br0">&#41;</span><span class="br0">&#123;</span><span class="coMULTI">/*TODO*/</span><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Acció: creació, edició o eliminació d'una assignatura.</span></div></li><li class="li1"><div class="de1">		<span class="kw1">if</span><span class="br0">&#40;</span>action.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;crear&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">			<span class="co1">//Realitza la crida al JSP de creació d'una assignatura.</span></div></li><li class="li1"><div class="de1">			RequestDispatcher dispatcher <span class="sy0">=</span> getServletContext<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getRequestDispatcher</span><span class="br0">&#40;</span><span class="st0">&quot;/jsp/assignaturaCrear.jsp&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">			dispatcher.<span class="me1">forward</span><span class="br0">&#40;</span>request, response<span class="br0">&#41;</span><span class="sy0">;</span>	</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span><span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>action.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;editar&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">			<span class="co1">//Creació d'una instancia de la classe Assignatura</span></div></li><li class="li1"><div class="de1">			Assignatura assignatura <span class="sy0">=</span> <span class="kw1">new</span> Assignatura<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">			<span class="co1">//Si el client ha proporcionat un identificador d'assignatura, obtenim la informació de l'assignatura</span></div></li><li class="li1"><div class="de1">			<span class="kw1">if</span><span class="br0">&#40;</span>id <span class="sy0">!=</span> <span class="nu0">0</span><span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">				assignatura <span class="sy0">=</span> assignaturaDB.<span class="me1">obtenirAssignatura</span><span class="br0">&#40;</span>id, session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">			<span class="co1">//Guardem un atribut amb la informació de l'assignatura. </span></div></li><li class="li1"><div class="de1">			request.<span class="me1">setAttribute</span><span class="br0">&#40;</span><span class="st0">&quot;assignatura&quot;</span>, assignatura<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">			<span class="co1">//Realitza la crida al JSP d'edició d'una assignatura.</span></div></li><li class="li1"><div class="de1">			RequestDispatcher dispatcher <span class="sy0">=</span> getServletContext<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getRequestDispatcher</span><span class="br0">&#40;</span><span class="st0">&quot;/jsp/assignaturaEditar.jsp&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">			dispatcher.<span class="me1">forward</span><span class="br0">&#40;</span>request, response<span class="br0">&#41;</span><span class="sy0">;</span>			</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span><span class="kw1">else</span> <span class="kw1">if</span><span class="br0">&#40;</span>action.<span class="me1">equals</span><span class="br0">&#40;</span><span class="st0">&quot;eliminar&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">			<span class="co1">//Eliminació de l'assignatura</span></div></li><li class="li1"><div class="de1">			assignaturaDB.<span class="me1">eliminarAssignatura</span><span class="br0">&#40;</span>id, session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">			<span class="co1">//Redirecció a la pàgina de llistat d'assignatures.</span></div></li><li class="li1"><div class="de1">			response.<span class="me1">sendRedirect</span><span class="br0">&#40;</span>request.<span class="me1">getContextPath</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot;/assignaturaLlistat&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="br0">&#125;</span>		</div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="co3">/**</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Guarda la informació d'una nova assignatura. &lt;br&gt;</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * Mètode que és cridat quan el tag del formulari te el valor de set.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * </span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @param request (sol·licitud d'enviament del client cap al servidor)</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @param response (la resposta enviada del servidor cap al client)</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @throws ServletException en cas de produir-se un error.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 * @throws IOException en cas de produir-se un error.</span></div></li><li class="li1"><div class="de1"><span class="co3">	 */</span></div></li><li class="li1"><div class="de1">	<span class="kw1">public</span> <span class="kw4">void</span> doPost<span class="br0">&#40;</span>HttpServletRequest request, HttpServletResponse response<span class="br0">&#41;</span></div></li><li class="li1"><div class="de1">			<span class="kw1">throws</span> ServletException, <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+ioexception"><span class="kw3">IOException</span></a> <span class="br0">&#123;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Obtenim la sessió del client.</span></div></li><li class="li1"><div class="de1">		HttpSession session <span class="sy0">=</span> request.<span class="me1">getSession</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Creació d'una instància a la classe AssignaturaDB que simula la base de dades d'assignatures.</span></div></li><li class="li1"><div class="de1">		AssignaturaDB assignaturaDB <span class="sy0">=</span> <span class="kw1">new</span> AssignaturaDB<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Obté el paràmetre amb l'identificador de l'assignatura.</span></div></li><li class="li1"><div class="de1">		<span class="kw4">long</span> id <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">try</span><span class="br0">&#123;</span> id <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+long"><span class="kw3">Long</span></a>.<span class="me1">parseLong</span><span class="br0">&#40;</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;id&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">		<span class="kw1">catch</span><span class="br0">&#40;</span><a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+numberformatexception"><span class="kw3">NumberFormatException</span></a> e<span class="br0">&#41;</span><span class="br0">&#123;</span><span class="coMULTI">/*TODO: Tractament de l'excepció */</span><span class="br0">&#125;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Obté el valor dels atributs de l'assignatura.</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+string"><span class="kw3">String</span></a> nom <span class="sy0">=</span> request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;nom&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw4">int</span> hores <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span class="kw3">Integer</span></a>.<span class="me1">valueOf</span><span class="br0">&#40;</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;hores&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<span class="kw4">int</span> credits <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+integer"><span class="kw3">Integer</span></a>.<span class="me1">valueOf</span><span class="br0">&#40;</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;credits&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">		<a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+boolean"><span class="kw3">Boolean</span></a> disponible <span class="sy0">=</span> <a href="http://www.google.com/search?hl=en&amp;q=allinurl%3Adocs.oracle.com+javase+docs+api+boolean"><span class="kw3">Boolean</span></a>.<span class="me1">valueOf</span><span class="br0">&#40;</span>request.<span class="me1">getParameter</span><span class="br0">&#40;</span><span class="st0">&quot;disponible&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Creació d'una nova instància amb les dades de l'assignatura</span></div></li><li class="li1"><div class="de1">		Assignatura assignatura <span class="sy0">=</span> <span class="kw1">new</span> Assignatura<span class="br0">&#40;</span>id, nom, hores, credits, disponible.<span class="me1">booleanValue</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Guarda a sessió la informació de la nova assignatura</span></div></li><li class="li1"><div class="de1">		assignaturaDB.<span class="me1">guardarAssignatura</span><span class="br0">&#40;</span>assignatura, session<span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">		<span class="co1">//Redirecció a la pàgina de llistat d'assignatures.</span></div></li><li class="li1"><div class="de1">		response.<span class="me1">sendRedirect</span><span class="br0">&#40;</span>request.<span class="me1">getContextPath</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot;/assignaturaLlistat&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></li><li class="li1"><div class="de1">	<span class="br0">&#125;</span></div></li><li class="li1"><div class="de1"><span class="br0">&#125;</span></div></li></ol></pre>

<p>
<strong>Creació del <em>servlet</em> <code>AssignaturaLlistat</code></strong>
</p>

<p>
Aquest <em>servlet</em> implementa el mètode <code>doGet</code> i obté, del simulador de la base dades (AssignaturaDB), el llistat d’assignatures que s’haurà de mostrar en el navegador, tot indicant al navegador que mostri la pàgina assignaturaLlistat.jsp.
</p>

<p>
Podeu reaprofitar el codi de l’activitat anterior.
</p>

<p>
<strong>Actualització del fitxer <em>web.xml</em></strong>
</p>

<p>
S’actualitza el descriptor de desplegament per registrar els <em>servlets</em> amb el contenidor. A continuació, es mostra el seu codi.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;?xml <span class="kw3">version</span><span class="sy0">=</span><span class="st0">&quot;1.0&quot;</span> encoding<span class="sy0">=</span><span class="st0">&quot;UTF-8&quot;</span>?&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;web-app xmlns:xsi<span class="sy0">=</span><span class="st0">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> xmlns<span class="sy0">=</span><span class="st0">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span> xmlns:web<span class="sy0">=</span><span class="st0">&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;</span> xsi:schemaLocation<span class="sy0">=</span><span class="st0">&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span> <span class="kw3">version</span><span class="sy0">=</span><span class="st0">&quot;2.4&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;servlet&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-name&gt;</span>AssignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-class&gt;</span>ioc.desenvolupament.programari.servlets.AssignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>servlet-class&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span>servlet&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-name&gt;</span>AssignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;url-pattern&gt;</span>/assignaturaLlistat<span class="sc2">&lt;<span class="sy0">/</span>url-pattern&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span>servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;servlet&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-name&gt;</span>AssignaturaEdicio<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-class&gt;</span>ioc.desenvolupament.programari.servlets.AssignaturaEdicio<span class="sc2">&lt;<span class="sy0">/</span>servlet-class&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span>servlet&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;servlet-name&gt;</span>AssignaturaEdicio<span class="sc2">&lt;<span class="sy0">/</span>servlet-name&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;url-pattern&gt;</span>/assignaturaEditar<span class="sc2">&lt;<span class="sy0">/</span>url-pattern&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span>servlet-mapping&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span>web-app&gt;</span></div></li></ol></pre>

<p>
<strong>Creació de la pàgina default.jsp</strong>
</p>

<p>
Pàgina inicial de la web que es demana. La pàgina conté un iframe, identificat com workingTable, on s’anirà carregant el contingut dinàmic.
</p>

<p>
Podeu reaprofitar el codi de l’anterior activitat.
</p>

<p>
<strong>Creació de la pàgina assignaturaLlistat.jsp</strong>
</p>

<p>
Pàgina que mostra en format de taula el llistat d’assignatures que ha estat proporcionat pel <em>servlet</em>.
</p>

<p>
Des d’aquesta pàgina es podran dur a terme les crides a les operacions de creació, edició i eliminació.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;%@ page <span class="kw3">language</span><span class="sy0">=</span><span class="st0">&quot;java&quot;</span> import<span class="sy0">=</span><span class="st0">&quot;java.util.*&quot;</span> %&gt;</span></div></li><li class="li1"><div class="de1"><span class="sc2">&lt;%@ page import<span class="sy0">=</span><span class="st0">&quot;ioc.desenvolupament.programari.*&quot;</span> %&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span>Llistat d'assignatures<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a> <span class="kw3">border</span><span class="sy0">=</span><span class="st0">&quot;0&quot;</span> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span> <span class="kw3">valign</span><span class="sy0">=</span><span class="st0">&quot;middle&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">&quot;150px&quot;</span>&gt;</span>Nom <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Hores<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Crèdits<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Disponible<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Editar<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">      <span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>Eliminar<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">    <span class="sc2">&lt;%</span></div></li><li class="li1"><div class="de1"><span class="sc2">      Collection colleccioAssignatures <span class="sy0">=</span> <span class="br0">&#40;</span>Collection<span class="br0">&#41;</span>request.getAttribute<span class="br0">&#40;</span><span class="st0">&quot;assignatures&quot;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">      <span class="kw3">for</span> <span class="br0">&#40;</span>Iterator iter <span class="sy0">=</span> colleccioAssignatures.iterator<span class="br0">&#40;</span><span class="br0">&#41;</span>; iter.hasNext<span class="br0">&#40;</span><span class="br0">&#41;</span>;<span class="br0">&#41;</span> <span class="br0">&#123;</span></span></div></li><li class="li1"><div class="de1"><span class="sc2">        Assignatura element <span class="sy0">=</span> <span class="br0">&#40;</span>Assignatura<span class="br0">&#41;</span> iter.next<span class="br0">&#40;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1"><span class="sc2">        out.println<span class="br0">&#40;</span><span class="st0">&quot;&lt;tr&gt;</span></span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot; + element.getNom() + &quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot; + element.getHores() + &quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot; + element.getCredits() + &quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        if(element.getDisponible())</div></li><li class="li1"><div class="de1">          out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span>\<span class="st0">&quot;checkbox\&quot;</span> <span class="kw3">name</span><span class="sy0">=</span>\<span class="st0">&quot;disponible\&quot;</span> <span class="kw3">value</span><span class="sy0">=</span>\<span class="st0">&quot;true\&quot;</span> <span class="kw3">disabled</span> checked&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        else</div></li><li class="li1"><div class="de1">          out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span>\<span class="st0">&quot;checkbox\&quot;</span> <span class="kw3">name</span><span class="sy0">=</span>\<span class="st0">&quot;disponible\&quot;</span> <span class="kw3">value</span><span class="sy0">=</span>\<span class="st0">&quot;true\&quot;</span> disabled&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span>\<span class="st0">&quot;#\&quot;</span> <span class="kw3">onClick</span><span class="sy0">=</span>\<span class="st0">&quot;parent.document.getElementById('workingTable').src='assignaturaEditar?do=editar&amp;id=&quot;</span>   </span></div></li><li class="li1"><div class="de1"><span class="sc2">            + element.getId<span class="br0">&#40;</span><span class="br0">&#41;</span> + <span class="st0">&quot;';\&quot;</span>&gt;</span> <span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span>\<span class="st0">&quot;&quot;</span> + request.getContextPath<span class="br0">&#40;</span><span class="br0">&#41;</span> + <span class="st0">&quot;/img/iconoEditar.png\&quot;</span> <span class="kw3">alt</span><span class="sy0">=</span>\<span class="st0">&quot;editar\&quot;</span> <span class="sy0">/</span>&gt;</span> <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span>\<span class="st0">&quot;#\&quot;</span> <span class="kw3">onClick</span><span class="sy0">=</span>\<span class="st0">&quot;parent.document.getElementById('workingTable').src='assignaturaEditar?do=eliminar&amp;id=&quot;</span> </span></div></li><li class="li1"><div class="de1"><span class="sc2">            + element.getId<span class="br0">&#40;</span><span class="br0">&#41;</span> + <span class="st0">&quot;';\&quot;</span>&gt;</span> <span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span>\<span class="st0">&quot;&quot;</span> + request.getContextPath<span class="br0">&#40;</span><span class="br0">&#41;</span> + <span class="st0">&quot;/img/iconoEliminar.gif\&quot;</span> <span class="kw3">alt</span><span class="sy0">=</span>\<span class="st0">&quot;eliminar\&quot;</span> <span class="sy0">/</span>&gt;</span> <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">        out.println(&quot;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>&quot;);</div></li><li class="li1"><div class="de1">      }</div></li><li class="li1"><div class="de1">    %&gt;</div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;#&quot;</span> <span class="kw3">onClick</span><span class="sy0">=</span><span class="st0">&quot;parent.document.getElementById('workingTable').src='assignaturaEditar?do=crear';&quot;</span>&gt;</span>Crear una nova assignatura<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li></ol></pre>

<p>
<strong>Creació de la pàgina assignaturaCrear.jsp</strong>
</p>

<p>
Pàgina que mostra els camps: nom de l’assignatura, hores, crèdits i disponibilitat en buit.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  	<span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span>Creació de l'assignatura<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;edicio&quot;</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;assignaturaEditar&quot;</span> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;post&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">&quot;100px&quot;</span>&gt;</span>Nom:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>		</div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>		</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span>Hores:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>	</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;hores&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>		</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span>Crèdits:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>	</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;credits&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span>Disponible:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;checkbox&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;disponible&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;true&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>	</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;btnGuardar&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Guardar&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li></ol></pre>

<p>
<strong>Creació de la pàgina assignaturaEditar.jsp</strong>
</p>

<p>
Pàgina que mostra els camps: nom de l’assignatura, hores, crèdits i disponibilitat del contingut de l’assignatura seleccionada.
</p>
<pre class="code html4strict"><ol><li class="li1"><div class="de1"><span class="sc2">&lt;%@ page import<span class="sy0">=</span><span class="st0">&quot;ioc.desenvolupament.programari.*&quot;</span> %&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">align</span><span class="sy0">=</span><span class="st0">&quot;center&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">   <span class="sc2">&lt;%</span></div></li><li class="li1"><div class="de1"><span class="sc2">    	<span class="sy0">//</span>get the book <span class="kw3">object</span> from the request</span></div></li><li class="li1"><div class="de1"><span class="sc2">    	Assignatura assignatura <span class="sy0">=</span> <span class="br0">&#40;</span>Assignatura<span class="br0">&#41;</span>request.getAttribute<span class="br0">&#40;</span><span class="st0">&quot;assignatura&quot;</span><span class="br0">&#41;</span>;</span></div></li><li class="li1"><div class="de1"><span class="sc2">    %&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">  	<span class="sc2">&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;</span></div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span>Edició de l'assignatura<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/h3.html"><span class="kw2">h3</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;edicio&quot;</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;assignaturaEditar&quot;</span> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">&quot;post&quot;</span>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span> <span class="kw3">width</span><span class="sy0">=</span><span class="st0">&quot;100px&quot;</span>&gt;</span>Nom:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nom&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&lt;%=assignatura.getNom()%&gt;</span></span>&quot;&gt;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>		</div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>		</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span>Hores:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>	</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;hores&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&lt;%=assignatura.getHores()%&gt;</span></span>&quot;&gt;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>		</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span>Crèdits:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span>	</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;credits&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&lt;%=assignatura.getCredits()%&gt;</span></span>&quot;&gt;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;background:#e9e7e7&quot;</span>&gt;</span>Disponible:<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;checkbox&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;disponible&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;true&quot;</span> &lt;%if<span class="br0">&#40;</span>assignatura.getDisponible<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> out.println<span class="br0">&#40;</span><span class="st0">&quot;checked&quot;</span><span class="br0">&#41;</span>;%&gt;</span>&gt;<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span>	</div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">				<span class="sc2">&lt;<a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span class="kw2">br</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;btnGuardar&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;Guardar&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/td.html"><span class="kw2">td</span></a>&gt;</span></div></li><li class="li1"><div class="de1">			<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/tr.html"><span class="kw2">tr</span></a>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/table.html"><span class="kw2">table</span></a>&gt;</span></div></li><li class="li1"><div class="de1">		<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;hidden&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;id&quot;</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">&quot;&lt;%=assignatura.getId()%&gt;</span></span>&quot;&gt;</div></li><li class="li1"><div class="de1">	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></div></li><li class="li1"><div class="de1">&nbsp;</div></li><li class="li1"><div class="de1"><span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></div></li></ol></pre>

<p>
<strong>Estructura del projecte</strong>
</p>

<p>
L’estructura resultant del projecte podria ser la que es mostra a la figura següent.
</p>

<p>
<div class="imgelem">
<img src="../media/activitat_4_u1a2_figura_28.png" alt="" /></div>

</p>
</div><input class="btn_solution3" type="button" value="Mostra"></input></form>
</p>

</div>

	 </article>
     <div class="pnpage">
      <div class="left-corner"></div>
      <div id="prevpage">Anar a la p&agrave;gina anterior:<br /><a href="../../../WebContent/u1/a2/continguts.html">Instal·lació i ús d'entorns de desenvolupament</a></div>
      <div id="nextpage">Anar a la p&agrave;gina seg&uuml;ent:<br /><a href="../../../WebContent/u1/a2/exercicis.html">Exercicis</a></div>
      <div class="right-corner"></div>
     </div>
    </div>
    <footer class="footer">
      <div><small>Aquest document està subjecte a una llicència oberta de Creative Commons, es reserva el dret de reconeixement de l'autoria, d'exigir que no se'n faci cap mena d'ús comercial. Si altereu o transformeu aquesta obra, o en genereu obres derivades, només podeu distribuir l'obra generada amb una llicència idèntica a aquesta.</small></div>
    </footer>
 </div>
 <div id="back_preview" class="hidden"></div>
 <div id="preview" class="hidden">
  <div class="prevcontent"></div>
 </div>
 <div id="help-tooltips">
  <div id="help-toc" class="hidden tooltip"><span>Taula de continguts:</span> Ofereix una vista general de l&#39;estructura del m&ograve;dul, que us facilitar&agrave; la navegaci&oacute; a trav&eacute;s dels seus continguts.<span class="arrow-left"></span></div> 
  <div id="help-settings" class="hidden tooltip"><span>Opcions de format:</span> Permet configurar el format de lectura a partir de les vostres prefer&egrave;ncies, modificant la mida de la lletra, el color del fons, l&#39;amplada de la p&agrave;gina o l&#39;ocultaci&oacute; dels continguts complementaris, entre d&#39;altres.<span class="arrow-left"></span></div>
  <div id="help-printer" class="hidden tooltip"><span>Imprimir:</span>  Envia el contingut seleccionat a la impressora.<span class="arrow-left"></span></div>
  <div id="help-favorites" class="hidden tooltip"><span>Prefereits:</span> Permet desar aquelles parts del contingut a les que us interessi accedir en un moment posterior; us permetr&agrave; anar creant un repositori personalitzat de les seccions que considereu m&eacute;s rellevants. Un cop l&#39;hageu començat a fer servir se us mostrar&agrave; a sota un comptador que us informar&agrave; del nombre de preferits que s&#39;hagin emmagatzemat fins al moment.<span class="arrow-left"></span></div>
  <div id="help-favcounter" class="hidden tooltip"><span>Comptador i llistat de preferits:</span> Indica el nombre de preferits que s&#39;han desat fins el moment; clicant damunt seu accedireu al llistat de preferits, i a trav&eacute;s d&#39;aquest podreu accedir directament als continguts que hageu emmagatzemat.<span class="arrow-left"></span></div>
  <div id="help-help_icon" class="hidden tooltip"><span>Ajuda:</span> Aquesta opci&oacute; activa la informaci&oacute; de les funcionalitats del web tot situant el punter del ratol&iacute; al damunt dels diferents &iacute;tems.<span class="arrow-left"></span></div>
  <div id="help-sidebar-hide" class="hidden tooltip"><span>Mostrar/Ocultar barra lateral:</span>  Deshabilita la barra d&#39;opcions, permetent la seva recuperaci&oacute; quan es desitgi.<span class="arrow-left"></span></div>
  <div id="help-search" class="hidden tooltip"><span>Cerca:</span>  Introdu&iuml;u les paraules clau sobre aquells conceptes que desitgeu localitzar en els continguts del m&ograve;dul. Tamb&eacute; podeu excloure un terme de la cerca tot afegint-hi el signe &#8220;-&#8221; al davant.<span class="arrow-top"></span></div>
  <div id="help-header" class="hidden tooltip"><span>Cap&ccedil;alera:</span>  Indica l&#39;apartat o secci&oacute; que es mostra en pantalla. Tingueu present que les capçaleres de segon, tercer i quart nivell tamb&eacute; es poden desar com a marcadors.<span class="arrow-left"></span></div>
</div> 
</body>
</html>
